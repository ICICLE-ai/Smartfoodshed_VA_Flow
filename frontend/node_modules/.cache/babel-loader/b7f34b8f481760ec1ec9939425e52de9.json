{"remainingRequest":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/js/Neo4jD3.js","dependencies":[{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/js/Neo4jD3.js","mtime":1666790787303},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1660324544800},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660324545335},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661232574882}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUubm93LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMvcWl1cnVpL0Rlc2t0b3AvSUNJQ0xFL25ld19ndWlfMjAyMi9TbWFydGZvb2RzaGVkX1ZBX0Zsb3cvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwoKLyogZ2xvYmFsIGQzLCBkb2N1bWVudCAqLwoKLyoganNoaW50IGxhdGVkZWY6bm9mdW5jICovCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKCmZ1bmN0aW9uIE5lbzRqRDMoX3NlbGVjdG9yLCBfb3B0aW9ucykgewogIHZhciBjb250YWluZXIsCiAgICAgIGdyYXBoLAogICAgICBpbmZvLAogICAgICBub2RlLAogICAgICBub2RlcywKICAgICAgcmVsYXRpb25zaGlwLAogICAgICByZWxhdGlvbnNoaXBPdXRsaW5lLAogICAgICByZWxhdGlvbnNoaXBPdmVybGF5LAogICAgICByZWxhdGlvbnNoaXBUZXh0LAogICAgICByZWxhdGlvbnNoaXBzLAogICAgICBzZWxlY3RvciwKICAgICAgc2ltdWxhdGlvbiwKICAgICAgc3ZnLAogICAgICBzdmdOb2RlcywKICAgICAgc3ZnUmVsYXRpb25zaGlwcywKICAgICAgc3ZnU2NhbGUsCiAgICAgIHN2Z1RyYW5zbGF0ZSwKICAgICAgY2xhc3NlczJjb2xvcnMgPSB7fSwKICAgICAganVzdExvYWRlZCA9IGZhbHNlLAogICAgICBudW1DbGFzc2VzID0gMCwKICAgICAgb3B0aW9ucyA9IHsKICAgIGFycm93U2l6ZTogNCwKICAgIGNvbG9yczogY29sb3JzKCksCiAgICBoaWdobGlnaHQ6IHVuZGVmaW5lZCwKICAgIGljb25NYXA6IGZvbnRBd2Vzb21lSWNvbnMoKSwKICAgIGljb25zOiB1bmRlZmluZWQsCiAgICBpbWFnZU1hcDoge30sCiAgICBpbWFnZXM6IHVuZGVmaW5lZCwKICAgIGluZm9QYW5lbDogdHJ1ZSwKICAgIG1pbkNvbGxpc2lvbjogdW5kZWZpbmVkLAogICAgbmVvNGpEYXRhOiB1bmRlZmluZWQsCiAgICBuZW80akRhdGFVcmw6IHVuZGVmaW5lZCwKICAgIG5vZGVPdXRsaW5lRmlsbENvbG9yOiB1bmRlZmluZWQsCiAgICBub2RlUmFkaXVzOiAyNSwKICAgIHJlbGF0aW9uc2hpcENvbG9yOiAnI2E1YWJiNicsCiAgICB6b29tRml0OiBmYWxzZQogIH0sCiAgICAgIFZFUlNJT04gPSAnMC4wLjEnOwoKICBmdW5jdGlvbiBhcHBlbmRHcmFwaChjb250YWluZXIpIHsKICAgIHN2ZyA9IGNvbnRhaW5lci5hcHBlbmQoJ3N2ZycpLmF0dHIoJ3dpZHRoJywgJzEwMCUnKS5hdHRyKCdoZWlnaHQnLCAnMTAwJScpLmF0dHIoJ2NsYXNzJywgJ25lbzRqZDMtZ3JhcGgnKS5vbignZGJsY2xpY2suem9vbScsIG51bGwpLmFwcGVuZCgnZycpLmF0dHIoJ3dpZHRoJywgJzEwMCUnKS5hdHRyKCdoZWlnaHQnLCAnMTAwJScpOwogICAgc3ZnUmVsYXRpb25zaGlwcyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdyZWxhdGlvbnNoaXBzJyk7CiAgICBzdmdOb2RlcyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdub2RlcycpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kSW1hZ2VUb05vZGUobm9kZSkgewogICAgcmV0dXJuIG5vZGUuYXBwZW5kKCdpbWFnZScpLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBpY29uKGQpID8gJzI0cHgnIDogJzMwcHgnOwogICAgfSkuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBpY29uKGQpID8gJzVweCcgOiAnLTE1cHgnOwogICAgfSkuYXR0cigneGxpbms6aHJlZicsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBpbWFnZShkKTsKICAgIH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/ICc1cHgnIDogJy0xNnB4JzsKICAgIH0pLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGljb24oZCkgPyAnMjRweCcgOiAnMzBweCc7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZEluZm9QYW5lbChjb250YWluZXIpIHsKICAgIHJldHVybiBjb250YWluZXIuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICduZW80amQzLWluZm8nKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZEluZm9FbGVtZW50KGNscywgaXNOb2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHsKICAgIHZhciBlbGVtID0gaW5mby5hcHBlbmQoJ2EnKTsKICAgIGVsZW0uYXR0cignaHJlZicsICcjJykuYXR0cignY2xhc3MnLCBjbHMpLmh0bWwoJzxzdHJvbmc+JyArIHByb3BlcnR5ICsgJzwvc3Ryb25nPicgKyAodmFsdWUgPyAnOiAnICsgdmFsdWUgOiAnJykpOwoKICAgIGlmICghdmFsdWUpIHsKICAgICAgZWxlbS5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgPyBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yIDogaXNOb2RlID8gY2xhc3MyY29sb3IocHJvcGVydHkpIDogZGVmYXVsdENvbG9yKCk7CiAgICAgIH0pLnN0eWxlKCdib3JkZXItY29sb3InLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yID8gY2xhc3MyZGFya2VuQ29sb3Iob3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvcikgOiBpc05vZGUgPyBjbGFzczJkYXJrZW5Db2xvcihwcm9wZXJ0eSkgOiBkZWZhdWx0RGFya2VuQ29sb3IoKTsKICAgICAgfSkuc3R5bGUoJ2NvbG9yJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gb3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvciA/IGNsYXNzMmRhcmtlbkNvbG9yKG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IpIDogJyNmZmYnOwogICAgICB9KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGFwcGVuZEluZm9FbGVtZW50Q2xhc3MoY2xzLCBub2RlKSB7CiAgICBhcHBlbmRJbmZvRWxlbWVudChjbHMsIHRydWUsIG5vZGUpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kSW5mb0VsZW1lbnRQcm9wZXJ0eShjbHMsIHByb3BlcnR5LCB2YWx1ZSkgewogICAgYXBwZW5kSW5mb0VsZW1lbnQoY2xzLCBmYWxzZSwgcHJvcGVydHksIHZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZEluZm9FbGVtZW50UmVsYXRpb25zaGlwKGNscywgcmVsYXRpb25zaGlwKSB7CiAgICBhcHBlbmRJbmZvRWxlbWVudChjbHMsIGZhbHNlLCByZWxhdGlvbnNoaXApOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kTm9kZSgpIHsKICAgIC8vIGV4aXN0IHJlbW92ZWQgbm9kZXMKICAgIG5vZGUuZXhpdCgpLnJlbW92ZSgpOwogICAgcmV0dXJuIG5vZGUuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBoaWdobGlnaHQsCiAgICAgICAgICBpLAogICAgICAgICAgY2xhc3NlcyA9ICdub2RlJywKICAgICAgICAgIGxhYmVsID0gZC5sYWJlbHNbMF07CgogICAgICBpZiAoaWNvbihkKSkgewogICAgICAgIGNsYXNzZXMgKz0gJyBub2RlLWljb24nOwogICAgICB9CgogICAgICBpZiAoaW1hZ2UoZCkpIHsKICAgICAgICBjbGFzc2VzICs9ICcgbm9kZS1pbWFnZSc7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLmhpZ2hsaWdodCkgewogICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHRpb25zLmhpZ2hsaWdodC5sZW5ndGg7IGkrKykgewogICAgICAgICAgaGlnaGxpZ2h0ID0gb3B0aW9ucy5oaWdobGlnaHRbaV07CgogICAgICAgICAgaWYgKGQubGFiZWxzWzBdID09PSBoaWdobGlnaHRbImNsYXNzIl0gJiYgZC5wcm9wZXJ0aWVzW2hpZ2hsaWdodC5wcm9wZXJ0eV0gPT09IGhpZ2hsaWdodC52YWx1ZSkgewogICAgICAgICAgICBjbGFzc2VzICs9ICcgbm9kZS1oaWdobGlnaHRlZCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGNsYXNzZXM7CiAgICB9KS5hdHRyKCdpZCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAibm9kZS0iLmNvbmNhdChkLmlkKTsKICAgIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIGQuZnggPSBkLmZ5ID0gbnVsbDsKCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk5vZGVDbGljayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG9wdGlvbnMub25Ob2RlQ2xpY2soZCwgaSk7CiAgICAgIH0KICAgIH0pLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHN0aWNrTm9kZShkKTsKCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk5vZGVEb3VibGVDbGljayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG9wdGlvbnMub25Ob2RlRG91YmxlQ2xpY2soZCk7CiAgICAgIH0KICAgIH0pLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGQpIHsKICAgICAgaWYgKGluZm8pIHsKICAgICAgICB1cGRhdGVJbmZvKGQpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlTW91c2VFbnRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG9wdGlvbnMub25Ob2RlTW91c2VFbnRlcihkKTsKICAgICAgfQogICAgfSkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZCkgewogICAgICBpZiAoaW5mbykgewogICAgICAgIGNsZWFySW5mbyhkKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uTm9kZU1vdXNlTGVhdmUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZU1vdXNlTGVhdmUoZCk7CiAgICAgIH0KICAgIH0pLmNhbGwoZDMuZHJhZygpLm9uKCdzdGFydCcsIGRyYWdTdGFydGVkKS5vbignZHJhZycsIGRyYWdnZWQpLm9uKCdlbmQnLCBkcmFnRW5kZWQpKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZE5vZGVUb0dyYXBoKCkgewogICAgdmFyIG4gPSBhcHBlbmROb2RlKCk7CiAgICBhcHBlbmRSaW5nVG9Ob2RlKG4pOwogICAgYXBwZW5kT3V0bGluZVRvTm9kZShuKTsKICAgIGFwcGVuZExhYmVsdG9Ob2RlKG4pOwoKICAgIGlmIChvcHRpb25zLmljb25zKSB7CiAgICAgIGFwcGVuZFRleHRUb05vZGUobik7CiAgICB9CgogICAgaWYgKG9wdGlvbnMuaW1hZ2VzKSB7CiAgICAgIGFwcGVuZEltYWdlVG9Ob2RlKG4pOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kTGFiZWx0b05vZGUobm9kZSkgewogICAgbm9kZS5lYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgIC8vIGxldCBtYXBwaW5nID0gZFsncHJvcGVydGllcyddWydtYXBwaW5nJ10KICAgICAgdmFyIHRleHRfbm9kZXMgPSBkWydpZCddOwogICAgICB2YXIgc2VsZWN0aW9uID0gZDMuc2VsZWN0KHRoaXMpOwogICAgICBzZWxlY3Rpb24uYXBwZW5kKCd0ZXh0JykuYXR0cigneCcsICcwJykuYXR0cigneScsICcwJykuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMHB4Jykuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLnN0eWxlKCdmaWxsJywgJ3doaXRlJykuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKS5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpLnRleHQodGV4dF9ub2Rlcyk7CiAgICB9KTsgLy8gY29uc3QgdGV4dF9ub2RlcyA9IHRleHREaXNwbGF5KCkKICB9CgogIGZ1bmN0aW9uIHRleHREaXNwbGF5KHRleHQpIHsKICAgIHZhciB0aHJlc2hvbGQgPSA5OwogICAgdmFyIHJlcyA9IFtdOwoKICAgIGlmICh0ZXh0KSB7CiAgICAgIHZhciB0ZXh0X3Rva2VucyA9IHRleHQuc3BsaXQoJyAnKTsKICAgICAgdmFyIHRtcCA9ICcnOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRleHRfdG9rZW5zKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHRva2VuID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKHJlcy5sZW5ndGggPCAyKSB7CiAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoID4gdGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgcmVzLnB1c2godG9rZW4uc2xpY2UoMCwgOSkgKyAnLi4nKTsKICAgICAgICAgICAgICB0bXAgPSAnJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRtcC5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgIGlmICh0b2tlbi5sZW5ndGggPD0gdGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgICB0bXAgKz0gdG9rZW47CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRva2VuLnNsaWNlKDAsIDkpICsgJy4uJyk7CiAgICAgICAgICAgICAgICB0bXAgPSAnJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRtcC5sZW5ndGggKyAxICsgdG9rZW4ubGVuZ3RoIDw9IHRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgdG1wICs9ICcgJyArIHRva2VuOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXMucHVzaCh0bXApOwogICAgICAgICAgICAgICAgdG1wID0gdG9rZW47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodG1wLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgaWYgKHRva2VuLmxlbmd0aCA8PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgIHRtcCArPSB0b2tlbjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVzLnB1c2godG9rZW4uc2xpY2UoMCwgOSkgKyAnLi4nKTsKICAgICAgICAgICAgICAgIHRtcCA9ICcnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodG1wLmxlbmd0aCArIDEgKyB0b2tlbi5sZW5ndGggPD0gdGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgICB0bXAgKz0gJyAnICsgdG9rZW47CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICB0bXAgPSB0b2tlbjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICBpZiAodG1wLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAodG1wLmxlbmd0aCA+IHRocmVzaG9sZCkgewogICAgICAgICAgcmVzLnB1c2godG1wLnNsaWNlKDAsIDgpICsgJy4uJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlcy5wdXNoKHRtcCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXMgPSBbJ05vbmUnXTsKICAgIH0KCiAgICByZXR1cm4gcmVzOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kT3V0bGluZVRvTm9kZShub2RlKSB7CiAgICByZXR1cm4gbm9kZS5hcHBlbmQoJ2NpcmNsZScpLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuICJvdXRsaW5lIG5vZGV0eXBlXyIuY29uY2F0KGQucHJvcGVydGllcy5lbnRpdHlfdHlwZSA/IGQucHJvcGVydGllcy5lbnRpdHlfdHlwZSA6ICd1bmRlZmluZWQnKTsKICAgIH0pLmF0dHIoJ3InLCBvcHRpb25zLm5vZGVSYWRpdXMpLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuY29sb3I7IC8vIHJldHVybiAnIzc4YjNkMCcKICAgICAgLy8gICAgcmV0dXJuIG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgPyBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yIDogY2xhc3MyY29sb3IoZC5sYWJlbHNbMF0pOwogICAgfSkuc3R5bGUoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7CiAgICAgIC8vIHJldHVybiAnIzM1OGViOCcKICAgICAgcmV0dXJuIGRbJ3N0cm9rZV9jb2xvciddOyAvLyAgICByZXR1cm4gb3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvciA/IGNsYXNzMmRhcmtlbkNvbG9yKG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IpIDogY2xhc3MyZGFya2VuQ29sb3IoZC5sYWJlbHNbMF0pOwogICAgfSkuYXBwZW5kKCd0aXRsZScpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ3RlZWVlZScsIGQpCiAgICAgIHJldHVybiBkLnByb3BlcnRpZXMubGFiZWw7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFJpbmdUb05vZGUobm9kZSkgewogICAgcmV0dXJuIG5vZGUuYXBwZW5kKCdjaXJjbGUnKS5hdHRyKCdjbGFzcycsICdyaW5nJykuYXR0cigncicsIG9wdGlvbnMubm9kZVJhZGl1cyAqIDEuMTYpOyAvLyAuYXBwZW5kKCd0aXRsZScpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgIC8vICAgcmV0dXJuIHRvU3RyaW5nKGQubGFiZWwpCiAgICAvLyB9KQogIH0KCiAgZnVuY3Rpb24gYXBwZW5kVGV4dFRvTm9kZShub2RlKSB7CiAgICByZXR1cm4gbm9kZS5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAndGV4dCcgKyAoaWNvbihkKSA/ICcgaWNvbicgOiAnJyk7CiAgICB9KS5hdHRyKCdzdHJva2UnLCAnd2hpdGUnKS5hdHRyKCdmb250LXNpemUnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/IG9wdGlvbnMubm9kZVJhZGl1cyArICdweCcgOiAnMTBweCc7CiAgICB9KS5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/IHBhcnNlSW50KE1hdGgucm91bmQob3B0aW9ucy5ub2RlUmFkaXVzICogMC4zMikpICsgJ3B4JyA6ICc0cHgnOwogICAgfSkuaHRtbChmdW5jdGlvbiAoZCkgewogICAgICB2YXIgX2ljb24gPSBpY29uKGQpOwoKICAgICAgcmV0dXJuIF9pY29uID8gJyYjeCcgKyBfaWNvbiA6IGQuaWQ7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFJhbmRvbURhdGFUb05vZGUoZCwgbWF4Tm9kZXNUb0dlbmVyYXRlKSB7CiAgICB2YXIgZGF0YSA9IHJhbmRvbUQzRGF0YShkLCBtYXhOb2Rlc1RvR2VuZXJhdGUpOwogICAgdXBkYXRlV2l0aE5lbzRqRGF0YShkYXRhKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFJlbGF0aW9uc2hpcCgpIHsKICAgIC8vIGV4aXN0IHJlbW92ZWQgcmVsYXRpb25zaGlwcwogICAgcmVsYXRpb25zaGlwLmV4aXQoKS5yZW1vdmUoKTsKICAgIHJldHVybiByZWxhdGlvbnNoaXAuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdyZWxhdGlvbnNoaXAnKS5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkgewogICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25SZWxhdGlvbnNoaXBEb3VibGVDbGljayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG9wdGlvbnMub25SZWxhdGlvbnNoaXBEb3VibGVDbGljayhkKTsKICAgICAgfQogICAgfSkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoZCkgewogICAgICBpZiAoaW5mbykgewogICAgICAgIHVwZGF0ZUluZm8oZCk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kT3V0bGluZVRvUmVsYXRpb25zaGlwKHIpIHsKICAgIHJldHVybiByLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuICJvdXRsaW5lIG5vZGV0eXBlXyIuY29uY2F0KGQucHJvcGVydGllcy5yZWxhdGlvbnNoaXBfdHlwZSA/IGQucHJvcGVydGllcy5yZWxhdGlvbnNoaXBfdHlwZSA6ICd1bmRlZmluZWQnKTsKICAgIH0pLmF0dHIoJ2ZpbGwnLCAnI2E1YWJiNicpLmF0dHIoJ3N0cm9rZScsICdub25lJyk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRPdmVybGF5VG9SZWxhdGlvbnNoaXAocikgewogICAgcmV0dXJuIHIuYXBwZW5kKCdwYXRoJykuYXR0cignY2xhc3MnLCAnb3ZlcmxheScpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kVGV4dFRvUmVsYXRpb25zaGlwKHIpIHsKICAgIHJldHVybiByLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgJ3RleHQnKS5hdHRyKCdmaWxsJywgJyMwMDAwMDAnKS5hdHRyKCdmb250LXNpemUnLCAnMTBweCcpLmF0dHIoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS5hdHRyKCdjb2xvcicsICd3aGl0ZScpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgLy8gY29uc29sZS5sb2coZCkKICAgICAgdmFyIG1hcHBpbmcgPSBkWydwcm9wZXJ0aWVzJ11bJ21hcHBpbmcnXTsKICAgICAgcmV0dXJuIGRbJ3Byb3BlcnRpZXMnXVttYXBwaW5nXTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kUmVsYXRpb25zaGlwVG9HcmFwaCgpIHsKICAgIHZhciByZWxhdGlvbnNoaXAgPSBhcHBlbmRSZWxhdGlvbnNoaXAoKSwKICAgICAgICB0ZXh0ID0gYXBwZW5kVGV4dFRvUmVsYXRpb25zaGlwKHJlbGF0aW9uc2hpcCksCiAgICAgICAgb3V0bGluZSA9IGFwcGVuZE91dGxpbmVUb1JlbGF0aW9uc2hpcChyZWxhdGlvbnNoaXApLAogICAgICAgIG92ZXJsYXkgPSBhcHBlbmRPdmVybGF5VG9SZWxhdGlvbnNoaXAocmVsYXRpb25zaGlwKTsKICAgIHJldHVybiB7CiAgICAgIG91dGxpbmU6IG91dGxpbmUsCiAgICAgIG92ZXJsYXk6IG92ZXJsYXksCiAgICAgIHJlbGF0aW9uc2hpcDogcmVsYXRpb25zaGlwLAogICAgICB0ZXh0OiB0ZXh0CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gY2xhc3MyY29sb3IoY2xzKSB7CiAgICB2YXIgY29sb3IgPSBjbGFzc2VzMmNvbG9yc1tjbHNdOwoKICAgIGlmICghY29sb3IpIHsKICAgICAgLy8gICAgICAgICAgICBjb2xvciA9IG9wdGlvbnMuY29sb3JzW01hdGgubWluKG51bUNsYXNzZXMsIG9wdGlvbnMuY29sb3JzLmxlbmd0aCAtIDEpXTsKICAgICAgY29sb3IgPSBvcHRpb25zLmNvbG9yc1tudW1DbGFzc2VzICUgb3B0aW9ucy5jb2xvcnMubGVuZ3RoXTsKICAgICAgY2xhc3NlczJjb2xvcnNbY2xzXSA9IGNvbG9yOwogICAgICBudW1DbGFzc2VzKys7CiAgICB9CgogICAgcmV0dXJuIGNvbG9yOwogIH0KCiAgZnVuY3Rpb24gY2xhc3MyZGFya2VuQ29sb3IoY2xzKSB7CiAgICByZXR1cm4gZDMucmdiKGNsYXNzMmNvbG9yKGNscykpLmRhcmtlcigxKTsKICB9CgogIGZ1bmN0aW9uIGNsZWFySW5mbygpIHsKICAgIGluZm8uaHRtbCgnJyk7CiAgfQoKICBmdW5jdGlvbiBjb2xvcigpIHsKICAgIHJldHVybiBvcHRpb25zLmNvbG9yc1tvcHRpb25zLmNvbG9ycy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpIDw8IDBdOwogIH0KCiAgZnVuY3Rpb24gY29sb3JzKCkgewogICAgLy8gZDMuc2NoZW1lQ2F0ZWdvcnkxMCwKICAgIC8vIGQzLnNjaGVtZUNhdGVnb3J5MjAsCiAgICByZXR1cm4gWycjNjhiZGY2JywgLy8gbGlnaHQgYmx1ZQogICAgJyM2ZGNlOWUnLCAvLyBncmVlbiAjMQogICAgJyNmYWFmYzInLCAvLyBsaWdodCBwaW5rCiAgICAnI2YyYmFmNicsIC8vIHB1cnBsZQogICAgJyNmZjkyOGMnLCAvLyBsaWdodCByZWQKICAgICcjZmNlYTdlJywgLy8gbGlnaHQgeWVsbG93CiAgICAnI2ZmYzc2NicsIC8vIGxpZ2h0IG9yYW5nZQogICAgJyM0MDVmOWUnLCAvLyBuYXZ5IGJsdWUKICAgICcjYTVhYmI2JywgLy8gZGFyayBncmF5CiAgICAnIzc4Y2VjYicsIC8vIGdyZWVuICMyLAogICAgJyNiODhjYmInLCAvLyBkYXJrIHB1cnBsZQogICAgJyNjZWQyZDknLCAvLyBsaWdodCBncmF5CiAgICAnI2U4NDY0NicsIC8vIGRhcmsgcmVkCiAgICAnI2ZhNWY4NicsIC8vIGRhcmsgcGluawogICAgJyNmZmFiMWEnLCAvLyBkYXJrIG9yYW5nZQogICAgJyNmY2RhMTknLCAvLyBkYXJrIHllbGxvdwogICAgJyM3OTdiODAnLCAvLyBibGFjawogICAgJyNjOWQ5NmYnLCAvLyBwaXN0YWNjaGlvCiAgICAnIzQ3OTkxZicsIC8vIGdyZWVuICMzCiAgICAnIzcwZWRlZScsIC8vIHR1cnF1b2lzZQogICAgJyNmZjc1ZWEnIC8vIHBpbmsKICAgIF07CiAgfQoKICBmdW5jdGlvbiBjb250YWlucyhhcnJheSwgaWQpIHsKICAgIHZhciBmaWx0ZXIgPSBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgcmV0dXJuIGVsZW0uaWQgPT09IGlkOwogICAgfSk7CiAgICByZXR1cm4gZmlsdGVyLmxlbmd0aCA+IDA7CiAgfQoKICBmdW5jdGlvbiBkZWZhdWx0Q29sb3IoKSB7CiAgICByZXR1cm4gb3B0aW9ucy5yZWxhdGlvbnNoaXBDb2xvcjsKICB9CgogIGZ1bmN0aW9uIGRlZmF1bHREYXJrZW5Db2xvcigpIHsKICAgIHJldHVybiBkMy5yZ2Iob3B0aW9ucy5jb2xvcnNbb3B0aW9ucy5jb2xvcnMubGVuZ3RoIC0gMV0pLmRhcmtlcigxKTsKICB9CgogIGZ1bmN0aW9uIGRyYWdFbmRlZChkKSB7CiAgICBpZiAoIWQzLmV2ZW50LmFjdGl2ZSkgewogICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgfQoKICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk5vZGVEcmFnRW5kID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9wdGlvbnMub25Ob2RlRHJhZ0VuZChkKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGRyYWdnZWQoZCkgewogICAgc3RpY2tOb2RlKGQpOwogIH0KCiAgZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQoZCkgewogICAgaWYgKCFkMy5ldmVudC5hY3RpdmUpIHsKICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgIH0KCiAgICBkLmZ4ID0gZC54OwogICAgZC5meSA9IGQueTsKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlRHJhZ1N0YXJ0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9wdGlvbnMub25Ob2RlRHJhZ1N0YXJ0KGQpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kKG9iajEsIG9iajIpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lcmdlKG9iaiwgb2JqMSk7CiAgICBtZXJnZShvYmosIG9iajIpOwogICAgcmV0dXJuIG9iajsKICB9CgogIGZ1bmN0aW9uIGZvbnRBd2Vzb21lSWNvbnMoKSB7CiAgICByZXR1cm4gewogICAgICAnZ2xhc3MnOiAnZjAwMCcsCiAgICAgICdtdXNpYyc6ICdmMDAxJywKICAgICAgJ3NlYXJjaCc6ICdmMDAyJywKICAgICAgJ2VudmVsb3BlLW8nOiAnZjAwMycsCiAgICAgICdoZWFydCc6ICdmMDA0JywKICAgICAgJ3N0YXInOiAnZjAwNScsCiAgICAgICdzdGFyLW8nOiAnZjAwNicsCiAgICAgICd1c2VyJzogJ2YwMDcnLAogICAgICAnZmlsbSc6ICdmMDA4JywKICAgICAgJ3RoLWxhcmdlJzogJ2YwMDknLAogICAgICAndGgnOiAnZjAwYScsCiAgICAgICd0aC1saXN0JzogJ2YwMGInLAogICAgICAnY2hlY2snOiAnZjAwYycsCiAgICAgICdyZW1vdmUsY2xvc2UsdGltZXMnOiAnZjAwZCcsCiAgICAgICdzZWFyY2gtcGx1cyc6ICdmMDBlJywKICAgICAgJ3NlYXJjaC1taW51cyc6ICdmMDEwJywKICAgICAgJ3Bvd2VyLW9mZic6ICdmMDExJywKICAgICAgJ3NpZ25hbCc6ICdmMDEyJywKICAgICAgJ2dlYXIsY29nJzogJ2YwMTMnLAogICAgICAndHJhc2gtbyc6ICdmMDE0JywKICAgICAgJ2hvbWUnOiAnZjAxNScsCiAgICAgICdmaWxlLW8nOiAnZjAxNicsCiAgICAgICdjbG9jay1vJzogJ2YwMTcnLAogICAgICAncm9hZCc6ICdmMDE4JywKICAgICAgJ2Rvd25sb2FkJzogJ2YwMTknLAogICAgICAnYXJyb3ctY2lyY2xlLW8tZG93bic6ICdmMDFhJywKICAgICAgJ2Fycm93LWNpcmNsZS1vLXVwJzogJ2YwMWInLAogICAgICAnaW5ib3gnOiAnZjAxYycsCiAgICAgICdwbGF5LWNpcmNsZS1vJzogJ2YwMWQnLAogICAgICAncm90YXRlLXJpZ2h0LHJlcGVhdCc6ICdmMDFlJywKICAgICAgJ3JlZnJlc2gnOiAnZjAyMScsCiAgICAgICdsaXN0LWFsdCc6ICdmMDIyJywKICAgICAgJ2xvY2snOiAnZjAyMycsCiAgICAgICdmbGFnJzogJ2YwMjQnLAogICAgICAnaGVhZHBob25lcyc6ICdmMDI1JywKICAgICAgJ3ZvbHVtZS1vZmYnOiAnZjAyNicsCiAgICAgICd2b2x1bWUtZG93bic6ICdmMDI3JywKICAgICAgJ3ZvbHVtZS11cCc6ICdmMDI4JywKICAgICAgJ3FyY29kZSc6ICdmMDI5JywKICAgICAgJ2JhcmNvZGUnOiAnZjAyYScsCiAgICAgICd0YWcnOiAnZjAyYicsCiAgICAgICd0YWdzJzogJ2YwMmMnLAogICAgICAnYm9vayc6ICdmMDJkJywKICAgICAgJ2Jvb2ttYXJrJzogJ2YwMmUnLAogICAgICAncHJpbnQnOiAnZjAyZicsCiAgICAgICdjYW1lcmEnOiAnZjAzMCcsCiAgICAgICdmb250JzogJ2YwMzEnLAogICAgICAnYm9sZCc6ICdmMDMyJywKICAgICAgJ2l0YWxpYyc6ICdmMDMzJywKICAgICAgJ3RleHQtaGVpZ2h0JzogJ2YwMzQnLAogICAgICAndGV4dC13aWR0aCc6ICdmMDM1JywKICAgICAgJ2FsaWduLWxlZnQnOiAnZjAzNicsCiAgICAgICdhbGlnbi1jZW50ZXInOiAnZjAzNycsCiAgICAgICdhbGlnbi1yaWdodCc6ICdmMDM4JywKICAgICAgJ2FsaWduLWp1c3RpZnknOiAnZjAzOScsCiAgICAgICdsaXN0JzogJ2YwM2EnLAogICAgICAnZGVkZW50LG91dGRlbnQnOiAnZjAzYicsCiAgICAgICdpbmRlbnQnOiAnZjAzYycsCiAgICAgICd2aWRlby1jYW1lcmEnOiAnZjAzZCcsCiAgICAgICdwaG90byxpbWFnZSxwaWN0dXJlLW8nOiAnZjAzZScsCiAgICAgICdwZW5jaWwnOiAnZjA0MCcsCiAgICAgICdtYXAtbWFya2VyJzogJ2YwNDEnLAogICAgICAnYWRqdXN0JzogJ2YwNDInLAogICAgICAndGludCc6ICdmMDQzJywKICAgICAgJ2VkaXQscGVuY2lsLXNxdWFyZS1vJzogJ2YwNDQnLAogICAgICAnc2hhcmUtc3F1YXJlLW8nOiAnZjA0NScsCiAgICAgICdjaGVjay1zcXVhcmUtbyc6ICdmMDQ2JywKICAgICAgJ2Fycm93cyc6ICdmMDQ3JywKICAgICAgJ3N0ZXAtYmFja3dhcmQnOiAnZjA0OCcsCiAgICAgICdmYXN0LWJhY2t3YXJkJzogJ2YwNDknLAogICAgICAnYmFja3dhcmQnOiAnZjA0YScsCiAgICAgICdwbGF5JzogJ2YwNGInLAogICAgICAncGF1c2UnOiAnZjA0YycsCiAgICAgICdzdG9wJzogJ2YwNGQnLAogICAgICAnZm9yd2FyZCc6ICdmMDRlJywKICAgICAgJ2Zhc3QtZm9yd2FyZCc6ICdmMDUwJywKICAgICAgJ3N0ZXAtZm9yd2FyZCc6ICdmMDUxJywKICAgICAgJ2VqZWN0JzogJ2YwNTInLAogICAgICAnY2hldnJvbi1sZWZ0JzogJ2YwNTMnLAogICAgICAnY2hldnJvbi1yaWdodCc6ICdmMDU0JywKICAgICAgJ3BsdXMtY2lyY2xlJzogJ2YwNTUnLAogICAgICAnbWludXMtY2lyY2xlJzogJ2YwNTYnLAogICAgICAndGltZXMtY2lyY2xlJzogJ2YwNTcnLAogICAgICAnY2hlY2stY2lyY2xlJzogJ2YwNTgnLAogICAgICAncXVlc3Rpb24tY2lyY2xlJzogJ2YwNTknLAogICAgICAnaW5mby1jaXJjbGUnOiAnZjA1YScsCiAgICAgICdjcm9zc2hhaXJzJzogJ2YwNWInLAogICAgICAndGltZXMtY2lyY2xlLW8nOiAnZjA1YycsCiAgICAgICdjaGVjay1jaXJjbGUtbyc6ICdmMDVkJywKICAgICAgJ2Jhbic6ICdmMDVlJywKICAgICAgJ2Fycm93LWxlZnQnOiAnZjA2MCcsCiAgICAgICdhcnJvdy1yaWdodCc6ICdmMDYxJywKICAgICAgJ2Fycm93LXVwJzogJ2YwNjInLAogICAgICAnYXJyb3ctZG93bic6ICdmMDYzJywKICAgICAgJ21haWwtZm9yd2FyZCxzaGFyZSc6ICdmMDY0JywKICAgICAgJ2V4cGFuZCc6ICdmMDY1JywKICAgICAgJ2NvbXByZXNzJzogJ2YwNjYnLAogICAgICAncGx1cyc6ICdmMDY3JywKICAgICAgJ21pbnVzJzogJ2YwNjgnLAogICAgICAnYXN0ZXJpc2snOiAnZjA2OScsCiAgICAgICdleGNsYW1hdGlvbi1jaXJjbGUnOiAnZjA2YScsCiAgICAgICdnaWZ0JzogJ2YwNmInLAogICAgICAnbGVhZic6ICdmMDZjJywKICAgICAgJ2ZpcmUnOiAnZjA2ZCcsCiAgICAgICdleWUnOiAnZjA2ZScsCiAgICAgICdleWUtc2xhc2gnOiAnZjA3MCcsCiAgICAgICd3YXJuaW5nLGV4Y2xhbWF0aW9uLXRyaWFuZ2xlJzogJ2YwNzEnLAogICAgICAncGxhbmUnOiAnZjA3MicsCiAgICAgICdjYWxlbmRhcic6ICdmMDczJywKICAgICAgJ3JhbmRvbSc6ICdmMDc0JywKICAgICAgJ2NvbW1lbnQnOiAnZjA3NScsCiAgICAgICdtYWduZXQnOiAnZjA3NicsCiAgICAgICdjaGV2cm9uLXVwJzogJ2YwNzcnLAogICAgICAnY2hldnJvbi1kb3duJzogJ2YwNzgnLAogICAgICAncmV0d2VldCc6ICdmMDc5JywKICAgICAgJ3Nob3BwaW5nLWNhcnQnOiAnZjA3YScsCiAgICAgICdmb2xkZXInOiAnZjA3YicsCiAgICAgICdmb2xkZXItb3Blbic6ICdmMDdjJywKICAgICAgJ2Fycm93cy12JzogJ2YwN2QnLAogICAgICAnYXJyb3dzLWgnOiAnZjA3ZScsCiAgICAgICdiYXItY2hhcnQtbyxiYXItY2hhcnQnOiAnZjA4MCcsCiAgICAgICd0d2l0dGVyLXNxdWFyZSc6ICdmMDgxJywKICAgICAgJ2ZhY2Vib29rLXNxdWFyZSc6ICdmMDgyJywKICAgICAgJ2NhbWVyYS1yZXRybyc6ICdmMDgzJywKICAgICAgJ2tleSc6ICdmMDg0JywKICAgICAgJ2dlYXJzLGNvZ3MnOiAnZjA4NScsCiAgICAgICdjb21tZW50cyc6ICdmMDg2JywKICAgICAgJ3RodW1icy1vLXVwJzogJ2YwODcnLAogICAgICAndGh1bWJzLW8tZG93bic6ICdmMDg4JywKICAgICAgJ3N0YXItaGFsZic6ICdmMDg5JywKICAgICAgJ2hlYXJ0LW8nOiAnZjA4YScsCiAgICAgICdzaWduLW91dCc6ICdmMDhiJywKICAgICAgJ2xpbmtlZGluLXNxdWFyZSc6ICdmMDhjJywKICAgICAgJ3RodW1iLXRhY2snOiAnZjA4ZCcsCiAgICAgICdleHRlcm5hbC1saW5rJzogJ2YwOGUnLAogICAgICAnc2lnbi1pbic6ICdmMDkwJywKICAgICAgJ3Ryb3BoeSc6ICdmMDkxJywKICAgICAgJ2dpdGh1Yi1zcXVhcmUnOiAnZjA5MicsCiAgICAgICd1cGxvYWQnOiAnZjA5MycsCiAgICAgICdsZW1vbi1vJzogJ2YwOTQnLAogICAgICAncGhvbmUnOiAnZjA5NScsCiAgICAgICdzcXVhcmUtbyc6ICdmMDk2JywKICAgICAgJ2Jvb2ttYXJrLW8nOiAnZjA5NycsCiAgICAgICdwaG9uZS1zcXVhcmUnOiAnZjA5OCcsCiAgICAgICd0d2l0dGVyJzogJ2YwOTknLAogICAgICAnZmFjZWJvb2stZixmYWNlYm9vayc6ICdmMDlhJywKICAgICAgJ2dpdGh1Yic6ICdmMDliJywKICAgICAgJ3VubG9jayc6ICdmMDljJywKICAgICAgJ2NyZWRpdC1jYXJkJzogJ2YwOWQnLAogICAgICAnZmVlZCxyc3MnOiAnZjA5ZScsCiAgICAgICdoZGQtbyc6ICdmMGEwJywKICAgICAgJ2J1bGxob3JuJzogJ2YwYTEnLAogICAgICAnYmVsbCc6ICdmMGYzJywKICAgICAgJ2NlcnRpZmljYXRlJzogJ2YwYTMnLAogICAgICAnaGFuZC1vLXJpZ2h0JzogJ2YwYTQnLAogICAgICAnaGFuZC1vLWxlZnQnOiAnZjBhNScsCiAgICAgICdoYW5kLW8tdXAnOiAnZjBhNicsCiAgICAgICdoYW5kLW8tZG93bic6ICdmMGE3JywKICAgICAgJ2Fycm93LWNpcmNsZS1sZWZ0JzogJ2YwYTgnLAogICAgICAnYXJyb3ctY2lyY2xlLXJpZ2h0JzogJ2YwYTknLAogICAgICAnYXJyb3ctY2lyY2xlLXVwJzogJ2YwYWEnLAogICAgICAnYXJyb3ctY2lyY2xlLWRvd24nOiAnZjBhYicsCiAgICAgICdnbG9iZSc6ICdmMGFjJywKICAgICAgJ3dyZW5jaCc6ICdmMGFkJywKICAgICAgJ3Rhc2tzJzogJ2YwYWUnLAogICAgICAnZmlsdGVyJzogJ2YwYjAnLAogICAgICAnYnJpZWZjYXNlJzogJ2YwYjEnLAogICAgICAnYXJyb3dzLWFsdCc6ICdmMGIyJywKICAgICAgJ2dyb3VwLHVzZXJzJzogJ2YwYzAnLAogICAgICAnY2hhaW4sbGluayc6ICdmMGMxJywKICAgICAgJ2Nsb3VkJzogJ2YwYzInLAogICAgICAnZmxhc2snOiAnZjBjMycsCiAgICAgICdjdXQsc2Npc3NvcnMnOiAnZjBjNCcsCiAgICAgICdjb3B5LGZpbGVzLW8nOiAnZjBjNScsCiAgICAgICdwYXBlcmNsaXAnOiAnZjBjNicsCiAgICAgICdzYXZlLGZsb3BweS1vJzogJ2YwYzcnLAogICAgICAnc3F1YXJlJzogJ2YwYzgnLAogICAgICAnbmF2aWNvbixyZW9yZGVyLGJhcnMnOiAnZjBjOScsCiAgICAgICdsaXN0LXVsJzogJ2YwY2EnLAogICAgICAnbGlzdC1vbCc6ICdmMGNiJywKICAgICAgJ3N0cmlrZXRocm91Z2gnOiAnZjBjYycsCiAgICAgICd1bmRlcmxpbmUnOiAnZjBjZCcsCiAgICAgICd0YWJsZSc6ICdmMGNlJywKICAgICAgJ21hZ2ljJzogJ2YwZDAnLAogICAgICAndHJ1Y2snOiAnZjBkMScsCiAgICAgICdwaW50ZXJlc3QnOiAnZjBkMicsCiAgICAgICdwaW50ZXJlc3Qtc3F1YXJlJzogJ2YwZDMnLAogICAgICAnZ29vZ2xlLXBsdXMtc3F1YXJlJzogJ2YwZDQnLAogICAgICAnZ29vZ2xlLXBsdXMnOiAnZjBkNScsCiAgICAgICdtb25leSc6ICdmMGQ2JywKICAgICAgJ2NhcmV0LWRvd24nOiAnZjBkNycsCiAgICAgICdjYXJldC11cCc6ICdmMGQ4JywKICAgICAgJ2NhcmV0LWxlZnQnOiAnZjBkOScsCiAgICAgICdjYXJldC1yaWdodCc6ICdmMGRhJywKICAgICAgJ2NvbHVtbnMnOiAnZjBkYicsCiAgICAgICd1bnNvcnRlZCxzb3J0JzogJ2YwZGMnLAogICAgICAnc29ydC1kb3duLHNvcnQtZGVzYyc6ICdmMGRkJywKICAgICAgJ3NvcnQtdXAsc29ydC1hc2MnOiAnZjBkZScsCiAgICAgICdlbnZlbG9wZSc6ICdmMGUwJywKICAgICAgJ2xpbmtlZGluJzogJ2YwZTEnLAogICAgICAncm90YXRlLWxlZnQsdW5kbyc6ICdmMGUyJywKICAgICAgJ2xlZ2FsLGdhdmVsJzogJ2YwZTMnLAogICAgICAnZGFzaGJvYXJkLHRhY2hvbWV0ZXInOiAnZjBlNCcsCiAgICAgICdjb21tZW50LW8nOiAnZjBlNScsCiAgICAgICdjb21tZW50cy1vJzogJ2YwZTYnLAogICAgICAnZmxhc2gsYm9sdCc6ICdmMGU3JywKICAgICAgJ3NpdGVtYXAnOiAnZjBlOCcsCiAgICAgICd1bWJyZWxsYSc6ICdmMGU5JywKICAgICAgJ3Bhc3RlLGNsaXBib2FyZCc6ICdmMGVhJywKICAgICAgJ2xpZ2h0YnVsYi1vJzogJ2YwZWInLAogICAgICAnZXhjaGFuZ2UnOiAnZjBlYycsCiAgICAgICdjbG91ZC1kb3dubG9hZCc6ICdmMGVkJywKICAgICAgJ2Nsb3VkLXVwbG9hZCc6ICdmMGVlJywKICAgICAgJ3VzZXItbWQnOiAnZjBmMCcsCiAgICAgICdzdGV0aG9zY29wZSc6ICdmMGYxJywKICAgICAgJ3N1aXRjYXNlJzogJ2YwZjInLAogICAgICAnYmVsbC1vJzogJ2YwYTInLAogICAgICAnY29mZmVlJzogJ2YwZjQnLAogICAgICAnY3V0bGVyeSc6ICdmMGY1JywKICAgICAgJ2ZpbGUtdGV4dC1vJzogJ2YwZjYnLAogICAgICAnYnVpbGRpbmctbyc6ICdmMGY3JywKICAgICAgJ2hvc3BpdGFsLW8nOiAnZjBmOCcsCiAgICAgICdhbWJ1bGFuY2UnOiAnZjBmOScsCiAgICAgICdtZWRraXQnOiAnZjBmYScsCiAgICAgICdmaWdodGVyLWpldCc6ICdmMGZiJywKICAgICAgJ2JlZXInOiAnZjBmYycsCiAgICAgICdoLXNxdWFyZSc6ICdmMGZkJywKICAgICAgJ3BsdXMtc3F1YXJlJzogJ2YwZmUnLAogICAgICAnYW5nbGUtZG91YmxlLWxlZnQnOiAnZjEwMCcsCiAgICAgICdhbmdsZS1kb3VibGUtcmlnaHQnOiAnZjEwMScsCiAgICAgICdhbmdsZS1kb3VibGUtdXAnOiAnZjEwMicsCiAgICAgICdhbmdsZS1kb3VibGUtZG93bic6ICdmMTAzJywKICAgICAgJ2FuZ2xlLWxlZnQnOiAnZjEwNCcsCiAgICAgICdhbmdsZS1yaWdodCc6ICdmMTA1JywKICAgICAgJ2FuZ2xlLXVwJzogJ2YxMDYnLAogICAgICAnYW5nbGUtZG93bic6ICdmMTA3JywKICAgICAgJ2Rlc2t0b3AnOiAnZjEwOCcsCiAgICAgICdsYXB0b3AnOiAnZjEwOScsCiAgICAgICd0YWJsZXQnOiAnZjEwYScsCiAgICAgICdtb2JpbGUtcGhvbmUsbW9iaWxlJzogJ2YxMGInLAogICAgICAnY2lyY2xlLW8nOiAnZjEwYycsCiAgICAgICdxdW90ZS1sZWZ0JzogJ2YxMGQnLAogICAgICAncXVvdGUtcmlnaHQnOiAnZjEwZScsCiAgICAgICdzcGlubmVyJzogJ2YxMTAnLAogICAgICAnY2lyY2xlJzogJ2YxMTEnLAogICAgICAnbWFpbC1yZXBseSxyZXBseSc6ICdmMTEyJywKICAgICAgJ2dpdGh1Yi1hbHQnOiAnZjExMycsCiAgICAgICdmb2xkZXItbyc6ICdmMTE0JywKICAgICAgJ2ZvbGRlci1vcGVuLW8nOiAnZjExNScsCiAgICAgICdzbWlsZS1vJzogJ2YxMTgnLAogICAgICAnZnJvd24tbyc6ICdmMTE5JywKICAgICAgJ21laC1vJzogJ2YxMWEnLAogICAgICAnZ2FtZXBhZCc6ICdmMTFiJywKICAgICAgJ2tleWJvYXJkLW8nOiAnZjExYycsCiAgICAgICdmbGFnLW8nOiAnZjExZCcsCiAgICAgICdmbGFnLWNoZWNrZXJlZCc6ICdmMTFlJywKICAgICAgJ3Rlcm1pbmFsJzogJ2YxMjAnLAogICAgICAnY29kZSc6ICdmMTIxJywKICAgICAgJ21haWwtcmVwbHktYWxsLHJlcGx5LWFsbCc6ICdmMTIyJywKICAgICAgJ3N0YXItaGFsZi1lbXB0eSxzdGFyLWhhbGYtZnVsbCxzdGFyLWhhbGYtbyc6ICdmMTIzJywKICAgICAgJ2xvY2F0aW9uLWFycm93JzogJ2YxMjQnLAogICAgICAnY3JvcCc6ICdmMTI1JywKICAgICAgJ2NvZGUtZm9yayc6ICdmMTI2JywKICAgICAgJ3VubGluayxjaGFpbi1icm9rZW4nOiAnZjEyNycsCiAgICAgICdxdWVzdGlvbic6ICdmMTI4JywKICAgICAgJ2luZm8nOiAnZjEyOScsCiAgICAgICdleGNsYW1hdGlvbic6ICdmMTJhJywKICAgICAgJ3N1cGVyc2NyaXB0JzogJ2YxMmInLAogICAgICAnc3Vic2NyaXB0JzogJ2YxMmMnLAogICAgICAnZXJhc2VyJzogJ2YxMmQnLAogICAgICAncHV6emxlLXBpZWNlJzogJ2YxMmUnLAogICAgICAnbWljcm9waG9uZSc6ICdmMTMwJywKICAgICAgJ21pY3JvcGhvbmUtc2xhc2gnOiAnZjEzMScsCiAgICAgICdzaGllbGQnOiAnZjEzMicsCiAgICAgICdjYWxlbmRhci1vJzogJ2YxMzMnLAogICAgICAnZmlyZS1leHRpbmd1aXNoZXInOiAnZjEzNCcsCiAgICAgICdyb2NrZXQnOiAnZjEzNScsCiAgICAgICdtYXhjZG4nOiAnZjEzNicsCiAgICAgICdjaGV2cm9uLWNpcmNsZS1sZWZ0JzogJ2YxMzcnLAogICAgICAnY2hldnJvbi1jaXJjbGUtcmlnaHQnOiAnZjEzOCcsCiAgICAgICdjaGV2cm9uLWNpcmNsZS11cCc6ICdmMTM5JywKICAgICAgJ2NoZXZyb24tY2lyY2xlLWRvd24nOiAnZjEzYScsCiAgICAgICdodG1sNSc6ICdmMTNiJywKICAgICAgJ2NzczMnOiAnZjEzYycsCiAgICAgICdhbmNob3InOiAnZjEzZCcsCiAgICAgICd1bmxvY2stYWx0JzogJ2YxM2UnLAogICAgICAnYnVsbHNleWUnOiAnZjE0MCcsCiAgICAgICdlbGxpcHNpcy1oJzogJ2YxNDEnLAogICAgICAnZWxsaXBzaXMtdic6ICdmMTQyJywKICAgICAgJ3Jzcy1zcXVhcmUnOiAnZjE0MycsCiAgICAgICdwbGF5LWNpcmNsZSc6ICdmMTQ0JywKICAgICAgJ3RpY2tldCc6ICdmMTQ1JywKICAgICAgJ21pbnVzLXNxdWFyZSc6ICdmMTQ2JywKICAgICAgJ21pbnVzLXNxdWFyZS1vJzogJ2YxNDcnLAogICAgICAnbGV2ZWwtdXAnOiAnZjE0OCcsCiAgICAgICdsZXZlbC1kb3duJzogJ2YxNDknLAogICAgICAnY2hlY2stc3F1YXJlJzogJ2YxNGEnLAogICAgICAncGVuY2lsLXNxdWFyZSc6ICdmMTRiJywKICAgICAgJ2V4dGVybmFsLWxpbmstc3F1YXJlJzogJ2YxNGMnLAogICAgICAnc2hhcmUtc3F1YXJlJzogJ2YxNGQnLAogICAgICAnY29tcGFzcyc6ICdmMTRlJywKICAgICAgJ3RvZ2dsZS1kb3duLGNhcmV0LXNxdWFyZS1vLWRvd24nOiAnZjE1MCcsCiAgICAgICd0b2dnbGUtdXAsY2FyZXQtc3F1YXJlLW8tdXAnOiAnZjE1MScsCiAgICAgICd0b2dnbGUtcmlnaHQsY2FyZXQtc3F1YXJlLW8tcmlnaHQnOiAnZjE1MicsCiAgICAgICdldXJvLGV1cic6ICdmMTUzJywKICAgICAgJ2dicCc6ICdmMTU0JywKICAgICAgJ2RvbGxhcix1c2QnOiAnZjE1NScsCiAgICAgICdydXBlZSxpbnInOiAnZjE1NicsCiAgICAgICdjbnkscm1iLHllbixqcHknOiAnZjE1NycsCiAgICAgICdydWJsZSxyb3VibGUscnViJzogJ2YxNTgnLAogICAgICAnd29uLGtydyc6ICdmMTU5JywKICAgICAgJ2JpdGNvaW4sYnRjJzogJ2YxNWEnLAogICAgICAnZmlsZSc6ICdmMTViJywKICAgICAgJ2ZpbGUtdGV4dCc6ICdmMTVjJywKICAgICAgJ3NvcnQtYWxwaGEtYXNjJzogJ2YxNWQnLAogICAgICAnc29ydC1hbHBoYS1kZXNjJzogJ2YxNWUnLAogICAgICAnc29ydC1hbW91bnQtYXNjJzogJ2YxNjAnLAogICAgICAnc29ydC1hbW91bnQtZGVzYyc6ICdmMTYxJywKICAgICAgJ3NvcnQtbnVtZXJpYy1hc2MnOiAnZjE2MicsCiAgICAgICdzb3J0LW51bWVyaWMtZGVzYyc6ICdmMTYzJywKICAgICAgJ3RodW1icy11cCc6ICdmMTY0JywKICAgICAgJ3RodW1icy1kb3duJzogJ2YxNjUnLAogICAgICAneW91dHViZS1zcXVhcmUnOiAnZjE2NicsCiAgICAgICd5b3V0dWJlJzogJ2YxNjcnLAogICAgICAneGluZyc6ICdmMTY4JywKICAgICAgJ3hpbmctc3F1YXJlJzogJ2YxNjknLAogICAgICAneW91dHViZS1wbGF5JzogJ2YxNmEnLAogICAgICAnZHJvcGJveCc6ICdmMTZiJywKICAgICAgJ3N0YWNrLW92ZXJmbG93JzogJ2YxNmMnLAogICAgICAnaW5zdGFncmFtJzogJ2YxNmQnLAogICAgICAnZmxpY2tyJzogJ2YxNmUnLAogICAgICAnYWRuJzogJ2YxNzAnLAogICAgICAnYml0YnVja2V0JzogJ2YxNzEnLAogICAgICAnYml0YnVja2V0LXNxdWFyZSc6ICdmMTcyJywKICAgICAgJ3R1bWJscic6ICdmMTczJywKICAgICAgJ3R1bWJsci1zcXVhcmUnOiAnZjE3NCcsCiAgICAgICdsb25nLWFycm93LWRvd24nOiAnZjE3NScsCiAgICAgICdsb25nLWFycm93LXVwJzogJ2YxNzYnLAogICAgICAnbG9uZy1hcnJvdy1sZWZ0JzogJ2YxNzcnLAogICAgICAnbG9uZy1hcnJvdy1yaWdodCc6ICdmMTc4JywKICAgICAgJ2FwcGxlJzogJ2YxNzknLAogICAgICAnd2luZG93cyc6ICdmMTdhJywKICAgICAgJ2FuZHJvaWQnOiAnZjE3YicsCiAgICAgICdsaW51eCc6ICdmMTdjJywKICAgICAgJ2RyaWJiYmxlJzogJ2YxN2QnLAogICAgICAnc2t5cGUnOiAnZjE3ZScsCiAgICAgICdmb3Vyc3F1YXJlJzogJ2YxODAnLAogICAgICAndHJlbGxvJzogJ2YxODEnLAogICAgICAnZmVtYWxlJzogJ2YxODInLAogICAgICAnbWFsZSc6ICdmMTgzJywKICAgICAgJ2dpdHRpcCxncmF0aXBheSc6ICdmMTg0JywKICAgICAgJ3N1bi1vJzogJ2YxODUnLAogICAgICAnbW9vbi1vJzogJ2YxODYnLAogICAgICAnYXJjaGl2ZSc6ICdmMTg3JywKICAgICAgJ2J1Zyc6ICdmMTg4JywKICAgICAgJ3ZrJzogJ2YxODknLAogICAgICAnd2VpYm8nOiAnZjE4YScsCiAgICAgICdyZW5yZW4nOiAnZjE4YicsCiAgICAgICdwYWdlbGluZXMnOiAnZjE4YycsCiAgICAgICdzdGFjay1leGNoYW5nZSc6ICdmMThkJywKICAgICAgJ2Fycm93LWNpcmNsZS1vLXJpZ2h0JzogJ2YxOGUnLAogICAgICAnYXJyb3ctY2lyY2xlLW8tbGVmdCc6ICdmMTkwJywKICAgICAgJ3RvZ2dsZS1sZWZ0LGNhcmV0LXNxdWFyZS1vLWxlZnQnOiAnZjE5MScsCiAgICAgICdkb3QtY2lyY2xlLW8nOiAnZjE5MicsCiAgICAgICd3aGVlbGNoYWlyJzogJ2YxOTMnLAogICAgICAndmltZW8tc3F1YXJlJzogJ2YxOTQnLAogICAgICAndHVya2lzaC1saXJhLHRyeSc6ICdmMTk1JywKICAgICAgJ3BsdXMtc3F1YXJlLW8nOiAnZjE5NicsCiAgICAgICdzcGFjZS1zaHV0dGxlJzogJ2YxOTcnLAogICAgICAnc2xhY2snOiAnZjE5OCcsCiAgICAgICdlbnZlbG9wZS1zcXVhcmUnOiAnZjE5OScsCiAgICAgICd3b3JkcHJlc3MnOiAnZjE5YScsCiAgICAgICdvcGVuaWQnOiAnZjE5YicsCiAgICAgICdpbnN0aXR1dGlvbixiYW5rLHVuaXZlcnNpdHknOiAnZjE5YycsCiAgICAgICdtb3J0YXItYm9hcmQsZ3JhZHVhdGlvbi1jYXAnOiAnZjE5ZCcsCiAgICAgICd5YWhvbyc6ICdmMTllJywKICAgICAgJ2dvb2dsZSc6ICdmMWEwJywKICAgICAgJ3JlZGRpdCc6ICdmMWExJywKICAgICAgJ3JlZGRpdC1zcXVhcmUnOiAnZjFhMicsCiAgICAgICdzdHVtYmxldXBvbi1jaXJjbGUnOiAnZjFhMycsCiAgICAgICdzdHVtYmxldXBvbic6ICdmMWE0JywKICAgICAgJ2RlbGljaW91cyc6ICdmMWE1JywKICAgICAgJ2RpZ2cnOiAnZjFhNicsCiAgICAgICdwaWVkLXBpcGVyLXBwJzogJ2YxYTcnLAogICAgICAncGllZC1waXBlci1hbHQnOiAnZjFhOCcsCiAgICAgICdkcnVwYWwnOiAnZjFhOScsCiAgICAgICdqb29tbGEnOiAnZjFhYScsCiAgICAgICdsYW5ndWFnZSc6ICdmMWFiJywKICAgICAgJ2ZheCc6ICdmMWFjJywKICAgICAgJ2J1aWxkaW5nJzogJ2YxYWQnLAogICAgICAnY2hpbGQnOiAnZjFhZScsCiAgICAgICdwYXcnOiAnZjFiMCcsCiAgICAgICdzcG9vbic6ICdmMWIxJywKICAgICAgJ2N1YmUnOiAnZjFiMicsCiAgICAgICdjdWJlcyc6ICdmMWIzJywKICAgICAgJ2JlaGFuY2UnOiAnZjFiNCcsCiAgICAgICdiZWhhbmNlLXNxdWFyZSc6ICdmMWI1JywKICAgICAgJ3N0ZWFtJzogJ2YxYjYnLAogICAgICAnc3RlYW0tc3F1YXJlJzogJ2YxYjcnLAogICAgICAncmVjeWNsZSc6ICdmMWI4JywKICAgICAgJ2F1dG9tb2JpbGUsY2FyJzogJ2YxYjknLAogICAgICAnY2FiLHRheGknOiAnZjFiYScsCiAgICAgICd0cmVlJzogJ2YxYmInLAogICAgICAnc3BvdGlmeSc6ICdmMWJjJywKICAgICAgJ2RldmlhbnRhcnQnOiAnZjFiZCcsCiAgICAgICdzb3VuZGNsb3VkJzogJ2YxYmUnLAogICAgICAnZGF0YWJhc2UnOiAnZjFjMCcsCiAgICAgICdmaWxlLXBkZi1vJzogJ2YxYzEnLAogICAgICAnZmlsZS13b3JkLW8nOiAnZjFjMicsCiAgICAgICdmaWxlLWV4Y2VsLW8nOiAnZjFjMycsCiAgICAgICdmaWxlLXBvd2VycG9pbnQtbyc6ICdmMWM0JywKICAgICAgJ2ZpbGUtcGhvdG8tbyxmaWxlLXBpY3R1cmUtbyxmaWxlLWltYWdlLW8nOiAnZjFjNScsCiAgICAgICdmaWxlLXppcC1vLGZpbGUtYXJjaGl2ZS1vJzogJ2YxYzYnLAogICAgICAnZmlsZS1zb3VuZC1vLGZpbGUtYXVkaW8tbyc6ICdmMWM3JywKICAgICAgJ2ZpbGUtbW92aWUtbyxmaWxlLXZpZGVvLW8nOiAnZjFjOCcsCiAgICAgICdmaWxlLWNvZGUtbyc6ICdmMWM5JywKICAgICAgJ3ZpbmUnOiAnZjFjYScsCiAgICAgICdjb2RlcGVuJzogJ2YxY2InLAogICAgICAnanNmaWRkbGUnOiAnZjFjYycsCiAgICAgICdsaWZlLWJvdXksbGlmZS1idW95LGxpZmUtc2F2ZXIsc3VwcG9ydCxsaWZlLXJpbmcnOiAnZjFjZCcsCiAgICAgICdjaXJjbGUtby1ub3RjaCc6ICdmMWNlJywKICAgICAgJ3JhLHJlc2lzdGFuY2UscmViZWwnOiAnZjFkMCcsCiAgICAgICdnZSxlbXBpcmUnOiAnZjFkMScsCiAgICAgICdnaXQtc3F1YXJlJzogJ2YxZDInLAogICAgICAnZ2l0JzogJ2YxZDMnLAogICAgICAneS1jb21iaW5hdG9yLXNxdWFyZSx5Yy1zcXVhcmUsaGFja2VyLW5ld3MnOiAnZjFkNCcsCiAgICAgICd0ZW5jZW50LXdlaWJvJzogJ2YxZDUnLAogICAgICAncXEnOiAnZjFkNicsCiAgICAgICd3ZWNoYXQsd2VpeGluJzogJ2YxZDcnLAogICAgICAnc2VuZCxwYXBlci1wbGFuZSc6ICdmMWQ4JywKICAgICAgJ3NlbmQtbyxwYXBlci1wbGFuZS1vJzogJ2YxZDknLAogICAgICAnaGlzdG9yeSc6ICdmMWRhJywKICAgICAgJ2NpcmNsZS10aGluJzogJ2YxZGInLAogICAgICAnaGVhZGVyJzogJ2YxZGMnLAogICAgICAncGFyYWdyYXBoJzogJ2YxZGQnLAogICAgICAnc2xpZGVycyc6ICdmMWRlJywKICAgICAgJ3NoYXJlLWFsdCc6ICdmMWUwJywKICAgICAgJ3NoYXJlLWFsdC1zcXVhcmUnOiAnZjFlMScsCiAgICAgICdib21iJzogJ2YxZTInLAogICAgICAnc29jY2VyLWJhbGwtbyxmdXRib2wtbyc6ICdmMWUzJywKICAgICAgJ3R0eSc6ICdmMWU0JywKICAgICAgJ2Jpbm9jdWxhcnMnOiAnZjFlNScsCiAgICAgICdwbHVnJzogJ2YxZTYnLAogICAgICAnc2xpZGVzaGFyZSc6ICdmMWU3JywKICAgICAgJ3R3aXRjaCc6ICdmMWU4JywKICAgICAgJ3llbHAnOiAnZjFlOScsCiAgICAgICduZXdzcGFwZXItbyc6ICdmMWVhJywKICAgICAgJ3dpZmknOiAnZjFlYicsCiAgICAgICdjYWxjdWxhdG9yJzogJ2YxZWMnLAogICAgICAncGF5cGFsJzogJ2YxZWQnLAogICAgICAnZ29vZ2xlLXdhbGxldCc6ICdmMWVlJywKICAgICAgJ2NjLXZpc2EnOiAnZjFmMCcsCiAgICAgICdjYy1tYXN0ZXJjYXJkJzogJ2YxZjEnLAogICAgICAnY2MtZGlzY292ZXInOiAnZjFmMicsCiAgICAgICdjYy1hbWV4JzogJ2YxZjMnLAogICAgICAnY2MtcGF5cGFsJzogJ2YxZjQnLAogICAgICAnY2Mtc3RyaXBlJzogJ2YxZjUnLAogICAgICAnYmVsbC1zbGFzaCc6ICdmMWY2JywKICAgICAgJ2JlbGwtc2xhc2gtbyc6ICdmMWY3JywKICAgICAgJ3RyYXNoJzogJ2YxZjgnLAogICAgICAnY29weXJpZ2h0JzogJ2YxZjknLAogICAgICAnYXQnOiAnZjFmYScsCiAgICAgICdleWVkcm9wcGVyJzogJ2YxZmInLAogICAgICAncGFpbnQtYnJ1c2gnOiAnZjFmYycsCiAgICAgICdiaXJ0aGRheS1jYWtlJzogJ2YxZmQnLAogICAgICAnYXJlYS1jaGFydCc6ICdmMWZlJywKICAgICAgJ3BpZS1jaGFydCc6ICdmMjAwJywKICAgICAgJ2xpbmUtY2hhcnQnOiAnZjIwMScsCiAgICAgICdsYXN0Zm0nOiAnZjIwMicsCiAgICAgICdsYXN0Zm0tc3F1YXJlJzogJ2YyMDMnLAogICAgICAndG9nZ2xlLW9mZic6ICdmMjA0JywKICAgICAgJ3RvZ2dsZS1vbic6ICdmMjA1JywKICAgICAgJ2JpY3ljbGUnOiAnZjIwNicsCiAgICAgICdidXMnOiAnZjIwNycsCiAgICAgICdpb3hob3N0JzogJ2YyMDgnLAogICAgICAnYW5nZWxsaXN0JzogJ2YyMDknLAogICAgICAnY2MnOiAnZjIwYScsCiAgICAgICdzaGVrZWwsc2hlcWVsLGlscyc6ICdmMjBiJywKICAgICAgJ21lYW5wYXRoJzogJ2YyMGMnLAogICAgICAnYnV5c2VsbGFkcyc6ICdmMjBkJywKICAgICAgJ2Nvbm5lY3RkZXZlbG9wJzogJ2YyMGUnLAogICAgICAnZGFzaGN1YmUnOiAnZjIxMCcsCiAgICAgICdmb3J1bWJlZSc6ICdmMjExJywKICAgICAgJ2xlYW5wdWInOiAnZjIxMicsCiAgICAgICdzZWxsc3knOiAnZjIxMycsCiAgICAgICdzaGlydHNpbmJ1bGsnOiAnZjIxNCcsCiAgICAgICdzaW1wbHlidWlsdCc6ICdmMjE1JywKICAgICAgJ3NreWF0bGFzJzogJ2YyMTYnLAogICAgICAnY2FydC1wbHVzJzogJ2YyMTcnLAogICAgICAnY2FydC1hcnJvdy1kb3duJzogJ2YyMTgnLAogICAgICAnZGlhbW9uZCc6ICdmMjE5JywKICAgICAgJ3NoaXAnOiAnZjIxYScsCiAgICAgICd1c2VyLXNlY3JldCc6ICdmMjFiJywKICAgICAgJ21vdG9yY3ljbGUnOiAnZjIxYycsCiAgICAgICdzdHJlZXQtdmlldyc6ICdmMjFkJywKICAgICAgJ2hlYXJ0YmVhdCc6ICdmMjFlJywKICAgICAgJ3ZlbnVzJzogJ2YyMjEnLAogICAgICAnbWFycyc6ICdmMjIyJywKICAgICAgJ21lcmN1cnknOiAnZjIyMycsCiAgICAgICdpbnRlcnNleCx0cmFuc2dlbmRlcic6ICdmMjI0JywKICAgICAgJ3RyYW5zZ2VuZGVyLWFsdCc6ICdmMjI1JywKICAgICAgJ3ZlbnVzLWRvdWJsZSc6ICdmMjI2JywKICAgICAgJ21hcnMtZG91YmxlJzogJ2YyMjcnLAogICAgICAndmVudXMtbWFycyc6ICdmMjI4JywKICAgICAgJ21hcnMtc3Ryb2tlJzogJ2YyMjknLAogICAgICAnbWFycy1zdHJva2Utdic6ICdmMjJhJywKICAgICAgJ21hcnMtc3Ryb2tlLWgnOiAnZjIyYicsCiAgICAgICduZXV0ZXInOiAnZjIyYycsCiAgICAgICdnZW5kZXJsZXNzJzogJ2YyMmQnLAogICAgICAnZmFjZWJvb2stb2ZmaWNpYWwnOiAnZjIzMCcsCiAgICAgICdwaW50ZXJlc3QtcCc6ICdmMjMxJywKICAgICAgJ3doYXRzYXBwJzogJ2YyMzInLAogICAgICAnc2VydmVyJzogJ2YyMzMnLAogICAgICAndXNlci1wbHVzJzogJ2YyMzQnLAogICAgICAndXNlci10aW1lcyc6ICdmMjM1JywKICAgICAgJ2hvdGVsLGJlZCc6ICdmMjM2JywKICAgICAgJ3ZpYWNvaW4nOiAnZjIzNycsCiAgICAgICd0cmFpbic6ICdmMjM4JywKICAgICAgJ3N1YndheSc6ICdmMjM5JywKICAgICAgJ21lZGl1bSc6ICdmMjNhJywKICAgICAgJ3ljLHktY29tYmluYXRvcic6ICdmMjNiJywKICAgICAgJ29wdGluLW1vbnN0ZXInOiAnZjIzYycsCiAgICAgICdvcGVuY2FydCc6ICdmMjNkJywKICAgICAgJ2V4cGVkaXRlZHNzbCc6ICdmMjNlJywKICAgICAgJ2JhdHRlcnktNCxiYXR0ZXJ5LWZ1bGwnOiAnZjI0MCcsCiAgICAgICdiYXR0ZXJ5LTMsYmF0dGVyeS10aHJlZS1xdWFydGVycyc6ICdmMjQxJywKICAgICAgJ2JhdHRlcnktMixiYXR0ZXJ5LWhhbGYnOiAnZjI0MicsCiAgICAgICdiYXR0ZXJ5LTEsYmF0dGVyeS1xdWFydGVyJzogJ2YyNDMnLAogICAgICAnYmF0dGVyeS0wLGJhdHRlcnktZW1wdHknOiAnZjI0NCcsCiAgICAgICdtb3VzZS1wb2ludGVyJzogJ2YyNDUnLAogICAgICAnaS1jdXJzb3InOiAnZjI0NicsCiAgICAgICdvYmplY3QtZ3JvdXAnOiAnZjI0NycsCiAgICAgICdvYmplY3QtdW5ncm91cCc6ICdmMjQ4JywKICAgICAgJ3N0aWNreS1ub3RlJzogJ2YyNDknLAogICAgICAnc3RpY2t5LW5vdGUtbyc6ICdmMjRhJywKICAgICAgJ2NjLWpjYic6ICdmMjRiJywKICAgICAgJ2NjLWRpbmVycy1jbHViJzogJ2YyNGMnLAogICAgICAnY2xvbmUnOiAnZjI0ZCcsCiAgICAgICdiYWxhbmNlLXNjYWxlJzogJ2YyNGUnLAogICAgICAnaG91cmdsYXNzLW8nOiAnZjI1MCcsCiAgICAgICdob3VyZ2xhc3MtMSxob3VyZ2xhc3Mtc3RhcnQnOiAnZjI1MScsCiAgICAgICdob3VyZ2xhc3MtMixob3VyZ2xhc3MtaGFsZic6ICdmMjUyJywKICAgICAgJ2hvdXJnbGFzcy0zLGhvdXJnbGFzcy1lbmQnOiAnZjI1MycsCiAgICAgICdob3VyZ2xhc3MnOiAnZjI1NCcsCiAgICAgICdoYW5kLWdyYWItbyxoYW5kLXJvY2stbyc6ICdmMjU1JywKICAgICAgJ2hhbmQtc3RvcC1vLGhhbmQtcGFwZXItbyc6ICdmMjU2JywKICAgICAgJ2hhbmQtc2Npc3NvcnMtbyc6ICdmMjU3JywKICAgICAgJ2hhbmQtbGl6YXJkLW8nOiAnZjI1OCcsCiAgICAgICdoYW5kLXNwb2NrLW8nOiAnZjI1OScsCiAgICAgICdoYW5kLXBvaW50ZXItbyc6ICdmMjVhJywKICAgICAgJ2hhbmQtcGVhY2Utbyc6ICdmMjViJywKICAgICAgJ3RyYWRlbWFyayc6ICdmMjVjJywKICAgICAgJ3JlZ2lzdGVyZWQnOiAnZjI1ZCcsCiAgICAgICdjcmVhdGl2ZS1jb21tb25zJzogJ2YyNWUnLAogICAgICAnZ2cnOiAnZjI2MCcsCiAgICAgICdnZy1jaXJjbGUnOiAnZjI2MScsCiAgICAgICd0cmlwYWR2aXNvcic6ICdmMjYyJywKICAgICAgJ29kbm9rbGFzc25pa2knOiAnZjI2MycsCiAgICAgICdvZG5va2xhc3NuaWtpLXNxdWFyZSc6ICdmMjY0JywKICAgICAgJ2dldC1wb2NrZXQnOiAnZjI2NScsCiAgICAgICd3aWtpcGVkaWEtdyc6ICdmMjY2JywKICAgICAgJ3NhZmFyaSc6ICdmMjY3JywKICAgICAgJ2Nocm9tZSc6ICdmMjY4JywKICAgICAgJ2ZpcmVmb3gnOiAnZjI2OScsCiAgICAgICdvcGVyYSc6ICdmMjZhJywKICAgICAgJ2ludGVybmV0LWV4cGxvcmVyJzogJ2YyNmInLAogICAgICAndHYsdGVsZXZpc2lvbic6ICdmMjZjJywKICAgICAgJ2NvbnRhbyc6ICdmMjZkJywKICAgICAgJzUwMHB4JzogJ2YyNmUnLAogICAgICAnYW1hem9uJzogJ2YyNzAnLAogICAgICAnY2FsZW5kYXItcGx1cy1vJzogJ2YyNzEnLAogICAgICAnY2FsZW5kYXItbWludXMtbyc6ICdmMjcyJywKICAgICAgJ2NhbGVuZGFyLXRpbWVzLW8nOiAnZjI3MycsCiAgICAgICdjYWxlbmRhci1jaGVjay1vJzogJ2YyNzQnLAogICAgICAnaW5kdXN0cnknOiAnZjI3NScsCiAgICAgICdtYXAtcGluJzogJ2YyNzYnLAogICAgICAnbWFwLXNpZ25zJzogJ2YyNzcnLAogICAgICAnbWFwLW8nOiAnZjI3OCcsCiAgICAgICdtYXAnOiAnZjI3OScsCiAgICAgICdjb21tZW50aW5nJzogJ2YyN2EnLAogICAgICAnY29tbWVudGluZy1vJzogJ2YyN2InLAogICAgICAnaG91enonOiAnZjI3YycsCiAgICAgICd2aW1lbyc6ICdmMjdkJywKICAgICAgJ2JsYWNrLXRpZSc6ICdmMjdlJywKICAgICAgJ2ZvbnRpY29ucyc6ICdmMjgwJywKICAgICAgJ3JlZGRpdC1hbGllbic6ICdmMjgxJywKICAgICAgJ2VkZ2UnOiAnZjI4MicsCiAgICAgICdjcmVkaXQtY2FyZC1hbHQnOiAnZjI4MycsCiAgICAgICdjb2RpZXBpZSc6ICdmMjg0JywKICAgICAgJ21vZHgnOiAnZjI4NScsCiAgICAgICdmb3J0LWF3ZXNvbWUnOiAnZjI4NicsCiAgICAgICd1c2InOiAnZjI4NycsCiAgICAgICdwcm9kdWN0LWh1bnQnOiAnZjI4OCcsCiAgICAgICdtaXhjbG91ZCc6ICdmMjg5JywKICAgICAgJ3NjcmliZCc6ICdmMjhhJywKICAgICAgJ3BhdXNlLWNpcmNsZSc6ICdmMjhiJywKICAgICAgJ3BhdXNlLWNpcmNsZS1vJzogJ2YyOGMnLAogICAgICAnc3RvcC1jaXJjbGUnOiAnZjI4ZCcsCiAgICAgICdzdG9wLWNpcmNsZS1vJzogJ2YyOGUnLAogICAgICAnc2hvcHBpbmctYmFnJzogJ2YyOTAnLAogICAgICAnc2hvcHBpbmctYmFza2V0JzogJ2YyOTEnLAogICAgICAnaGFzaHRhZyc6ICdmMjkyJywKICAgICAgJ2JsdWV0b290aCc6ICdmMjkzJywKICAgICAgJ2JsdWV0b290aC1iJzogJ2YyOTQnLAogICAgICAncGVyY2VudCc6ICdmMjk1JywKICAgICAgJ2dpdGxhYic6ICdmMjk2JywKICAgICAgJ3dwYmVnaW5uZXInOiAnZjI5NycsCiAgICAgICd3cGZvcm1zJzogJ2YyOTgnLAogICAgICAnZW52aXJhJzogJ2YyOTknLAogICAgICAndW5pdmVyc2FsLWFjY2Vzcyc6ICdmMjlhJywKICAgICAgJ3doZWVsY2hhaXItYWx0JzogJ2YyOWInLAogICAgICAncXVlc3Rpb24tY2lyY2xlLW8nOiAnZjI5YycsCiAgICAgICdibGluZCc6ICdmMjlkJywKICAgICAgJ2F1ZGlvLWRlc2NyaXB0aW9uJzogJ2YyOWUnLAogICAgICAndm9sdW1lLWNvbnRyb2wtcGhvbmUnOiAnZjJhMCcsCiAgICAgICdicmFpbGxlJzogJ2YyYTEnLAogICAgICAnYXNzaXN0aXZlLWxpc3RlbmluZy1zeXN0ZW1zJzogJ2YyYTInLAogICAgICAnYXNsLWludGVycHJldGluZyxhbWVyaWNhbi1zaWduLWxhbmd1YWdlLWludGVycHJldGluZyc6ICdmMmEzJywKICAgICAgJ2RlYWZuZXNzLGhhcmQtb2YtaGVhcmluZyxkZWFmJzogJ2YyYTQnLAogICAgICAnZ2xpZGUnOiAnZjJhNScsCiAgICAgICdnbGlkZS1nJzogJ2YyYTYnLAogICAgICAnc2lnbmluZyxzaWduLWxhbmd1YWdlJzogJ2YyYTcnLAogICAgICAnbG93LXZpc2lvbic6ICdmMmE4JywKICAgICAgJ3ZpYWRlbyc6ICdmMmE5JywKICAgICAgJ3ZpYWRlby1zcXVhcmUnOiAnZjJhYScsCiAgICAgICdzbmFwY2hhdCc6ICdmMmFiJywKICAgICAgJ3NuYXBjaGF0LWdob3N0JzogJ2YyYWMnLAogICAgICAnc25hcGNoYXQtc3F1YXJlJzogJ2YyYWQnLAogICAgICAncGllZC1waXBlcic6ICdmMmFlJywKICAgICAgJ2ZpcnN0LW9yZGVyJzogJ2YyYjAnLAogICAgICAneW9hc3QnOiAnZjJiMScsCiAgICAgICd0aGVtZWlzbGUnOiAnZjJiMicsCiAgICAgICdnb29nbGUtcGx1cy1jaXJjbGUsZ29vZ2xlLXBsdXMtb2ZmaWNpYWwnOiAnZjJiMycsCiAgICAgICdmYSxmb250LWF3ZXNvbWUnOiAnZjJiNCcKICAgIH07CiAgfQoKICBmdW5jdGlvbiBpY29uKGQpIHsKICAgIHZhciBjb2RlOwoKICAgIGlmIChvcHRpb25zLmljb25NYXAgJiYgb3B0aW9ucy5zaG93SWNvbnMgJiYgb3B0aW9ucy5pY29ucykgewogICAgICBpZiAob3B0aW9ucy5pY29uc1tkLmxhYmVsc1swXV0gJiYgb3B0aW9ucy5pY29uTWFwW29wdGlvbnMuaWNvbnNbZC5sYWJlbHNbMF1dXSkgewogICAgICAgIGNvZGUgPSBvcHRpb25zLmljb25NYXBbb3B0aW9ucy5pY29uc1tkLmxhYmVsc1swXV1dOwogICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaWNvbk1hcFtkLmxhYmVsc1swXV0pIHsKICAgICAgICBjb2RlID0gb3B0aW9ucy5pY29uTWFwW2QubGFiZWxzWzBdXTsKICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmljb25zW2QubGFiZWxzWzBdXSkgewogICAgICAgIGNvZGUgPSBvcHRpb25zLmljb25zW2QubGFiZWxzWzBdXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBjb2RlOwogIH0KCiAgZnVuY3Rpb24gaW1hZ2UoZCkgewogICAgdmFyIGksIGltYWdlc0ZvckxhYmVsLCBpbWcsIGltZ0xldmVsLCBsYWJlbCwgbGFiZWxQcm9wZXJ0eVZhbHVlLCBwcm9wZXJ0eSwgdmFsdWU7CgogICAgaWYgKG9wdGlvbnMuaW1hZ2VzKSB7CiAgICAgIGltYWdlc0ZvckxhYmVsID0gb3B0aW9ucy5pbWFnZU1hcFtkLmxhYmVsc1swXV07CgogICAgICBpZiAoaW1hZ2VzRm9yTGFiZWwpIHsKICAgICAgICBpbWdMZXZlbCA9IDA7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbWFnZXNGb3JMYWJlbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgbGFiZWxQcm9wZXJ0eVZhbHVlID0gaW1hZ2VzRm9yTGFiZWxbaV0uc3BsaXQoJ3wnKTsKCiAgICAgICAgICBzd2l0Y2ggKGxhYmVsUHJvcGVydHlWYWx1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHZhbHVlID0gbGFiZWxQcm9wZXJ0eVZhbHVlWzJdOwoKICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHByb3BlcnR5ID0gbGFiZWxQcm9wZXJ0eVZhbHVlWzFdOwoKICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGxhYmVsID0gbGFiZWxQcm9wZXJ0eVZhbHVlWzBdOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkLmxhYmVsc1swXSA9PT0gbGFiZWwgJiYgKCFwcm9wZXJ0eSB8fCBkLnByb3BlcnRpZXNbcHJvcGVydHldICE9PSB1bmRlZmluZWQpICYmICghdmFsdWUgfHwgZC5wcm9wZXJ0aWVzW3Byb3BlcnR5XSA9PT0gdmFsdWUpKSB7CiAgICAgICAgICAgIGlmIChsYWJlbFByb3BlcnR5VmFsdWUubGVuZ3RoID4gaW1nTGV2ZWwpIHsKICAgICAgICAgICAgICBpbWcgPSBvcHRpb25zLmltYWdlc1tpbWFnZXNGb3JMYWJlbFtpXV07CiAgICAgICAgICAgICAgaW1nTGV2ZWwgPSBsYWJlbFByb3BlcnR5VmFsdWUubGVuZ3RoOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGltZzsKICB9CgogIGZ1bmN0aW9uIGluaXQoX3NlbGVjdG9yLCBfb3B0aW9ucykgewogICAgaW5pdEljb25NYXAoKTsKICAgIG1lcmdlKG9wdGlvbnMsIF9vcHRpb25zKTsKCiAgICBpZiAob3B0aW9ucy5pY29ucykgewogICAgICBvcHRpb25zLnNob3dJY29ucyA9IHRydWU7CiAgICB9CgogICAgaWYgKCFvcHRpb25zLm1pbkNvbGxpc2lvbikgewogICAgICBvcHRpb25zLm1pbkNvbGxpc2lvbiA9IG9wdGlvbnMubm9kZVJhZGl1cyAqIDI7CiAgICB9CgogICAgaW5pdEltYWdlTWFwKCk7CiAgICBzZWxlY3RvciA9IF9zZWxlY3RvcjsKICAgIGNvbnRhaW5lciA9IGQzLnNlbGVjdChzZWxlY3Rvcik7CiAgICBjb250YWluZXIuYXR0cignY2xhc3MnLCAnbmVvNGpkMycpLmh0bWwoJycpOwoKICAgIGlmIChvcHRpb25zLmluZm9QYW5lbCkgewogICAgICBpbmZvID0gYXBwZW5kSW5mb1BhbmVsKGNvbnRhaW5lcik7CiAgICB9CgogICAgYXBwZW5kR3JhcGgoY29udGFpbmVyKTsKICAgIHNpbXVsYXRpb24gPSBpbml0U2ltdWxhdGlvbigpOwoKICAgIGlmIChvcHRpb25zLm5lbzRqRGF0YSkgewogICAgICBsb2FkTmVvNGpEYXRhKG9wdGlvbnMubmVvNGpEYXRhKTsKICAgIH0gZWxzZSBpZiAob3B0aW9ucy5uZW80akRhdGFVcmwpIHsKICAgICAgbG9hZE5lbzRqRGF0YUZyb21Vcmwob3B0aW9ucy5uZW80akRhdGFVcmwpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6IGJvdGggbmVvNGpEYXRhIGFuZCBuZW80akRhdGFVcmwgYXJlIGVtcHR5IScpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdEljb25NYXAoKSB7CiAgICBPYmplY3Qua2V5cyhvcHRpb25zLmljb25NYXApLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHsKICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoJywnKSwKICAgICAgICAgIHZhbHVlID0gb3B0aW9ucy5pY29uTWFwW2tleV07CiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgb3B0aW9ucy5pY29uTWFwW2tleV0gPSB2YWx1ZTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGluaXRJbWFnZU1hcCgpIHsKICAgIHZhciBrZXksIGtleXMsIHNlbGVjdG9yOwoKICAgIGZvciAoa2V5IGluIG9wdGlvbnMuaW1hZ2VzKSB7CiAgICAgIGlmIChvcHRpb25zLmltYWdlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAga2V5cyA9IGtleS5zcGxpdCgnfCcpOwoKICAgICAgICBpZiAoIW9wdGlvbnMuaW1hZ2VNYXBba2V5c1swXV0pIHsKICAgICAgICAgIG9wdGlvbnMuaW1hZ2VNYXBba2V5c1swXV0gPSBba2V5XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3B0aW9ucy5pbWFnZU1hcFtrZXlzWzBdXS5wdXNoKGtleSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbml0U2ltdWxhdGlvbigpIHsKICAgIHZhciBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKCkgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAudmVsb2NpdHlEZWNheSgwLjgpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JjZSgneCcsIGQzLmZvcmNlKCkuc3RyZW5ndGgoMC4wMDIpKQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yY2UoJ3knLCBkMy5mb3JjZSgpLnN0cmVuZ3RoKDAuMDAyKSkKICAgIC5mb3JjZSgnY29sbGlkZScsIGQzLmZvcmNlQ29sbGlkZSgpLnJhZGl1cyhmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gb3B0aW9ucy5taW5Db2xsaXNpb247CiAgICB9KS5pdGVyYXRpb25zKDIpKS5mb3JjZSgnY2hhcmdlJywgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC0xMDApKS5mb3JjZSgnbGluaycsIGQzLmZvcmNlTGluaygpLmlkKGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLmlkOwogICAgfSkuZGlzdGFuY2UoMCkuc3RyZW5ndGgoLjgpKS5mb3JjZSgnY2VudGVyJywgZDMuZm9yY2VDZW50ZXIoc3ZnLm5vZGUoKS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xpZW50V2lkdGggLyAyLCBzdmcubm9kZSgpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLyAyKSkub24oJ3RpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHRpY2soKTsKICAgIH0pLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChvcHRpb25zLnpvb21GaXQgJiYgIWp1c3RMb2FkZWQpIHsKICAgICAgICBqdXN0TG9hZGVkID0gdHJ1ZTsKICAgICAgICB6b29tRml0KDIpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBzaW11bGF0aW9uOwogIH0KCiAgZnVuY3Rpb24gbG9hZE5lbzRqRGF0YSgpIHsKICAgIG5vZGVzID0gW107CiAgICByZWxhdGlvbnNoaXBzID0gW107CiAgICB1cGRhdGVXaXRoTmVvNGpEYXRhKG9wdGlvbnMubmVvNGpEYXRhKTsKICB9CgogIGZ1bmN0aW9uIGxvYWROZW80akRhdGFGcm9tVXJsKG5lbzRqRGF0YVVybCkgewogICAgbm9kZXMgPSBbXTsKICAgIHJlbGF0aW9uc2hpcHMgPSBbXTsKICAgIGQzLmpzb24obmVvNGpEYXRhVXJsLCBmdW5jdGlvbiAoZXJyb3IsIGRhdGEpIHsKICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KCiAgICAgIHVwZGF0ZVdpdGhOZW80akRhdGEoZGF0YSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlKSB7CiAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAgIHRhcmdldFtwcm9wZXJ0eV0gPSBzb3VyY2VbcHJvcGVydHldOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBuZW80akRhdGFUb0QzRGF0YShkYXRhKSB7CiAgICB2YXIgZ3JhcGggPSB7CiAgICAgIG5vZGVzOiBbXSwKICAgICAgcmVsYXRpb25zaGlwczogW10KICAgIH07CiAgICBkYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIHJlc3VsdC5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBkYXRhLmdyYXBoLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgIGlmICghY29udGFpbnMoZ3JhcGgubm9kZXMsIG5vZGUuaWQpKSB7CiAgICAgICAgICAgIGdyYXBoLm5vZGVzLnB1c2gobm9kZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzLmZvckVhY2goZnVuY3Rpb24gKHJlbGF0aW9uc2hpcCkgewogICAgICAgICAgcmVsYXRpb25zaGlwLnNvdXJjZSA9IHJlbGF0aW9uc2hpcC5zdGFydE5vZGU7CiAgICAgICAgICByZWxhdGlvbnNoaXAudGFyZ2V0ID0gcmVsYXRpb25zaGlwLmVuZE5vZGU7CiAgICAgICAgICBncmFwaC5yZWxhdGlvbnNoaXBzLnB1c2gocmVsYXRpb25zaGlwKTsKICAgICAgICB9KTsKICAgICAgICBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgaWYgKGEuc291cmNlID4gYi5zb3VyY2UpIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICB9IGVsc2UgaWYgKGEuc291cmNlIDwgYi5zb3VyY2UpIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGEudGFyZ2V0ID4gYi50YXJnZXQpIHsKICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGEudGFyZ2V0IDwgYi50YXJnZXQpIHsKICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChpICE9PSAwICYmIGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpXS5zb3VyY2UgPT09IGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpIC0gMV0uc291cmNlICYmIGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpXS50YXJnZXQgPT09IGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpIC0gMV0udGFyZ2V0KSB7CiAgICAgICAgICAgIGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpXS5saW5rbnVtID0gZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2kgLSAxXS5saW5rbnVtICsgMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpXS5saW5rbnVtID0gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gZ3JhcGg7CiAgfQoKICBmdW5jdGlvbiByYW5kb21EM0RhdGEoZCwgbWF4Tm9kZXNUb0dlbmVyYXRlKSB7CiAgICB2YXIgZGF0YSA9IHsKICAgICAgbm9kZXM6IFtdLAogICAgICByZWxhdGlvbnNoaXBzOiBbXQogICAgfSwKICAgICAgICBpLAogICAgICAgIGxhYmVsLAogICAgICAgIG5vZGUsCiAgICAgICAgbnVtTm9kZXMgPSAobWF4Tm9kZXNUb0dlbmVyYXRlICogTWF0aC5yYW5kb20oKSA8PCAwKSArIDEsCiAgICAgICAgcmVsYXRpb25zaGlwLAogICAgICAgIHMgPSBzaXplKCk7CgogICAgZm9yIChpID0gMDsgaSA8IG51bU5vZGVzOyBpKyspIHsKICAgICAgbGFiZWwgPSByYW5kb21MYWJlbCgpOwogICAgICBub2RlID0gewogICAgICAgIGlkOiBzLm5vZGVzICsgMSArIGksCiAgICAgICAgbGFiZWxzOiBbbGFiZWxdLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgIHJhbmRvbTogbGFiZWwKICAgICAgICB9LAogICAgICAgIHg6IGQueCwKICAgICAgICB5OiBkLnkKICAgICAgfTsKICAgICAgZGF0YS5ub2Rlc1tkYXRhLm5vZGVzLmxlbmd0aF0gPSBub2RlOwogICAgICByZWxhdGlvbnNoaXAgPSB7CiAgICAgICAgaWQ6IHMucmVsYXRpb25zaGlwcyArIDEgKyBpLAogICAgICAgIHR5cGU6IGxhYmVsLnRvVXBwZXJDYXNlKCksCiAgICAgICAgc3RhcnROb2RlOiBkLmlkLAogICAgICAgIGVuZE5vZGU6IHMubm9kZXMgKyAxICsgaSwKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICBmcm9tOiBEYXRlLm5vdygpCiAgICAgICAgfSwKICAgICAgICBzb3VyY2U6IGQuaWQsCiAgICAgICAgdGFyZ2V0OiBzLm5vZGVzICsgMSArIGksCiAgICAgICAgbGlua251bTogcy5yZWxhdGlvbnNoaXBzICsgMSArIGkKICAgICAgfTsKICAgICAgZGF0YS5yZWxhdGlvbnNoaXBzW2RhdGEucmVsYXRpb25zaGlwcy5sZW5ndGhdID0gcmVsYXRpb25zaGlwOwogICAgfQoKICAgIHJldHVybiBkYXRhOwogIH0KCiAgZnVuY3Rpb24gcmFuZG9tTGFiZWwoKSB7CiAgICB2YXIgaWNvbnMgPSBPYmplY3Qua2V5cyhvcHRpb25zLmljb25NYXApOwogICAgcmV0dXJuIGljb25zW2ljb25zLmxlbmd0aCAqIE1hdGgucmFuZG9tKCkgPDwgMF07CiAgfQoKICBmdW5jdGlvbiByb3RhdGUoY3gsIGN5LCB4LCB5LCBhbmdsZSkgewogICAgdmFyIHJhZGlhbnMgPSBNYXRoLlBJIC8gMTgwICogYW5nbGUsCiAgICAgICAgY29zID0gTWF0aC5jb3MocmFkaWFucyksCiAgICAgICAgc2luID0gTWF0aC5zaW4ocmFkaWFucyksCiAgICAgICAgbnggPSBjb3MgKiAoeCAtIGN4KSArIHNpbiAqICh5IC0gY3kpICsgY3gsCiAgICAgICAgbnkgPSBjb3MgKiAoeSAtIGN5KSAtIHNpbiAqICh4IC0gY3gpICsgY3k7CiAgICByZXR1cm4gewogICAgICB4OiBueCwKICAgICAgeTogbnkKICAgIH07CiAgfQoKICBmdW5jdGlvbiByb3RhdGVQb2ludChjLCBwLCBhbmdsZSkgewogICAgcmV0dXJuIHJvdGF0ZShjLngsIGMueSwgcC54LCBwLnksIGFuZ2xlKTsKICB9CgogIGZ1bmN0aW9uIHJvdGF0aW9uKHNvdXJjZSwgdGFyZ2V0KSB7CiAgICByZXR1cm4gTWF0aC5hdGFuMih0YXJnZXQueSAtIHNvdXJjZS55LCB0YXJnZXQueCAtIHNvdXJjZS54KSAqIDE4MCAvIE1hdGguUEk7CiAgfQoKICBmdW5jdGlvbiBzaXplKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9kZXM6IG5vZGVzLmxlbmd0aCwKICAgICAgcmVsYXRpb25zaGlwczogcmVsYXRpb25zaGlwcy5sZW5ndGgKICAgIH07CiAgfQogIC8qCiAgICBmdW5jdGlvbiBzbW9vdGhUcmFuc2Zvcm0oZWxlbSwgdHJhbnNsYXRlLCBzY2FsZSkgewogICAgICAgIHZhciBhbmltYXRpb25NaWxsaXNlY29uZHMgPSA1MDAwLAogICAgICAgICAgICB0aW1lb3V0TWlsbGlzZWNvbmRzID0gNTAsCiAgICAgICAgICAgIHN0ZXBzID0gcGFyc2VJbnQoYW5pbWF0aW9uTWlsbGlzZWNvbmRzIC8gdGltZW91dE1pbGxpc2Vjb25kcyk7CiAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNtb290aFRyYW5zZm9ybVN0ZXAoZWxlbSwgdHJhbnNsYXRlLCBzY2FsZSwgdGltZW91dE1pbGxpc2Vjb25kcywgMSwgc3RlcHMpOwogICAgICAgIH0sIHRpbWVvdXRNaWxsaXNlY29uZHMpOwogICAgfQogICAgIGZ1bmN0aW9uIHNtb290aFRyYW5zZm9ybVN0ZXAoZWxlbSwgdHJhbnNsYXRlLCBzY2FsZSwgdGltZW91dE1pbGxpc2Vjb25kcywgc3RlcCwgc3RlcHMpIHsKICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBzdGVwIC8gc3RlcHM7CiAgICAgICAgIGVsZW0uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHRyYW5zbGF0ZVswXSAqIHByb2dyZXNzKSArICcsICcgKyAodHJhbnNsYXRlWzFdICogcHJvZ3Jlc3MpICsgJykgc2NhbGUoJyArIChzY2FsZSAqIHByb2dyZXNzKSArICcpJyk7CiAgICAgICAgIGlmIChzdGVwIDwgc3RlcHMpIHsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHNtb290aFRyYW5zZm9ybVN0ZXAoZWxlbSwgdHJhbnNsYXRlLCBzY2FsZSwgdGltZW91dE1pbGxpc2Vjb25kcywgc3RlcCArIDEsIHN0ZXBzKTsKICAgICAgICAgICAgfSwgdGltZW91dE1pbGxpc2Vjb25kcyk7CiAgICAgICAgfQogICAgfQogICovCgoKICBmdW5jdGlvbiBzdGlja05vZGUoZCkgewogICAgZC5meCA9IGQzLmV2ZW50Lng7CiAgICBkLmZ5ID0gZDMuZXZlbnQueTsKICB9CgogIGZ1bmN0aW9uIHRpY2soKSB7CiAgICB0aWNrTm9kZXMoKTsKICAgIHRpY2tSZWxhdGlvbnNoaXBzKCk7CiAgfQoKICBmdW5jdGlvbiB0aWNrTm9kZXMoKSB7CiAgICBpZiAobm9kZSkgewogICAgICBub2RlLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsICcgKyBkLnkgKyAnKSc7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdGlja1JlbGF0aW9uc2hpcHMoKSB7CiAgICBpZiAocmVsYXRpb25zaGlwKSB7CiAgICAgIHJlbGF0aW9uc2hpcC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHZhciBhbmdsZSA9IHJvdGF0aW9uKGQuc291cmNlLCBkLnRhcmdldCk7CiAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQuc291cmNlLnggKyAnLCAnICsgZC5zb3VyY2UueSArICcpIHJvdGF0ZSgnICsgYW5nbGUgKyAnKSc7CiAgICAgIH0pOwogICAgICB0aWNrUmVsYXRpb25zaGlwc1RleHRzKCk7CiAgICAgIHRpY2tSZWxhdGlvbnNoaXBzT3V0bGluZXMoKTsKICAgICAgdGlja1JlbGF0aW9uc2hpcHNPdmVybGF5cygpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdGlja1JlbGF0aW9uc2hpcHNPdXRsaW5lcygpIHsKICAgIHJlbGF0aW9uc2hpcC5lYWNoKGZ1bmN0aW9uIChyZWxhdGlvbnNoaXApIHsKICAgICAgdmFyIHJlbCA9IGQzLnNlbGVjdCh0aGlzKSwKICAgICAgICAgIG91dGxpbmUgPSByZWwuc2VsZWN0KCcub3V0bGluZScpLAogICAgICAgICAgdGV4dCA9IHJlbC5zZWxlY3QoJy50ZXh0JyksCiAgICAgICAgICBiYm94ID0gdGV4dC5ub2RlKCkuZ2V0QkJveCgpLAogICAgICAgICAgcGFkZGluZyA9IDM7CiAgICAgIG91dGxpbmUuYXR0cignZCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgdmFyIGNlbnRlciA9IHsKICAgICAgICAgIHg6IDAsCiAgICAgICAgICB5OiAwCiAgICAgICAgfSwKICAgICAgICAgICAgYW5nbGUgPSByb3RhdGlvbihkLnNvdXJjZSwgZC50YXJnZXQpLAogICAgICAgICAgICB0ZXh0Qm91bmRpbmdCb3ggPSB0ZXh0Lm5vZGUoKS5nZXRCQm94KCksCiAgICAgICAgICAgIHRleHRQYWRkaW5nID0gNSwKICAgICAgICAgICAgdSA9IHVuaXRhcnlWZWN0b3IoZC5zb3VyY2UsIGQudGFyZ2V0KSwKICAgICAgICAgICAgdGV4dE1hcmdpbiA9IHsKICAgICAgICAgIHg6IChkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtICh0ZXh0Qm91bmRpbmdCb3gud2lkdGggKyB0ZXh0UGFkZGluZykgKiB1LngpICogMC41LAogICAgICAgICAgeTogKGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gKHRleHRCb3VuZGluZ0JveC53aWR0aCArIHRleHRQYWRkaW5nKSAqIHUueSkgKiAwLjUKICAgICAgICB9LAogICAgICAgICAgICBuID0gdW5pdGFyeU5vcm1hbFZlY3RvcihkLnNvdXJjZSwgZC50YXJnZXQpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRBMSA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogMCArIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCAtIG4ueCwKICAgICAgICAgIHk6IDAgKyAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkgLSBuLnkKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEIxID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiB0ZXh0TWFyZ2luLnggLSBuLngsCiAgICAgICAgICB5OiB0ZXh0TWFyZ2luLnkgLSBuLnkKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEMxID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiB0ZXh0TWFyZ2luLngsCiAgICAgICAgICB5OiB0ZXh0TWFyZ2luLnkKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEQxID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiAwICsgKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54LAogICAgICAgICAgeTogMCArIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50QTIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gdGV4dE1hcmdpbi54IC0gbi54LAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSB0ZXh0TWFyZ2luLnkgLSBuLnkKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEIyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCAtIG4ueCAtIHUueCAqIG9wdGlvbnMuYXJyb3dTaXplLAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkgLSBuLnkgLSB1LnkgKiBvcHRpb25zLmFycm93U2l6ZQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50QzIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54IC0gbi54ICsgKG4ueCAtIHUueCkgKiBvcHRpb25zLmFycm93U2l6ZSwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55IC0gbi55ICsgKG4ueSAtIHUueSkgKiBvcHRpb25zLmFycm93U2l6ZQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50RDIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54LAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEUyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCArICgtbi54IC0gdS54KSAqIG9wdGlvbnMuYXJyb3dTaXplLAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkgKyAoLW4ueSAtIHUueSkgKiBvcHRpb25zLmFycm93U2l6ZQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50RjIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54IC0gdS54ICogb3B0aW9ucy5hcnJvd1NpemUsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueSAtIHUueSAqIG9wdGlvbnMuYXJyb3dTaXplCiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRHMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSB0ZXh0TWFyZ2luLngsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIHRleHRNYXJnaW4ueQogICAgICAgIH0sIGFuZ2xlKTsKICAgICAgICByZXR1cm4gJ00gJyArIHJvdGF0ZWRQb2ludEExLnggKyAnICcgKyByb3RhdGVkUG9pbnRBMS55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRCMS54ICsgJyAnICsgcm90YXRlZFBvaW50QjEueSArICcgTCAnICsgcm90YXRlZFBvaW50QzEueCArICcgJyArIHJvdGF0ZWRQb2ludEMxLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEQxLnggKyAnICcgKyByb3RhdGVkUG9pbnREMS55ICsgJyBaIE0gJyArIHJvdGF0ZWRQb2ludEEyLnggKyAnICcgKyByb3RhdGVkUG9pbnRBMi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRCMi54ICsgJyAnICsgcm90YXRlZFBvaW50QjIueSArICcgTCAnICsgcm90YXRlZFBvaW50QzIueCArICcgJyArIHJvdGF0ZWRQb2ludEMyLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEQyLnggKyAnICcgKyByb3RhdGVkUG9pbnREMi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRFMi54ICsgJyAnICsgcm90YXRlZFBvaW50RTIueSArICcgTCAnICsgcm90YXRlZFBvaW50RjIueCArICcgJyArIHJvdGF0ZWRQb2ludEYyLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEcyLnggKyAnICcgKyByb3RhdGVkUG9pbnRHMi55ICsgJyBaJzsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHRpY2tSZWxhdGlvbnNoaXBzT3ZlcmxheXMoKSB7CiAgICByZWxhdGlvbnNoaXBPdmVybGF5LmF0dHIoJ2QnLCBmdW5jdGlvbiAoZCkgewogICAgICB2YXIgY2VudGVyID0gewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMAogICAgICB9LAogICAgICAgICAgYW5nbGUgPSByb3RhdGlvbihkLnNvdXJjZSwgZC50YXJnZXQpLAogICAgICAgICAgbjEgPSB1bml0YXJ5Tm9ybWFsVmVjdG9yKGQuc291cmNlLCBkLnRhcmdldCksCiAgICAgICAgICBuID0gdW5pdGFyeU5vcm1hbFZlY3RvcihkLnNvdXJjZSwgZC50YXJnZXQsIDUwKSwKICAgICAgICAgIHJvdGF0ZWRQb2ludEEgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICB4OiAwIC0gbi54LAogICAgICAgIHk6IDAgLSBuLnkKICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgcm90YXRlZFBvaW50QiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gbi54LAogICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gbi55CiAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgIHJvdGF0ZWRQb2ludEMgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCArIG4ueCAtIG4xLngsCiAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgKyBuLnkgLSBuMS55CiAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgIHJvdGF0ZWRQb2ludEQgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICB4OiAwICsgbi54IC0gbjEueCwKICAgICAgICB5OiAwICsgbi55IC0gbjEueQogICAgICB9LCBhbmdsZSk7CiAgICAgIHJldHVybiAnTSAnICsgcm90YXRlZFBvaW50QS54ICsgJyAnICsgcm90YXRlZFBvaW50QS55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRCLnggKyAnICcgKyByb3RhdGVkUG9pbnRCLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEMueCArICcgJyArIHJvdGF0ZWRQb2ludEMueSArICcgTCAnICsgcm90YXRlZFBvaW50RC54ICsgJyAnICsgcm90YXRlZFBvaW50RC55ICsgJyBaJzsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdGlja1JlbGF0aW9uc2hpcHNUZXh0cygpIHsKICAgIHJlbGF0aW9uc2hpcFRleHQuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHsKICAgICAgdmFyIGFuZ2xlID0gKHJvdGF0aW9uKGQuc291cmNlLCBkLnRhcmdldCkgKyAzNjApICUgMzYwLAogICAgICAgICAgbWlycm9yID0gYW5nbGUgPiA5MCAmJiBhbmdsZSA8IDI3MCwKICAgICAgICAgIGNlbnRlciA9IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfSwKICAgICAgICAgIG4gPSB1bml0YXJ5Tm9ybWFsVmVjdG9yKGQuc291cmNlLCBkLnRhcmdldCksCiAgICAgICAgICBuV2VpZ2h0ID0gbWlycm9yID8gMiA6IC0zLAogICAgICAgICAgcG9pbnQgPSB7CiAgICAgICAgeDogKGQudGFyZ2V0LnggLSBkLnNvdXJjZS54KSAqIDAuNSArIG4ueCAqIG5XZWlnaHQsCiAgICAgICAgeTogKGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55KSAqIDAuNSArIG4ueSAqIG5XZWlnaHQKICAgICAgfSwKICAgICAgICAgIHJvdGF0ZWRQb2ludCA9IHJvdGF0ZVBvaW50KGNlbnRlciwgcG9pbnQsIGFuZ2xlKTsKICAgICAgdmFyIHRyYW5zbGF0ZV9yZXMgPSAndHJhbnNsYXRlKCcgKyByb3RhdGVkUG9pbnQueCArICcsICcgKyByb3RhdGVkUG9pbnQueSArICcpJzsKCiAgICAgIGlmIChhbmdsZSA+IDkwICYmIGFuZ2xlIDw9IDI3OSkgewogICAgICAgIHRyYW5zbGF0ZV9yZXMgKz0gJyByb3RhdGUoMTgwKSc7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cmFuc2xhdGVfcmVzOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0b1N0cmluZyhkKSB7CiAgICB2YXIgcyA9IGQubGFiZWxzID8gZC5sYWJlbHNbMF0gOiBkLnR5cGU7CiAgICBzICs9ICcgKDxpZD46ICcgKyBkLmlkOwogICAgT2JqZWN0LmtleXMoZC5wcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICBzICs9ICcsICcgKyBwcm9wZXJ0eSArICc6ICcgKyBKU09OLnN0cmluZ2lmeShkLnByb3BlcnRpZXNbcHJvcGVydHldKTsKICAgIH0pOwogICAgcyArPSAnKSc7CiAgICByZXR1cm4gczsKICB9CgogIGZ1bmN0aW9uIHVuaXRhcnlOb3JtYWxWZWN0b3Ioc291cmNlLCB0YXJnZXQsIG5ld0xlbmd0aCkgewogICAgdmFyIGNlbnRlciA9IHsKICAgICAgeDogMCwKICAgICAgeTogMAogICAgfSwKICAgICAgICB2ZWN0b3IgPSB1bml0YXJ5VmVjdG9yKHNvdXJjZSwgdGFyZ2V0LCBuZXdMZW5ndGgpOwogICAgcmV0dXJuIHJvdGF0ZVBvaW50KGNlbnRlciwgdmVjdG9yLCA5MCk7CiAgfQoKICBmdW5jdGlvbiB1bml0YXJ5VmVjdG9yKHNvdXJjZSwgdGFyZ2V0LCBuZXdMZW5ndGgpIHsKICAgIHZhciBsZW5ndGggPSBNYXRoLnNxcnQoTWF0aC5wb3codGFyZ2V0LnggLSBzb3VyY2UueCwgMikgKyBNYXRoLnBvdyh0YXJnZXQueSAtIHNvdXJjZS55LCAyKSkgLyBNYXRoLnNxcnQobmV3TGVuZ3RoIHx8IDEpOwogICAgcmV0dXJuIHsKICAgICAgeDogKHRhcmdldC54IC0gc291cmNlLngpIC8gbGVuZ3RoLAogICAgICB5OiAodGFyZ2V0LnkgLSBzb3VyY2UueSkgLyBsZW5ndGgKICAgIH07CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVXaXRoRDNEYXRhKGQzRGF0YSkgewogICAgdXBkYXRlTm9kZXNBbmRSZWxhdGlvbnNoaXBzKGQzRGF0YS5ub2RlcywgZDNEYXRhLnJlbGF0aW9uc2hpcHMpOwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlV2l0aE5lbzRqRGF0YShuZW80akRhdGEpIHsKICAgIHZhciBkM0RhdGEgPSBuZW80akRhdGFUb0QzRGF0YShuZW80akRhdGEpOwogICAgdXBkYXRlV2l0aEQzRGF0YShkM0RhdGEpOwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlSW5mbyhkKSB7CiAgICBjbGVhckluZm8oKTsKCiAgICBpZiAoZC5sYWJlbHMpIHsKICAgICAgYXBwZW5kSW5mb0VsZW1lbnRDbGFzcygnY2xhc3MnLCBkLmxhYmVsc1swXSk7CiAgICB9IGVsc2UgewogICAgICBhcHBlbmRJbmZvRWxlbWVudFJlbGF0aW9uc2hpcCgnY2xhc3MnLCBkLnR5cGUpOwogICAgfQoKICAgIGFwcGVuZEluZm9FbGVtZW50UHJvcGVydHkoJ3Byb3BlcnR5JywgJyZsdDtpZCZndDsnLCBkLmlkKTsKICAgIE9iamVjdC5rZXlzKGQucHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICAgYXBwZW5kSW5mb0VsZW1lbnRQcm9wZXJ0eSgncHJvcGVydHknLCBwcm9wZXJ0eSwgSlNPTi5zdHJpbmdpZnkoZC5wcm9wZXJ0aWVzW3Byb3BlcnR5XSkpOwogICAgfSk7CiAgfQogIC8qKgogICAqIFB1c2ggYXJyMiB0byBhcnIyIGF2b2lkIGR1cGxpY2F0ZSBvZiBpZAogICAqIEBwYXJhbSB7Kn0gYXJyMSAKICAgKiBAcGFyYW0geyp9IGFycjIgCiAgICovCgoKICBmdW5jdGlvbiBhcnJheVB1c2goYXJyMSwgYXJyMikgewogICAgdmFyIHZpc2l0ZWQgPSB7fTsKICAgIHZhciBpZHMgPSBhcnIxLm1hcChmdW5jdGlvbiAoZCkgewogICAgICB2aXNpdGVkW2QuaWRdID0gZmFsc2U7CiAgICAgIHJldHVybiBkLmlkOwogICAgfSk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIyLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB0bXBJZCA9IGFycjJbaV0uaWQ7CgogICAgICBpZiAoIWlkcy5pbmNsdWRlcyh0bXBJZCkpIHsKICAgICAgICBhcnIxLnB1c2goYXJyMltpXSk7CiAgICAgICAgaWRzLnB1c2godG1wSWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHZpc2l0ZWRbdG1wSWRdID0gdHJ1ZTsKICAgICAgfQogICAgfSAvLyByZW1vdmUgbm9uLXZpc3RlZCB2YWx1ZXMKCgogICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2aXNpdGVkKTsKCiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHJlbW92ZUlkID0ga2V5c1tqXTsKCiAgICAgIGlmICh2aXNpdGVkW3JlbW92ZUlkXSA9PSBmYWxzZSkgewogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXJyMS5sZW5ndGg7IGsrKykgewogICAgICAgICAgaWYgKGFycjFba10uaWQgPT0gcmVtb3ZlSWQpIHsKICAgICAgICAgICAgYXJyMS5zcGxpY2UoaywgMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gdXBkYXRlTm9kZXMobikgewogICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobm9kZXMsIG4pCiAgICBhcnJheVB1c2gobm9kZXMsIG4pOwogICAgbm9kZSA9IHN2Z05vZGVzLnNlbGVjdEFsbCgnLm5vZGUnKS5kYXRhKG5vZGVzLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5pZDsKICAgIH0pOyAvLyAuZGF0YShub2RlSWRzKQoKICAgIHZhciBub2RlRW50ZXIgPSBhcHBlbmROb2RlVG9HcmFwaCgpOwogICAgbm9kZSA9IG5vZGVFbnRlci5tZXJnZShub2RlKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZU5vZGVzQW5kUmVsYXRpb25zaGlwcyhuLCByKSB7CiAgICB1cGRhdGVSZWxhdGlvbnNoaXBzKHIpOwogICAgdXBkYXRlTm9kZXMobik7CiAgICBzaW11bGF0aW9uLm5vZGVzKG5vZGVzKTsKICAgIHNpbXVsYXRpb24uZm9yY2UoJ2xpbmsnKS5saW5rcyhyZWxhdGlvbnNoaXBzKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVJlbGF0aW9uc2hpcHMocikgewogICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVsYXRpb25zaGlwcywgcikKICAgIGFycmF5UHVzaChyZWxhdGlvbnNoaXBzLCByKTsKICAgIHJlbGF0aW9uc2hpcCA9IHN2Z1JlbGF0aW9uc2hpcHMuc2VsZWN0QWxsKCcucmVsYXRpb25zaGlwJykuZGF0YShyZWxhdGlvbnNoaXBzLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5pZDsKICAgIH0pOwogICAgdmFyIHJlbGF0aW9uc2hpcEVudGVyID0gYXBwZW5kUmVsYXRpb25zaGlwVG9HcmFwaCgpOwogICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwRW50ZXIucmVsYXRpb25zaGlwLm1lcmdlKHJlbGF0aW9uc2hpcCk7CiAgICByZWxhdGlvbnNoaXBPdXRsaW5lID0gc3ZnLnNlbGVjdEFsbCgnLnJlbGF0aW9uc2hpcCAub3V0bGluZScpOwogICAgcmVsYXRpb25zaGlwT3V0bGluZSA9IHJlbGF0aW9uc2hpcEVudGVyLm91dGxpbmUubWVyZ2UocmVsYXRpb25zaGlwT3V0bGluZSk7CiAgICByZWxhdGlvbnNoaXBPdmVybGF5ID0gc3ZnLnNlbGVjdEFsbCgnLnJlbGF0aW9uc2hpcCAub3ZlcmxheScpOwogICAgcmVsYXRpb25zaGlwT3ZlcmxheSA9IHJlbGF0aW9uc2hpcEVudGVyLm92ZXJsYXkubWVyZ2UocmVsYXRpb25zaGlwT3ZlcmxheSk7CiAgICByZWxhdGlvbnNoaXBUZXh0ID0gc3ZnLnNlbGVjdEFsbCgnLnJlbGF0aW9uc2hpcCAudGV4dCcpOwogICAgcmVsYXRpb25zaGlwVGV4dCA9IHJlbGF0aW9uc2hpcEVudGVyLnRleHQubWVyZ2UocmVsYXRpb25zaGlwVGV4dCk7CiAgfQoKICBmdW5jdGlvbiB2ZXJzaW9uKCkgewogICAgcmV0dXJuIFZFUlNJT047CiAgfQoKICBmdW5jdGlvbiB6b29tRml0KHRyYW5zaXRpb25EdXJhdGlvbikgewogICAgdmFyIGJvdW5kcyA9IHN2Zy5ub2RlKCkuZ2V0QkJveCgpLAogICAgICAgIHBhcmVudCA9IHN2Zy5ub2RlKCkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LAogICAgICAgIGZ1bGxXaWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aCwKICAgICAgICBmdWxsSGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCwKICAgICAgICB3aWR0aCA9IGJvdW5kcy53aWR0aCwKICAgICAgICBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0LAogICAgICAgIG1pZFggPSBib3VuZHMueCArIHdpZHRoIC8gMiwKICAgICAgICBtaWRZID0gYm91bmRzLnkgKyBoZWlnaHQgLyAyOwoKICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHsKICAgICAgcmV0dXJuOyAvLyBub3RoaW5nIHRvIGZpdAogICAgfQoKICAgIHN2Z1NjYWxlID0gMC44NSAvIE1hdGgubWF4KHdpZHRoIC8gZnVsbFdpZHRoLCBoZWlnaHQgLyBmdWxsSGVpZ2h0KTsKICAgIHN2Z1RyYW5zbGF0ZSA9IFtmdWxsV2lkdGggLyAyIC0gc3ZnU2NhbGUgKiBtaWRYLCBmdWxsSGVpZ2h0IC8gMiAtIHN2Z1NjYWxlICogbWlkWV07CiAgICBzdmcuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgc3ZnVHJhbnNsYXRlWzBdICsgJywgJyArIHN2Z1RyYW5zbGF0ZVsxXSArICcpIHNjYWxlKCcgKyBzdmdTY2FsZSArICcpJyk7IC8vICAgICAgICBzbW9vdGhUcmFuc2Zvcm0oc3ZnVHJhbnNsYXRlLCBzdmdTY2FsZSk7CiAgfQoKICBpbml0KF9zZWxlY3RvciwgX29wdGlvbnMpOwogIHJldHVybiB7CiAgICBhcHBlbmRSYW5kb21EYXRhVG9Ob2RlOiBhcHBlbmRSYW5kb21EYXRhVG9Ob2RlLAogICAgbmVvNGpEYXRhVG9EM0RhdGE6IG5lbzRqRGF0YVRvRDNEYXRhLAogICAgcmFuZG9tRDNEYXRhOiByYW5kb21EM0RhdGEsCiAgICBzaXplOiBzaXplLAogICAgdXBkYXRlV2l0aEQzRGF0YTogdXBkYXRlV2l0aEQzRGF0YSwKICAgIHVwZGF0ZVdpdGhOZW80akRhdGE6IHVwZGF0ZVdpdGhOZW80akRhdGEsCiAgICB2ZXJzaW9uOiB2ZXJzaW9uCiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgTmVvNGpEMzs="},{"version":3,"sources":["/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/js/Neo4jD3.js"],"names":["d3","Neo4jD3","_selector","_options","container","graph","info","node","nodes","relationship","relationshipOutline","relationshipOverlay","relationshipText","relationships","selector","simulation","svg","svgNodes","svgRelationships","svgScale","svgTranslate","classes2colors","justLoaded","numClasses","options","arrowSize","colors","highlight","undefined","iconMap","fontAwesomeIcons","icons","imageMap","images","infoPanel","minCollision","neo4jData","neo4jDataUrl","nodeOutlineFillColor","nodeRadius","relationshipColor","zoomFit","VERSION","appendGraph","append","attr","on","appendImageToNode","d","icon","image","appendInfoPanel","appendInfoElement","cls","isNode","property","value","elem","html","style","class2color","defaultColor","class2darkenColor","defaultDarkenColor","appendInfoElementClass","appendInfoElementProperty","appendInfoElementRelationship","appendNode","exit","remove","enter","i","classes","label","labels","length","properties","id","fx","fy","onNodeClick","stickNode","onNodeDoubleClick","updateInfo","onNodeMouseEnter","clearInfo","onNodeMouseLeave","call","drag","dragStarted","dragged","dragEnded","appendNodeToGraph","n","appendRingToNode","appendOutlineToNode","appendLabeltoNode","appendTextToNode","each","text_nodes","selection","select","text","textDisplay","threshold","res","text_tokens","split","tmp","token","push","slice","entity_type","color","parseInt","Math","round","_icon","appendRandomDataToNode","maxNodesToGenerate","data","randomD3Data","updateWithNeo4jData","appendRelationship","onRelationshipDoubleClick","appendOutlineToRelationship","r","relationship_type","appendOverlayToRelationship","appendTextToRelationship","mapping","appendRelationshipToGraph","outline","overlay","rgb","darker","random","contains","array","filter","event","active","alphaTarget","onNodeDragEnd","restart","x","y","onNodeDragStart","extend","obj1","obj2","obj","merge","code","showIcons","imagesForLabel","img","imgLevel","labelPropertyValue","init","initIconMap","initImageMap","initSimulation","loadNeo4jData","loadNeo4jDataFromUrl","console","error","Object","keys","forEach","key","index","hasOwnProperty","forceSimulation","force","forceCollide","radius","iterations","forceManyBody","strength","forceLink","distance","forceCenter","parentElement","clientWidth","clientHeight","tick","json","target","source","neo4jDataToD3Data","results","result","startNode","endNode","sort","a","b","linknum","numNodes","s","size","randomLabel","type","toUpperCase","from","Date","now","rotate","cx","cy","angle","radians","PI","cos","sin","nx","ny","rotatePoint","c","p","rotation","atan2","tickNodes","tickRelationships","tickRelationshipsTexts","tickRelationshipsOutlines","tickRelationshipsOverlays","rel","bbox","getBBox","padding","center","textBoundingBox","textPadding","u","unitaryVector","textMargin","width","unitaryNormalVector","rotatedPointA1","rotatedPointB1","rotatedPointC1","rotatedPointD1","rotatedPointA2","rotatedPointB2","rotatedPointC2","rotatedPointD2","rotatedPointE2","rotatedPointF2","rotatedPointG2","n1","rotatedPointA","rotatedPointB","rotatedPointC","rotatedPointD","mirror","nWeight","point","rotatedPoint","translate_res","toString","JSON","stringify","newLength","vector","sqrt","pow","updateWithD3Data","d3Data","updateNodesAndRelationships","arrayPush","arr1","arr2","visited","ids","map","tmpId","includes","j","removeId","k","splice","updateNodes","selectAll","nodeEnter","updateRelationships","links","relationshipEnter","version","transitionDuration","bounds","parent","fullWidth","fullHeight","height","midX","midY","max"],"mappings":"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","sourcesContent":["/* global d3, document */\n/* jshint latedef:nofunc */\nimport * as d3 from 'd3'\n\nfunction Neo4jD3 (_selector, _options) {\n  var container, graph, info, node, nodes, relationship, relationshipOutline, relationshipOverlay, relationshipText, relationships, selector, simulation, svg, svgNodes, svgRelationships, svgScale, svgTranslate,\n    classes2colors = {},\n    justLoaded = false,\n    numClasses = 0,\n    options = {\n      arrowSize: 4,\n      colors: colors(),\n      highlight: undefined,\n      iconMap: fontAwesomeIcons(),\n      icons: undefined,\n      imageMap: {},\n      images: undefined,\n      infoPanel: true,\n      minCollision: undefined,\n      neo4jData: undefined,\n      neo4jDataUrl: undefined,\n      nodeOutlineFillColor: undefined,\n      nodeRadius: 25,\n      relationshipColor: '#a5abb6',\n      zoomFit: false\n    },\n    VERSION = '0.0.1'\n\n\n  function appendGraph (container) {\n    svg= container.append('svg')\n      .attr('width', '100%')\n      .attr('height', '100%')\n      .attr('class', 'neo4jd3-graph')\n      .on('dblclick.zoom', null)\n      .append('g')\n      .attr('width', '100%')\n      .attr('height', '100%')\n       \n   \n      \n    svgRelationships = svg.append('g')\n      .attr('class', 'relationships')\n\n    svgNodes = svg.append('g')\n      .attr('class', 'nodes')\n  }\n\n  function appendImageToNode (node) {\n    return node.append('image')\n      .attr('height', function (d) {\n        return icon(d) ? '24px' : '30px'\n      })\n      .attr('x', function (d) {\n        return icon(d) ? '5px' : '-15px'\n      })\n      .attr('xlink:href', function (d) {\n        return image(d)\n      })\n      .attr('y', function (d) {\n        return icon(d) ? '5px' : '-16px'\n      })\n      .attr('width', function (d) {\n        return icon(d) ? '24px' : '30px'\n      })\n  }\n\n  function appendInfoPanel (container) {\n    return container.append('div')\n      .attr('class', 'neo4jd3-info')\n  }\n\n  function appendInfoElement (cls, isNode, property, value) {\n    var elem = info.append('a')\n\n    elem.attr('href', '#')\n      .attr('class', cls)\n      .html('<strong>' + property + '</strong>' + (value ? (': ' + value) : ''))\n\n    if (!value) {\n      elem.style('background-color', function (d) {\n        return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : (isNode ? class2color(property) : defaultColor())\n      })\n        .style('border-color', function (d) {\n          return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : (isNode ? class2darkenColor(property) : defaultDarkenColor())\n        })\n        .style('color', function (d) {\n          return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : '#fff'\n        })\n    }\n  }\n\n  function appendInfoElementClass (cls, node) {\n    appendInfoElement(cls, true, node)\n  }\n\n  function appendInfoElementProperty (cls, property, value) {\n    appendInfoElement(cls, false, property, value)\n  }\n\n  function appendInfoElementRelationship (cls, relationship) {\n    appendInfoElement(cls, false, relationship)\n  }\n\n  function appendNode () {\n    // exist removed nodes\n    node.exit().remove()\n\n    return node.enter()\n      .append('g')\n      .attr('class', function (d) {\n        var highlight, i,\n          classes = 'node',\n          label = d.labels[0]\n\n        if (icon(d)) {\n          classes += ' node-icon'\n        }\n\n        if (image(d)) {\n          classes += ' node-image'\n        }\n\n        if (options.highlight) {\n          for (i = 0; i < options.highlight.length; i++) {\n            highlight = options.highlight[i]\n\n            if (d.labels[0] === highlight.class && d.properties[highlight.property] === highlight.value) {\n              classes += ' node-highlighted'\n              break\n            }\n          }\n        }\n\n        return classes\n      })\n      .attr('id', d=>`node-${d.id}`)\n      .on('click', function (d,i) {\n        d.fx = d.fy = null\n\n        if (typeof options.onNodeClick === 'function') {\n          options.onNodeClick(d,i)\n        }\n      })\n      .on('dblclick', function (d) {\n        stickNode(d)\n\n        if (typeof options.onNodeDoubleClick === 'function') {\n          options.onNodeDoubleClick(d)\n        }\n      })\n      .on('mouseenter', function (d) {\n        if (info) {\n          updateInfo(d)\n        }\n\n        if (typeof options.onNodeMouseEnter === 'function') {\n          options.onNodeMouseEnter(d)\n        }\n      })\n      .on('mouseleave', function (d) {\n        if (info) {\n          clearInfo(d)\n        }\n\n        if (typeof options.onNodeMouseLeave === 'function') {\n          options.onNodeMouseLeave(d)\n        }\n      })\n      .call(d3.drag()\n        .on('start', dragStarted)\n        .on('drag', dragged)\n        .on('end', dragEnded))\n  }\n\n  function appendNodeToGraph () {\n    var n = appendNode()\n\n    appendRingToNode(n)\n    appendOutlineToNode(n)\n    appendLabeltoNode(n)\n    if (options.icons) {\n      appendTextToNode(n)\n    }\n\n    if (options.images) {\n      appendImageToNode(n)\n    }\n\n    return n\n  }\n  function appendLabeltoNode (node) {\n    \n    node\n      .each(function (d) {\n        // let mapping = d['properties']['mapping']\n        const text_nodes = d['id']\n        const selection = d3.select(this)\n          selection.append('text')\n            .attr('x', '0')\n            .attr('y', '0')\n            .style('font-size', '10px')\n            .style('text-anchor', 'middle')\n            .style('fill', 'white')\n            .style('pointer-events', 'none')\n            .style('font-weight', 'bold')\n            .text(text_nodes)\n         \n      })\n    // const text_nodes = textDisplay()\n  }\n\n  function textDisplay (text) {\n    let threshold = 9\n\n    let res = []\n    if (text) {\n      let text_tokens = text.split(' ')\n      let tmp = ''\n      for (let token of text_tokens) {\n        if (res.length < 2) {\n          if (tmp.length > threshold) {\n            res.push(token.slice(0, 9) + '..')\n            tmp = ''\n          }\n          if (tmp.length == 0) {\n            if (token.length <= threshold) {\n              tmp += token\n            } else {\n              res.push(token.slice(0, 9) + '..')\n              tmp = ''\n            }\n          } else {\n            if (tmp.length + 1 + token.length <= threshold) {\n              tmp += ' ' + token\n            } else {\n              res.push(tmp)\n              tmp = token\n            }\n          }\n        } else {\n          if (tmp.length == 0) {\n            if (token.length <= threshold) {\n              tmp += token\n            } else {\n              res.push(token.slice(0, 9) + '..')\n              tmp = ''\n            }\n          } else {\n            if (tmp.length + 1 + token.length <= threshold) {\n              tmp += ' ' + token\n            } else {\n              res.push(tmp)\n              tmp = token\n            }\n          }\n          break\n        }\n      }\n      if (tmp.length > 0) {\n        if (tmp.length > threshold) {\n          res.push(tmp.slice(0, 8) + '..')\n        } else {\n          res.push(tmp)\n        }\n      }\n    }else {\n      res = ['None']\n    }\n    return res\n  }\n\n  function appendOutlineToNode (node) {\n    return node.append('circle')\n      .attr('class', d=>`outline nodetype_${d.properties.entity_type?d.properties.entity_type:'undefined'}`)\n      .attr('r', options.nodeRadius)\n      .style('fill', function (d) {\n        return d.color\n        // return '#78b3d0'\n        //    return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : class2color(d.labels[0]);\n      })\n      .style('stroke', function (d) {\n        // return '#358eb8'\n        return d['stroke_color']\n        //    return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : class2darkenColor(d.labels[0]);\n      })\n      .append('title').text(function (d) {\n        // console.log('teeeee', d)\n        return d.properties.label\n      })\n  }\n\n  function appendRingToNode (node) {\n    return node.append('circle')\n      .attr('class', 'ring')\n      .attr('r', options.nodeRadius * 1.16)\n      // .append('title').text(function (d) {\n      //   return toString(d.label)\n      // })\n  }\n\n  function appendTextToNode (node) {\n    return node.append('text')\n      .attr('class', function (d) {\n        return 'text' + (icon(d) ? ' icon' : '')\n      })\n      .attr('stroke', 'white')\n      .attr('font-size', function (d) {\n        return icon(d) ? (options.nodeRadius + 'px') : '10px'\n      })\n      .style('pointer-events', 'none')\n      .attr('text-anchor', 'middle')\n      .attr('y', function (d) {\n        return icon(d) ? (parseInt(Math.round(options.nodeRadius * 0.32)) + 'px') : '4px'\n      })\n      .html(function (d) {\n        var _icon = icon(d)\n        return _icon ? '&#x' + _icon : d.id\n      })\n\n  }\n\n  function appendRandomDataToNode (d, maxNodesToGenerate) {\n    var data = randomD3Data(d, maxNodesToGenerate)\n    updateWithNeo4jData(data)\n  }\n\n  function appendRelationship () {\n    // exist removed relationships\n    relationship.exit().remove()\n    return relationship.enter()\n      .append('g')\n      .attr('class', 'relationship')\n      .on('dblclick', function (d) {\n        if (typeof options.onRelationshipDoubleClick === 'function') {\n          options.onRelationshipDoubleClick(d)\n        }\n      })\n      .on('mouseenter', function (d) {\n        if (info) {\n          updateInfo(d)\n        }\n      })\n  }\n\n  function appendOutlineToRelationship (r) {\n    return r.append('path')\n      .attr('class', d=>`outline nodetype_${d.properties.relationship_type?d.properties.relationship_type:'undefined'}`)\n      .attr('fill', '#a5abb6')\n      .attr('stroke', 'none')\n  }\n\n  function appendOverlayToRelationship (r) {\n    return r.append('path')\n      .attr('class', 'overlay')\n  }\n\n  function appendTextToRelationship (r) {\n    return r.append('text')\n      .attr('class', 'text')\n      .attr('fill', '#000000')\n      .attr('font-size', '10px')\n      .attr('pointer-events', 'none')\n      .attr('text-anchor', 'middle')\n      .attr('color', 'white')\n      .text(function (d) {\n        // console.log(d)\n        let mapping = d['properties']['mapping']\n        return d['properties'][mapping]\n      })\n  }\n\n  function appendRelationshipToGraph () {\n    var relationship = appendRelationship(),\n      text = appendTextToRelationship(relationship),\n      outline = appendOutlineToRelationship(relationship),\n      overlay = appendOverlayToRelationship(relationship)\n\n    return {\n      outline: outline,\n      overlay: overlay,\n      relationship: relationship,\n      text: text\n    }\n  }\n\n  function class2color (cls) {\n    var color = classes2colors[cls]\n\n    if (!color) {\n      //            color = options.colors[Math.min(numClasses, options.colors.length - 1)];\n      color = options.colors[numClasses % options.colors.length]\n      classes2colors[cls] = color\n      numClasses++\n    }\n\n    return color\n  }\n\n  function class2darkenColor (cls) {\n    return d3.rgb(class2color(cls)).darker(1)\n  }\n\n  function clearInfo () {\n    info.html('')\n  }\n\n  function color () {\n    return options.colors[options.colors.length * Math.random() << 0]\n  }\n\n  function colors () {\n    // d3.schemeCategory10,\n    // d3.schemeCategory20,\n    return [\n      '#68bdf6', // light blue\n      '#6dce9e', // green #1\n      '#faafc2', // light pink\n      '#f2baf6', // purple\n      '#ff928c', // light red\n      '#fcea7e', // light yellow\n      '#ffc766', // light orange\n      '#405f9e', // navy blue\n      '#a5abb6', // dark gray\n      '#78cecb', // green #2,\n      '#b88cbb', // dark purple\n      '#ced2d9', // light gray\n      '#e84646', // dark red\n      '#fa5f86', // dark pink\n      '#ffab1a', // dark orange\n      '#fcda19', // dark yellow\n      '#797b80', // black\n      '#c9d96f', // pistacchio\n      '#47991f', // green #3\n      '#70edee', // turquoise\n      '#ff75ea' // pink\n    ]\n  }\n\n  function contains (array, id) {\n    var filter = array.filter(function (elem) {\n      return elem.id === id\n    })\n\n    return filter.length > 0\n  }\n\n  function defaultColor () {\n    return options.relationshipColor\n  }\n\n  function defaultDarkenColor () {\n    return d3.rgb(options.colors[options.colors.length - 1]).darker(1)\n  }\n\n  function dragEnded (d) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0)\n    }\n\n    if (typeof options.onNodeDragEnd === 'function') {\n      options.onNodeDragEnd(d)\n    }\n  }\n\n  function dragged (d) {\n    stickNode(d)\n  }\n\n  function dragStarted (d) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0.3).restart()\n    }\n\n    d.fx = d.x\n    d.fy = d.y\n\n    if (typeof options.onNodeDragStart === 'function') {\n      options.onNodeDragStart(d)\n    }\n  }\n\n  function extend (obj1, obj2) {\n    var obj = {}\n\n    merge(obj, obj1)\n    merge(obj, obj2)\n\n    return obj\n  }\n\n  function fontAwesomeIcons () {\n    return {'glass': 'f000', 'music': 'f001', 'search': 'f002', 'envelope-o': 'f003', 'heart': 'f004', 'star': 'f005', 'star-o': 'f006', 'user': 'f007', 'film': 'f008', 'th-large': 'f009', 'th': 'f00a', 'th-list': 'f00b', 'check': 'f00c', 'remove,close,times': 'f00d', 'search-plus': 'f00e', 'search-minus': 'f010', 'power-off': 'f011', 'signal': 'f012', 'gear,cog': 'f013', 'trash-o': 'f014', 'home': 'f015', 'file-o': 'f016', 'clock-o': 'f017', 'road': 'f018', 'download': 'f019', 'arrow-circle-o-down': 'f01a', 'arrow-circle-o-up': 'f01b', 'inbox': 'f01c', 'play-circle-o': 'f01d', 'rotate-right,repeat': 'f01e', 'refresh': 'f021', 'list-alt': 'f022', 'lock': 'f023', 'flag': 'f024', 'headphones': 'f025', 'volume-off': 'f026', 'volume-down': 'f027', 'volume-up': 'f028', 'qrcode': 'f029', 'barcode': 'f02a', 'tag': 'f02b', 'tags': 'f02c', 'book': 'f02d', 'bookmark': 'f02e', 'print': 'f02f', 'camera': 'f030', 'font': 'f031', 'bold': 'f032', 'italic': 'f033', 'text-height': 'f034', 'text-width': 'f035', 'align-left': 'f036', 'align-center': 'f037', 'align-right': 'f038', 'align-justify': 'f039', 'list': 'f03a', 'dedent,outdent': 'f03b', 'indent': 'f03c', 'video-camera': 'f03d', 'photo,image,picture-o': 'f03e', 'pencil': 'f040', 'map-marker': 'f041', 'adjust': 'f042', 'tint': 'f043', 'edit,pencil-square-o': 'f044', 'share-square-o': 'f045', 'check-square-o': 'f046', 'arrows': 'f047', 'step-backward': 'f048', 'fast-backward': 'f049', 'backward': 'f04a', 'play': 'f04b', 'pause': 'f04c', 'stop': 'f04d', 'forward': 'f04e', 'fast-forward': 'f050', 'step-forward': 'f051', 'eject': 'f052', 'chevron-left': 'f053', 'chevron-right': 'f054', 'plus-circle': 'f055', 'minus-circle': 'f056', 'times-circle': 'f057', 'check-circle': 'f058', 'question-circle': 'f059', 'info-circle': 'f05a', 'crosshairs': 'f05b', 'times-circle-o': 'f05c', 'check-circle-o': 'f05d', 'ban': 'f05e', 'arrow-left': 'f060', 'arrow-right': 'f061', 'arrow-up': 'f062', 'arrow-down': 'f063', 'mail-forward,share': 'f064', 'expand': 'f065', 'compress': 'f066', 'plus': 'f067', 'minus': 'f068', 'asterisk': 'f069', 'exclamation-circle': 'f06a', 'gift': 'f06b', 'leaf': 'f06c', 'fire': 'f06d', 'eye': 'f06e', 'eye-slash': 'f070', 'warning,exclamation-triangle': 'f071', 'plane': 'f072', 'calendar': 'f073', 'random': 'f074', 'comment': 'f075', 'magnet': 'f076', 'chevron-up': 'f077', 'chevron-down': 'f078', 'retweet': 'f079', 'shopping-cart': 'f07a', 'folder': 'f07b', 'folder-open': 'f07c', 'arrows-v': 'f07d', 'arrows-h': 'f07e', 'bar-chart-o,bar-chart': 'f080', 'twitter-square': 'f081', 'facebook-square': 'f082', 'camera-retro': 'f083', 'key': 'f084', 'gears,cogs': 'f085', 'comments': 'f086', 'thumbs-o-up': 'f087', 'thumbs-o-down': 'f088', 'star-half': 'f089', 'heart-o': 'f08a', 'sign-out': 'f08b', 'linkedin-square': 'f08c', 'thumb-tack': 'f08d', 'external-link': 'f08e', 'sign-in': 'f090', 'trophy': 'f091', 'github-square': 'f092', 'upload': 'f093', 'lemon-o': 'f094', 'phone': 'f095', 'square-o': 'f096', 'bookmark-o': 'f097', 'phone-square': 'f098', 'twitter': 'f099', 'facebook-f,facebook': 'f09a', 'github': 'f09b', 'unlock': 'f09c', 'credit-card': 'f09d', 'feed,rss': 'f09e', 'hdd-o': 'f0a0', 'bullhorn': 'f0a1', 'bell': 'f0f3', 'certificate': 'f0a3', 'hand-o-right': 'f0a4', 'hand-o-left': 'f0a5', 'hand-o-up': 'f0a6', 'hand-o-down': 'f0a7', 'arrow-circle-left': 'f0a8', 'arrow-circle-right': 'f0a9', 'arrow-circle-up': 'f0aa', 'arrow-circle-down': 'f0ab', 'globe': 'f0ac', 'wrench': 'f0ad', 'tasks': 'f0ae', 'filter': 'f0b0', 'briefcase': 'f0b1', 'arrows-alt': 'f0b2', 'group,users': 'f0c0', 'chain,link': 'f0c1', 'cloud': 'f0c2', 'flask': 'f0c3', 'cut,scissors': 'f0c4', 'copy,files-o': 'f0c5', 'paperclip': 'f0c6', 'save,floppy-o': 'f0c7', 'square': 'f0c8', 'navicon,reorder,bars': 'f0c9', 'list-ul': 'f0ca', 'list-ol': 'f0cb', 'strikethrough': 'f0cc', 'underline': 'f0cd', 'table': 'f0ce', 'magic': 'f0d0', 'truck': 'f0d1', 'pinterest': 'f0d2', 'pinterest-square': 'f0d3', 'google-plus-square': 'f0d4', 'google-plus': 'f0d5', 'money': 'f0d6', 'caret-down': 'f0d7', 'caret-up': 'f0d8', 'caret-left': 'f0d9', 'caret-right': 'f0da', 'columns': 'f0db', 'unsorted,sort': 'f0dc', 'sort-down,sort-desc': 'f0dd', 'sort-up,sort-asc': 'f0de', 'envelope': 'f0e0', 'linkedin': 'f0e1', 'rotate-left,undo': 'f0e2', 'legal,gavel': 'f0e3', 'dashboard,tachometer': 'f0e4', 'comment-o': 'f0e5', 'comments-o': 'f0e6', 'flash,bolt': 'f0e7', 'sitemap': 'f0e8', 'umbrella': 'f0e9', 'paste,clipboard': 'f0ea', 'lightbulb-o': 'f0eb', 'exchange': 'f0ec', 'cloud-download': 'f0ed', 'cloud-upload': 'f0ee', 'user-md': 'f0f0', 'stethoscope': 'f0f1', 'suitcase': 'f0f2', 'bell-o': 'f0a2', 'coffee': 'f0f4', 'cutlery': 'f0f5', 'file-text-o': 'f0f6', 'building-o': 'f0f7', 'hospital-o': 'f0f8', 'ambulance': 'f0f9', 'medkit': 'f0fa', 'fighter-jet': 'f0fb', 'beer': 'f0fc', 'h-square': 'f0fd', 'plus-square': 'f0fe', 'angle-double-left': 'f100', 'angle-double-right': 'f101', 'angle-double-up': 'f102', 'angle-double-down': 'f103', 'angle-left': 'f104', 'angle-right': 'f105', 'angle-up': 'f106', 'angle-down': 'f107', 'desktop': 'f108', 'laptop': 'f109', 'tablet': 'f10a', 'mobile-phone,mobile': 'f10b', 'circle-o': 'f10c', 'quote-left': 'f10d', 'quote-right': 'f10e', 'spinner': 'f110', 'circle': 'f111', 'mail-reply,reply': 'f112', 'github-alt': 'f113', 'folder-o': 'f114', 'folder-open-o': 'f115', 'smile-o': 'f118', 'frown-o': 'f119', 'meh-o': 'f11a', 'gamepad': 'f11b', 'keyboard-o': 'f11c', 'flag-o': 'f11d', 'flag-checkered': 'f11e', 'terminal': 'f120', 'code': 'f121', 'mail-reply-all,reply-all': 'f122', 'star-half-empty,star-half-full,star-half-o': 'f123', 'location-arrow': 'f124', 'crop': 'f125', 'code-fork': 'f126', 'unlink,chain-broken': 'f127', 'question': 'f128', 'info': 'f129', 'exclamation': 'f12a', 'superscript': 'f12b', 'subscript': 'f12c', 'eraser': 'f12d', 'puzzle-piece': 'f12e', 'microphone': 'f130', 'microphone-slash': 'f131', 'shield': 'f132', 'calendar-o': 'f133', 'fire-extinguisher': 'f134', 'rocket': 'f135', 'maxcdn': 'f136', 'chevron-circle-left': 'f137', 'chevron-circle-right': 'f138', 'chevron-circle-up': 'f139', 'chevron-circle-down': 'f13a', 'html5': 'f13b', 'css3': 'f13c', 'anchor': 'f13d', 'unlock-alt': 'f13e', 'bullseye': 'f140', 'ellipsis-h': 'f141', 'ellipsis-v': 'f142', 'rss-square': 'f143', 'play-circle': 'f144', 'ticket': 'f145', 'minus-square': 'f146', 'minus-square-o': 'f147', 'level-up': 'f148', 'level-down': 'f149', 'check-square': 'f14a', 'pencil-square': 'f14b', 'external-link-square': 'f14c', 'share-square': 'f14d', 'compass': 'f14e', 'toggle-down,caret-square-o-down': 'f150', 'toggle-up,caret-square-o-up': 'f151', 'toggle-right,caret-square-o-right': 'f152', 'euro,eur': 'f153', 'gbp': 'f154', 'dollar,usd': 'f155', 'rupee,inr': 'f156', 'cny,rmb,yen,jpy': 'f157', 'ruble,rouble,rub': 'f158', 'won,krw': 'f159', 'bitcoin,btc': 'f15a', 'file': 'f15b', 'file-text': 'f15c', 'sort-alpha-asc': 'f15d', 'sort-alpha-desc': 'f15e', 'sort-amount-asc': 'f160', 'sort-amount-desc': 'f161', 'sort-numeric-asc': 'f162', 'sort-numeric-desc': 'f163', 'thumbs-up': 'f164', 'thumbs-down': 'f165', 'youtube-square': 'f166', 'youtube': 'f167', 'xing': 'f168', 'xing-square': 'f169', 'youtube-play': 'f16a', 'dropbox': 'f16b', 'stack-overflow': 'f16c', 'instagram': 'f16d', 'flickr': 'f16e', 'adn': 'f170', 'bitbucket': 'f171', 'bitbucket-square': 'f172', 'tumblr': 'f173', 'tumblr-square': 'f174', 'long-arrow-down': 'f175', 'long-arrow-up': 'f176', 'long-arrow-left': 'f177', 'long-arrow-right': 'f178', 'apple': 'f179', 'windows': 'f17a', 'android': 'f17b', 'linux': 'f17c', 'dribbble': 'f17d', 'skype': 'f17e', 'foursquare': 'f180', 'trello': 'f181', 'female': 'f182', 'male': 'f183', 'gittip,gratipay': 'f184', 'sun-o': 'f185', 'moon-o': 'f186', 'archive': 'f187', 'bug': 'f188', 'vk': 'f189', 'weibo': 'f18a', 'renren': 'f18b', 'pagelines': 'f18c', 'stack-exchange': 'f18d', 'arrow-circle-o-right': 'f18e', 'arrow-circle-o-left': 'f190', 'toggle-left,caret-square-o-left': 'f191', 'dot-circle-o': 'f192', 'wheelchair': 'f193', 'vimeo-square': 'f194', 'turkish-lira,try': 'f195', 'plus-square-o': 'f196', 'space-shuttle': 'f197', 'slack': 'f198', 'envelope-square': 'f199', 'wordpress': 'f19a', 'openid': 'f19b', 'institution,bank,university': 'f19c', 'mortar-board,graduation-cap': 'f19d', 'yahoo': 'f19e', 'google': 'f1a0', 'reddit': 'f1a1', 'reddit-square': 'f1a2', 'stumbleupon-circle': 'f1a3', 'stumbleupon': 'f1a4', 'delicious': 'f1a5', 'digg': 'f1a6', 'pied-piper-pp': 'f1a7', 'pied-piper-alt': 'f1a8', 'drupal': 'f1a9', 'joomla': 'f1aa', 'language': 'f1ab', 'fax': 'f1ac', 'building': 'f1ad', 'child': 'f1ae', 'paw': 'f1b0', 'spoon': 'f1b1', 'cube': 'f1b2', 'cubes': 'f1b3', 'behance': 'f1b4', 'behance-square': 'f1b5', 'steam': 'f1b6', 'steam-square': 'f1b7', 'recycle': 'f1b8', 'automobile,car': 'f1b9', 'cab,taxi': 'f1ba', 'tree': 'f1bb', 'spotify': 'f1bc', 'deviantart': 'f1bd', 'soundcloud': 'f1be', 'database': 'f1c0', 'file-pdf-o': 'f1c1', 'file-word-o': 'f1c2', 'file-excel-o': 'f1c3', 'file-powerpoint-o': 'f1c4', 'file-photo-o,file-picture-o,file-image-o': 'f1c5', 'file-zip-o,file-archive-o': 'f1c6', 'file-sound-o,file-audio-o': 'f1c7', 'file-movie-o,file-video-o': 'f1c8', 'file-code-o': 'f1c9', 'vine': 'f1ca', 'codepen': 'f1cb', 'jsfiddle': 'f1cc', 'life-bouy,life-buoy,life-saver,support,life-ring': 'f1cd', 'circle-o-notch': 'f1ce', 'ra,resistance,rebel': 'f1d0', 'ge,empire': 'f1d1', 'git-square': 'f1d2', 'git': 'f1d3', 'y-combinator-square,yc-square,hacker-news': 'f1d4', 'tencent-weibo': 'f1d5', 'qq': 'f1d6', 'wechat,weixin': 'f1d7', 'send,paper-plane': 'f1d8', 'send-o,paper-plane-o': 'f1d9', 'history': 'f1da', 'circle-thin': 'f1db', 'header': 'f1dc', 'paragraph': 'f1dd', 'sliders': 'f1de', 'share-alt': 'f1e0', 'share-alt-square': 'f1e1', 'bomb': 'f1e2', 'soccer-ball-o,futbol-o': 'f1e3', 'tty': 'f1e4', 'binoculars': 'f1e5', 'plug': 'f1e6', 'slideshare': 'f1e7', 'twitch': 'f1e8', 'yelp': 'f1e9', 'newspaper-o': 'f1ea', 'wifi': 'f1eb', 'calculator': 'f1ec', 'paypal': 'f1ed', 'google-wallet': 'f1ee', 'cc-visa': 'f1f0', 'cc-mastercard': 'f1f1', 'cc-discover': 'f1f2', 'cc-amex': 'f1f3', 'cc-paypal': 'f1f4', 'cc-stripe': 'f1f5', 'bell-slash': 'f1f6', 'bell-slash-o': 'f1f7', 'trash': 'f1f8', 'copyright': 'f1f9', 'at': 'f1fa', 'eyedropper': 'f1fb', 'paint-brush': 'f1fc', 'birthday-cake': 'f1fd', 'area-chart': 'f1fe', 'pie-chart': 'f200', 'line-chart': 'f201', 'lastfm': 'f202', 'lastfm-square': 'f203', 'toggle-off': 'f204', 'toggle-on': 'f205', 'bicycle': 'f206', 'bus': 'f207', 'ioxhost': 'f208', 'angellist': 'f209', 'cc': 'f20a', 'shekel,sheqel,ils': 'f20b', 'meanpath': 'f20c', 'buysellads': 'f20d', 'connectdevelop': 'f20e', 'dashcube': 'f210', 'forumbee': 'f211', 'leanpub': 'f212', 'sellsy': 'f213', 'shirtsinbulk': 'f214', 'simplybuilt': 'f215', 'skyatlas': 'f216', 'cart-plus': 'f217', 'cart-arrow-down': 'f218', 'diamond': 'f219', 'ship': 'f21a', 'user-secret': 'f21b', 'motorcycle': 'f21c', 'street-view': 'f21d', 'heartbeat': 'f21e', 'venus': 'f221', 'mars': 'f222', 'mercury': 'f223', 'intersex,transgender': 'f224', 'transgender-alt': 'f225', 'venus-double': 'f226', 'mars-double': 'f227', 'venus-mars': 'f228', 'mars-stroke': 'f229', 'mars-stroke-v': 'f22a', 'mars-stroke-h': 'f22b', 'neuter': 'f22c', 'genderless': 'f22d', 'facebook-official': 'f230', 'pinterest-p': 'f231', 'whatsapp': 'f232', 'server': 'f233', 'user-plus': 'f234', 'user-times': 'f235', 'hotel,bed': 'f236', 'viacoin': 'f237', 'train': 'f238', 'subway': 'f239', 'medium': 'f23a', 'yc,y-combinator': 'f23b', 'optin-monster': 'f23c', 'opencart': 'f23d', 'expeditedssl': 'f23e', 'battery-4,battery-full': 'f240', 'battery-3,battery-three-quarters': 'f241', 'battery-2,battery-half': 'f242', 'battery-1,battery-quarter': 'f243', 'battery-0,battery-empty': 'f244', 'mouse-pointer': 'f245', 'i-cursor': 'f246', 'object-group': 'f247', 'object-ungroup': 'f248', 'sticky-note': 'f249', 'sticky-note-o': 'f24a', 'cc-jcb': 'f24b', 'cc-diners-club': 'f24c', 'clone': 'f24d', 'balance-scale': 'f24e', 'hourglass-o': 'f250', 'hourglass-1,hourglass-start': 'f251', 'hourglass-2,hourglass-half': 'f252', 'hourglass-3,hourglass-end': 'f253', 'hourglass': 'f254', 'hand-grab-o,hand-rock-o': 'f255', 'hand-stop-o,hand-paper-o': 'f256', 'hand-scissors-o': 'f257', 'hand-lizard-o': 'f258', 'hand-spock-o': 'f259', 'hand-pointer-o': 'f25a', 'hand-peace-o': 'f25b', 'trademark': 'f25c', 'registered': 'f25d', 'creative-commons': 'f25e', 'gg': 'f260', 'gg-circle': 'f261', 'tripadvisor': 'f262', 'odnoklassniki': 'f263', 'odnoklassniki-square': 'f264', 'get-pocket': 'f265', 'wikipedia-w': 'f266', 'safari': 'f267', 'chrome': 'f268', 'firefox': 'f269', 'opera': 'f26a', 'internet-explorer': 'f26b', 'tv,television': 'f26c', 'contao': 'f26d', '500px': 'f26e', 'amazon': 'f270', 'calendar-plus-o': 'f271', 'calendar-minus-o': 'f272', 'calendar-times-o': 'f273', 'calendar-check-o': 'f274', 'industry': 'f275', 'map-pin': 'f276', 'map-signs': 'f277', 'map-o': 'f278', 'map': 'f279', 'commenting': 'f27a', 'commenting-o': 'f27b', 'houzz': 'f27c', 'vimeo': 'f27d', 'black-tie': 'f27e', 'fonticons': 'f280', 'reddit-alien': 'f281', 'edge': 'f282', 'credit-card-alt': 'f283', 'codiepie': 'f284', 'modx': 'f285', 'fort-awesome': 'f286', 'usb': 'f287', 'product-hunt': 'f288', 'mixcloud': 'f289', 'scribd': 'f28a', 'pause-circle': 'f28b', 'pause-circle-o': 'f28c', 'stop-circle': 'f28d', 'stop-circle-o': 'f28e', 'shopping-bag': 'f290', 'shopping-basket': 'f291', 'hashtag': 'f292', 'bluetooth': 'f293', 'bluetooth-b': 'f294', 'percent': 'f295', 'gitlab': 'f296', 'wpbeginner': 'f297', 'wpforms': 'f298', 'envira': 'f299', 'universal-access': 'f29a', 'wheelchair-alt': 'f29b', 'question-circle-o': 'f29c', 'blind': 'f29d', 'audio-description': 'f29e', 'volume-control-phone': 'f2a0', 'braille': 'f2a1', 'assistive-listening-systems': 'f2a2', 'asl-interpreting,american-sign-language-interpreting': 'f2a3', 'deafness,hard-of-hearing,deaf': 'f2a4', 'glide': 'f2a5', 'glide-g': 'f2a6', 'signing,sign-language': 'f2a7', 'low-vision': 'f2a8', 'viadeo': 'f2a9', 'viadeo-square': 'f2aa', 'snapchat': 'f2ab', 'snapchat-ghost': 'f2ac', 'snapchat-square': 'f2ad', 'pied-piper': 'f2ae', 'first-order': 'f2b0', 'yoast': 'f2b1', 'themeisle': 'f2b2', 'google-plus-circle,google-plus-official': 'f2b3', 'fa,font-awesome': 'f2b4'}\n  }\n\n  function icon (d) {\n    var code\n\n    if (options.iconMap && options.showIcons && options.icons) {\n      if (options.icons[d.labels[0]] && options.iconMap[options.icons[d.labels[0]]]) {\n        code = options.iconMap[options.icons[d.labels[0]]]\n      } else if (options.iconMap[d.labels[0]]) {\n        code = options.iconMap[d.labels[0]]\n      } else if (options.icons[d.labels[0]]) {\n        code = options.icons[d.labels[0]]\n      }\n    }\n\n    return code\n  }\n\n  function image (d) {\n    var i, imagesForLabel, img, imgLevel, label, labelPropertyValue, property, value\n\n    if (options.images) {\n      imagesForLabel = options.imageMap[d.labels[0]]\n\n      if (imagesForLabel) {\n        imgLevel = 0\n\n        for (i = 0; i < imagesForLabel.length; i++) {\n          labelPropertyValue = imagesForLabel[i].split('|')\n\n          switch (labelPropertyValue.length) {\n            case 3:\n              value = labelPropertyValue[2]\n              /* falls through */\n            case 2:\n              property = labelPropertyValue[1]\n              /* falls through */\n            case 1:\n              label = labelPropertyValue[0]\n          }\n\n          if (d.labels[0] === label &&\n                        (!property || d.properties[property] !== undefined) &&\n                        (!value || d.properties[property] === value)) {\n            if (labelPropertyValue.length > imgLevel) {\n              img = options.images[imagesForLabel[i]]\n              imgLevel = labelPropertyValue.length\n            }\n          }\n        }\n      }\n    }\n\n    return img\n  }\n\n  function init (_selector, _options) {\n    initIconMap()\n\n    merge(options, _options)\n\n    if (options.icons) {\n      options.showIcons = true\n    }\n\n    if (!options.minCollision) {\n      options.minCollision = options.nodeRadius*2\n    }\n\n    initImageMap()\n\n    selector = _selector\n\n    container = d3.select(selector)\n\n    container.attr('class', 'neo4jd3')\n      .html('')\n\n    if (options.infoPanel) {\n      info = appendInfoPanel(container)\n    }\n\n    appendGraph(container)\n\n    simulation = initSimulation()\n\n    if (options.neo4jData) {\n      loadNeo4jData(options.neo4jData)\n    } else if (options.neo4jDataUrl) {\n      loadNeo4jDataFromUrl(options.neo4jDataUrl)\n    } else {\n      console.error('Error: both neo4jData and neo4jDataUrl are empty!')\n    }\n  }\n\n  function initIconMap () {\n    Object.keys(options.iconMap).forEach(function (key, index) {\n      var keys = key.split(','),\n        value = options.iconMap[key]\n\n      keys.forEach(function (key) {\n        options.iconMap[key] = value\n      })\n    })\n  }\n\n  function initImageMap () {\n    var key, keys, selector\n\n    for (key in options.images) {\n      if (options.images.hasOwnProperty(key)) {\n        keys = key.split('|')\n\n        if (!options.imageMap[keys[0]]) {\n          options.imageMap[keys[0]] = [key]\n        } else {\n          options.imageMap[keys[0]].push(key)\n        }\n      }\n    }\n  }\n\n  function initSimulation () {\n    var simulation = d3.forceSimulation()\n    //                           .velocityDecay(0.8)\n    //                           .force('x', d3.force().strength(0.002))\n    //                           .force('y', d3.force().strength(0.002))\n      .force('collide', d3.forceCollide().radius(function (d) {\n        return options.minCollision\n      }).iterations(2))\n      .force('charge', d3.forceManyBody().strength(-100))\n      .force('link', d3.forceLink().id(function (d) {\n        return d.id\n      }).distance(0).strength(.8))\n      .force('center', d3.forceCenter(svg.node().parentElement.parentElement.clientWidth / 2, svg.node().parentElement.parentElement.clientHeight / 2))\n      .on('tick', function () {\n        tick()\n      })\n      .on('end', function () {\n        if (options.zoomFit && !justLoaded) {\n          justLoaded = true\n          zoomFit(2)\n        }\n      })\n\n    return simulation\n  }\n\n  function loadNeo4jData () {\n    nodes = []\n    relationships = []\n\n    updateWithNeo4jData(options.neo4jData)\n  }\n\n  function loadNeo4jDataFromUrl (neo4jDataUrl) {\n    nodes = []\n    relationships = []\n\n    d3.json(neo4jDataUrl, function (error, data) {\n      if (error) {\n        throw error\n      }\n\n      updateWithNeo4jData(data)\n    })\n  }\n\n  function merge (target, source) {\n    Object.keys(source).forEach(function (property) {\n      target[property] = source[property]\n    })\n  }\n\n  function neo4jDataToD3Data (data) {\n    var graph = {\n      nodes: [],\n      relationships: []\n    }\n\n    data.results.forEach(function (result) {\n      result.data.forEach(function (data) {\n        data.graph.nodes.forEach(function (node) {\n          if (!contains(graph.nodes, node.id)) {\n            graph.nodes.push(node)\n          }\n        })\n\n        data.graph.relationships.forEach(function (relationship) {\n          relationship.source = relationship.startNode\n          relationship.target = relationship.endNode\n          graph.relationships.push(relationship)\n        })\n\n        data.graph.relationships.sort(function (a, b) {\n          if (a.source > b.source) {\n            return 1\n          } else if (a.source < b.source) {\n            return -1\n          } else {\n            if (a.target > b.target) {\n              return 1\n            }\n\n            if (a.target < b.target) {\n              return -1\n            } else {\n              return 0\n            }\n          }\n        })\n\n        for (var i = 0; i < data.graph.relationships.length; i++) {\n          if (i !== 0 && data.graph.relationships[i].source === data.graph.relationships[i - 1].source && data.graph.relationships[i].target === data.graph.relationships[i - 1].target) {\n            data.graph.relationships[i].linknum = data.graph.relationships[i - 1].linknum + 1\n          } else {\n            data.graph.relationships[i].linknum = 1\n          }\n        }\n      })\n    })\n\n    return graph\n  }\n\n  function randomD3Data (d, maxNodesToGenerate) {\n    var data = {\n        nodes: [],\n        relationships: []\n      },\n      i,\n      label,\n      node,\n      numNodes = (maxNodesToGenerate * Math.random() << 0) + 1,\n      relationship,\n      s = size()\n\n    for (i = 0; i < numNodes; i++) {\n      label = randomLabel()\n\n      node = {\n        id: s.nodes + 1 + i,\n        labels: [label],\n        properties: {\n          random: label\n        },\n        x: d.x,\n        y: d.y\n      }\n\n      data.nodes[data.nodes.length] = node\n\n      relationship = {\n        id: s.relationships + 1 + i,\n        type: label.toUpperCase(),\n        startNode: d.id,\n        endNode: s.nodes + 1 + i,\n        properties: {\n          from: Date.now()\n        },\n        source: d.id,\n        target: s.nodes + 1 + i,\n        linknum: s.relationships + 1 + i\n      }\n\n      data.relationships[data.relationships.length] = relationship\n    }\n\n    return data\n  }\n\n  function randomLabel () {\n    var icons = Object.keys(options.iconMap)\n    return icons[icons.length * Math.random() << 0]\n  }\n\n  function rotate (cx, cy, x, y, angle) {\n    var radians = (Math.PI / 180) * angle,\n      cos = Math.cos(radians),\n      sin = Math.sin(radians),\n      nx = (cos * (x - cx)) + (sin * (y - cy)) + cx,\n      ny = (cos * (y - cy)) - (sin * (x - cx)) + cy\n\n    return { x: nx, y: ny }\n  }\n\n  function rotatePoint (c, p, angle) {\n    return rotate(c.x, c.y, p.x, p.y, angle)\n  }\n\n  function rotation (source, target) {\n    return Math.atan2(target.y - source.y, target.x - source.x) * 180 / Math.PI\n  }\n\n  function size () {\n    return {\n      nodes: nodes.length,\n      relationships: relationships.length\n    }\n  }\n  /*\n    function smoothTransform(elem, translate, scale) {\n        var animationMilliseconds = 5000,\n            timeoutMilliseconds = 50,\n            steps = parseInt(animationMilliseconds / timeoutMilliseconds);\n\n        setTimeout(function() {\n            smoothTransformStep(elem, translate, scale, timeoutMilliseconds, 1, steps);\n        }, timeoutMilliseconds);\n    }\n\n    function smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step, steps) {\n        var progress = step / steps;\n\n        elem.attr('transform', 'translate(' + (translate[0] * progress) + ', ' + (translate[1] * progress) + ') scale(' + (scale * progress) + ')');\n\n        if (step < steps) {\n            setTimeout(function() {\n                smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step + 1, steps);\n            }, timeoutMilliseconds);\n        }\n    }\n*/\n  function stickNode (d) {\n    d.fx = d3.event.x\n    d.fy = d3.event.y\n  }\n\n  function tick () {\n    tickNodes()\n    tickRelationships()\n  }\n\n  function tickNodes () {\n    if (node) {\n      node.attr('transform', function (d) {\n        return 'translate(' + d.x + ', ' + d.y + ')'\n      })\n    }\n  }\n\n  function tickRelationships () {\n    if (relationship) {\n      relationship.attr('transform', function (d) {\n        var angle = rotation(d.source, d.target)\n        return 'translate(' + d.source.x + ', ' + d.source.y + ') rotate(' + angle + ')'\n      })\n\n      tickRelationshipsTexts()\n      tickRelationshipsOutlines()\n      tickRelationshipsOverlays()\n    }\n  }\n\n  function tickRelationshipsOutlines () {\n    relationship.each(function (relationship) {\n      var rel = d3.select(this),\n        outline = rel.select('.outline'),\n        text = rel.select('.text'),\n        bbox = text.node().getBBox(),\n        padding = 3\n\n      outline.attr('d', function (d) {\n        var center = { x: 0, y: 0 },\n          angle = rotation(d.source, d.target),\n          textBoundingBox = text.node().getBBox(),\n          textPadding = 5,\n          u = unitaryVector(d.source, d.target),\n          textMargin = { x: (d.target.x - d.source.x - (textBoundingBox.width + textPadding) * u.x) * 0.5, y: (d.target.y - d.source.y - (textBoundingBox.width + textPadding) * u.y) * 0.5 },\n          n = unitaryNormalVector(d.source, d.target),\n          rotatedPointA1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x - n.x, y: 0 + (options.nodeRadius + 1) * u.y - n.y }, angle),\n          rotatedPointB1 = rotatePoint(center, { x: textMargin.x - n.x, y: textMargin.y - n.y }, angle),\n          rotatedPointC1 = rotatePoint(center, { x: textMargin.x, y: textMargin.y }, angle),\n          rotatedPointD1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x, y: 0 + (options.nodeRadius + 1) * u.y }, angle),\n          rotatedPointA2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x - n.x, y: d.target.y - d.source.y - textMargin.y - n.y }, angle),\n          rotatedPointB2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y - u.y * options.arrowSize }, angle),\n          rotatedPointC2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x + (n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y + (n.y - u.y) * options.arrowSize }, angle),\n          rotatedPointD2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y }, angle),\n          rotatedPointE2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x + (-n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y + (-n.y - u.y) * options.arrowSize }, angle),\n          rotatedPointF2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - u.y * options.arrowSize }, angle),\n          rotatedPointG2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x, y: d.target.y - d.source.y - textMargin.y }, angle)\n\n        return 'M ' + rotatedPointA1.x + ' ' + rotatedPointA1.y +\n                       ' L ' + rotatedPointB1.x + ' ' + rotatedPointB1.y +\n                       ' L ' + rotatedPointC1.x + ' ' + rotatedPointC1.y +\n                       ' L ' + rotatedPointD1.x + ' ' + rotatedPointD1.y +\n                       ' Z M ' + rotatedPointA2.x + ' ' + rotatedPointA2.y +\n                       ' L ' + rotatedPointB2.x + ' ' + rotatedPointB2.y +\n                       ' L ' + rotatedPointC2.x + ' ' + rotatedPointC2.y +\n                       ' L ' + rotatedPointD2.x + ' ' + rotatedPointD2.y +\n                       ' L ' + rotatedPointE2.x + ' ' + rotatedPointE2.y +\n                       ' L ' + rotatedPointF2.x + ' ' + rotatedPointF2.y +\n                       ' L ' + rotatedPointG2.x + ' ' + rotatedPointG2.y +\n                       ' Z'\n      })\n    })\n  }\n\n  function tickRelationshipsOverlays () {\n    relationshipOverlay.attr('d', function (d) {\n      var center = { x: 0, y: 0 },\n        angle = rotation(d.source, d.target),\n        n1 = unitaryNormalVector(d.source, d.target),\n        n = unitaryNormalVector(d.source, d.target, 50),\n        rotatedPointA = rotatePoint(center, { x: 0 - n.x, y: 0 - n.y }, angle),\n        rotatedPointB = rotatePoint(center, { x: d.target.x - d.source.x - n.x, y: d.target.y - d.source.y - n.y }, angle),\n        rotatedPointC = rotatePoint(center, { x: d.target.x - d.source.x + n.x - n1.x, y: d.target.y - d.source.y + n.y - n1.y }, angle),\n        rotatedPointD = rotatePoint(center, { x: 0 + n.x - n1.x, y: 0 + n.y - n1.y }, angle)\n\n      return 'M ' + rotatedPointA.x + ' ' + rotatedPointA.y +\n                   ' L ' + rotatedPointB.x + ' ' + rotatedPointB.y +\n                   ' L ' + rotatedPointC.x + ' ' + rotatedPointC.y +\n                   ' L ' + rotatedPointD.x + ' ' + rotatedPointD.y +\n                   ' Z'\n    })\n  }\n\n  function tickRelationshipsTexts () {\n    relationshipText.attr('transform', function (d) {\n      var angle = (rotation(d.source, d.target) + 360) % 360,\n        mirror = angle > 90 && angle < 270,\n        center = { x: 0, y: 0 },\n        n = unitaryNormalVector(d.source, d.target),\n        nWeight = mirror ? 2 : -3,\n        point = { x: (d.target.x - d.source.x) * 0.5 + n.x * nWeight, y: (d.target.y - d.source.y) * 0.5 + n.y * nWeight },\n        rotatedPoint = rotatePoint(center, point, angle)\n      let translate_res = 'translate(' + rotatedPoint.x + ', ' + rotatedPoint.y + ')'\n      if (angle > 90 && angle <= 279){\n        translate_res += ' rotate(180)'\n      }\n      return translate_res\n    })\n  }\n\n  function toString (d) {\n    var s = d.labels ? d.labels[0] : d.type\n\n    s += ' (<id>: ' + d.id\n\n    Object.keys(d.properties).forEach(function (property) {\n      s += ', ' + property + ': ' + JSON.stringify(d.properties[property])\n    })\n\n    s += ')'\n\n    return s\n  }\n\n  function unitaryNormalVector (source, target, newLength) {\n    var center = { x: 0, y: 0 },\n      vector = unitaryVector(source, target, newLength)\n\n    return rotatePoint(center, vector, 90)\n  }\n\n  function unitaryVector (source, target, newLength) {\n    var length = Math.sqrt(Math.pow(target.x - source.x, 2) + Math.pow(target.y - source.y, 2)) / Math.sqrt(newLength || 1)\n\n    return {\n      x: (target.x - source.x) / length,\n      y: (target.y - source.y) / length\n    }\n  }\n\n  function updateWithD3Data (d3Data) {\n    updateNodesAndRelationships(d3Data.nodes, d3Data.relationships)\n  }\n\n  function updateWithNeo4jData (neo4jData) {\n    var d3Data = neo4jDataToD3Data(neo4jData)\n    updateWithD3Data(d3Data)\n  }\n\n  function updateInfo (d) {\n    clearInfo()\n\n    if (d.labels) {\n      appendInfoElementClass('class', d.labels[0])\n    } else {\n      appendInfoElementRelationship('class', d.type)\n    }\n\n    appendInfoElementProperty('property', '&lt;id&gt;', d.id)\n\n    Object.keys(d.properties).forEach(function (property) {\n      appendInfoElementProperty('property', property, JSON.stringify(d.properties[property]))\n    })\n  }\n\n  /**\n   * Push arr2 to arr2 avoid duplicate of id\n   * @param {*} arr1 \n   * @param {*} arr2 \n   */\n  function arrayPush(arr1, arr2){\n    let visited = {}\n    let ids = arr1.map(d => {\n      visited[d.id] = false  \n      return d.id\n    })\n    \n    for(let i = 0; i < arr2.length;i++){\n      const tmpId = arr2[i].id\n      if(!ids.includes(tmpId)){\n        arr1.push(arr2[i])\n        ids.push(tmpId)\n      }else{\n        visited[tmpId] = true\n      }\n    }\n\n    // remove non-visted values\n    const keys = Object.keys(visited)\n    for (let j = 0; j < keys.length; j++) {\n      let removeId = keys[j]\n      if(visited[removeId] == false){\n        for (let k = 0; k < arr1.length; k++) {\n          if(arr1[k].id == removeId){\n            arr1.splice(k, 1)\n            break\n          }\n        }\n      }\n    }\n  }\n\n  function updateNodes (n) {\n    // Array.prototype.push.apply(nodes, n)\n    arrayPush(nodes, n)\n    node = svgNodes.selectAll('.node')\n      .data(nodes, function(d){return d.id})\n      // .data(nodeIds)\n    var nodeEnter = appendNodeToGraph()\n    node = nodeEnter.merge(node)\n  }\n\n  function updateNodesAndRelationships (n, r) {\n    updateRelationships(r)\n    updateNodes(n)\n\n    simulation.nodes(nodes)\n    simulation.force('link').links(relationships)\n  }\n\n  function updateRelationships (r) {\n    // Array.prototype.push.apply(relationships, r)\n    arrayPush(relationships, r)\n    relationship = svgRelationships.selectAll('.relationship')\n      .data(relationships, function (d) { return d.id })\n\n    var relationshipEnter = appendRelationshipToGraph()\n\n    relationship = relationshipEnter.relationship.merge(relationship)\n\n    relationshipOutline = svg.selectAll('.relationship .outline')\n    relationshipOutline = relationshipEnter.outline.merge(relationshipOutline)\n\n    relationshipOverlay = svg.selectAll('.relationship .overlay')\n    relationshipOverlay = relationshipEnter.overlay.merge(relationshipOverlay)\n\n    relationshipText = svg.selectAll('.relationship .text')\n    relationshipText = relationshipEnter.text.merge(relationshipText)\n  }\n\n  function version () {\n    return VERSION\n  }\n\n  function zoomFit (transitionDuration) {\n    var bounds = svg.node().getBBox(),\n      parent = svg.node().parentElement.parentElement,\n      fullWidth = parent.clientWidth,\n      fullHeight = parent.clientHeight,\n      width = bounds.width,\n      height = bounds.height,\n      midX = bounds.x + width / 2,\n      midY = bounds.y + height / 2\n\n    if (width === 0 || height === 0) {\n      return // nothing to fit\n    }\n    svgScale = 0.85 / Math.max(width / fullWidth, height / fullHeight)\n    svgTranslate = [fullWidth / 2 - svgScale * midX, fullHeight / 2 - svgScale * midY]\n\n    svg.attr('transform', 'translate(' + svgTranslate[0] + ', ' + svgTranslate[1] + ') scale(' + svgScale + ')')\n    //        smoothTransform(svgTranslate, svgScale);\n  }\n\n  init(_selector, _options)\n  return {\n    appendRandomDataToNode: appendRandomDataToNode,\n    neo4jDataToD3Data: neo4jDataToD3Data,\n    randomD3Data: randomD3Data,\n    size: size,\n    updateWithD3Data: updateWithD3Data,\n    updateWithNeo4jData: updateWithNeo4jData,\n    version: version\n  }\n}\n\nexport default Neo4jD3\n"]}]}