{"remainingRequest":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/store/modules/linker/codeeditor.js","dependencies":[{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/store/modules/linker/codeeditor.js","mtime":1666790787307},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1660324544800},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660324545335},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661232574882}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvcWl1cnVpL0Rlc2t0b3AvSUNJQ0xFL25ld19ndWlfMjAyMi9TbWFydGZvb2RzaGVkX1ZBX0Zsb3cvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IHsgZ2V0Q29tcG9uZW50VHlwZSwgZ2V0VGFyZ2V0Q2FyZCB9IGZyb20gJ0AvdXRpbHMvaGVscCc7CmltcG9ydCB7IGJhc2VfcmVxdWVzdF91cmwgfSBmcm9tICdAL3V0aWxzL2Jhc2VfdXJsJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmZ1bmN0aW9uIGNyZWF0ZU5ld0NvZGVFZGl0b3JDYXJkKGlkKSB7CiAgcmV0dXJuIHsKICAgIGlkOiAiY2FyZC1jb2RlZWRpdG9yLSIuY29uY2F0KGlkKSwKICAgIHNvdXJjZUxpbms6IFtdLAogICAgLy8KICAgIHRhcmdldExpbms6IFtdLAogICAgbWFyZ2luTGVmdDogbnVsbCwKICAgIG1hcmdpblRvcDogbnVsbCwKICAgIHdpZHRoOiA1MDAsCiAgICBoZWlnaHQ6IDMwMCwKICAgIGlucHV0RGF0YTogewogICAgICAnc2NyaXB0JzogIiIsCiAgICAgICdpc0Z1bmMnOiBmYWxzZQogICAgfSwKICAgIC8vIGlzRnVuYzogZmFsc2UsIAogICAgLy8gc2VsZWN0ZWRJdGVtczogW10sCiAgICBrZWVwX2luX3Zpc19tb2RlOiBmYWxzZQogIH07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBuZXh0QXZhaWxhYmxlSW5kZXg6IDAsCiAgICBjYXJkczogW10sCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2xpbmtlci9jb2RlZWRpdG9yLycpOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBVUERBVEVfSU5QVVREQVRBOiBmdW5jdGlvbiBVUERBVEVfSU5QVVREQVRBKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgICBpc0Z1bmMgPSBfcmVmLmlzRnVuYywKICAgICAgICAgIHNjcmlwdCA9IF9yZWYuc2NyaXB0OwoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSAiIi5jb25jYXQoaWQpKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5pbnB1dERhdGFbJ3NjcmlwdCddID0gc2NyaXB0OwogICAgICAgICAgc3RhdGUuY2FyZHNbaV0uaW5wdXREYXRhWydpc0Z1bmMnXSA9IGlzRnVuYzsKICAgICAgICAgIGFsZXJ0KCdzdWNlc3NmdWxseSB1cGRhdGUgZGF0YSEnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIEFERF9DT01QT05FTlQ6IGZ1bmN0aW9uIEFERF9DT01QT05FTlQoc3RhdGUpIHsKICAgICAgdmFyIG5leHRJbmRleCA9IHN0YXRlLm5leHRBdmFpbGFibGVJbmRleDsKICAgICAgc3RhdGUubmV4dEF2YWlsYWJsZUluZGV4ICs9IDE7CiAgICAgIHN0YXRlLmNhcmRzLnB1c2goY3JlYXRlTmV3Q29kZUVkaXRvckNhcmQobmV4dEluZGV4KSk7CiAgICB9LAogICAgREVMRVRFX0NPTVBPTkVOVDogZnVuY3Rpb24gREVMRVRFX0NPTVBPTkVOVChzdGF0ZSwgaWQpIHsKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSAiIi5jb25jYXQoaWQpKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBBRERfU09VUkNFX0xJTks6IGZ1bmN0aW9uIEFERF9TT1VSQ0VfTElOSyhzdGF0ZSwgbGlua0RhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ2FkZGxpbmshISEnKTsKICAgICAgY29uc29sZS5sb2cobGlua0RhdGEpOwoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSBsaW5rRGF0YS5zb3VyY2UpIHsKICAgICAgICAgIHN0YXRlLmNhcmRzW2ldLnNvdXJjZUxpbmsucHVzaChsaW5rRGF0YSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgQUREX1RBUkdFVF9MSU5LOiBmdW5jdGlvbiBBRERfVEFSR0VUX0xJTksoc3RhdGUsIGxpbmtEYXRhKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuY2FyZHMpIHsKICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0uaWQgPT0gbGlua0RhdGEudGFyZ2V0KSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rLnB1c2gobGlua0RhdGEpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFVQREFURV9TT1VSQ0U6IGZ1bmN0aW9uIFVQREFURV9TT1VSQ0Uoc3RhdGUsIGxpbmtEYXRhKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuY2FyZHMpIHsKICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0uaWQgPT0gbGlua0RhdGEuc291cmNlKSB7CiAgICAgICAgICBmb3IgKHZhciBqIGluIHN0YXRlLmNhcmRzW2ldLnNvdXJjZUxpbmspIHsKICAgICAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLnNvdXJjZUxpbmtbal0uaWQgPT0gbGlua0RhdGEuaWQpIHsKICAgICAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rW2pdID0gbGlua0RhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBVUERBVEVfVEFSR0VUOiBmdW5jdGlvbiBVUERBVEVfVEFSR0VUKHN0YXRlLCBsaW5rRGF0YSkgewogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGxpbmtEYXRhLnRhcmdldCkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rW2pdLmlkID09IGxpbmtEYXRhLmlkKSB7CiAgICAgICAgICAgICAgc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXSA9IGxpbmtEYXRhOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgUkVNT1ZFX1NPVVJDRUxJTks6IGZ1bmN0aW9uIFJFTU9WRV9TT1VSQ0VMSU5LKHN0YXRlLCBsaW5rRGF0YSkgewogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGxpbmtEYXRhLnNvdXJjZSkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rW2pdLmlkID09IGxpbmtEYXRhLmlkKSB7CiAgICAgICAgICAgICAgc3RhdGUuY2FyZHNbaV0uc291cmNlTGluay5zcGxpY2UoaiwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBSRU1PVkVfVEFSR0VUTElOSzogZnVuY3Rpb24gUkVNT1ZFX1RBUkdFVExJTksoc3RhdGUsIGxpbmtEYXRhKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuY2FyZHMpIHsKICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0uaWQgPT0gbGlua0RhdGEudGFyZ2V0KSB7CiAgICAgICAgICBmb3IgKHZhciBqIGluIHN0YXRlLmNhcmRzW2ldLnRhcmdldExpbmspIHsKICAgICAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLnRhcmdldExpbmtbal0uaWQgPT0gbGlua0RhdGEuaWQpIHsKICAgICAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5pbnB1dERhdGEgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBTRVRfSU5QVVREQVRBOiBmdW5jdGlvbiBTRVRfSU5QVVREQVRBKHN0YXRlLCBfcmVmMikgewogICAgICB2YXIgbGluayA9IF9yZWYyLmxpbmssCiAgICAgICAgICBpbnB1dERhdGEgPSBfcmVmMi5pbnB1dERhdGE7CgogICAgICAvLyBjb25zb2xlLmxvZygnaW4gc2V0IGZ1bmMnKQogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUuY2FyZHNbaV0uaWQpCiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGxpbmsudGFyZ2V0KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnc2V0IHF1ZXJ5IGlucHV0IGRhdGEnLCBpbnB1dERhdGEpOwogICAgICAgICAgc3RhdGUuY2FyZHNbaV0uaW5wdXREYXRhWydzY3JpcHQnXSA9IGlucHV0RGF0YTsKICAgICAgICAgIGFsZXJ0KCdzdWNjZXNzZnVsbHkgc2V0IGlucHV0IGRhdGEnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBVUERBVEVfUE9TOiBmdW5jdGlvbiBVUERBVEVfUE9TKHN0YXRlLCBfcmVmMykgewogICAgICB2YXIgaWQgPSBfcmVmMy5pZCwKICAgICAgICAgIG1hcmdpbkxlZnQgPSBfcmVmMy5tYXJnaW5MZWZ0LAogICAgICAgICAgbWFyZ2luVG9wID0gX3JlZjMubWFyZ2luVG9wOwoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSBpZCkgewogICAgICAgICAgc3RhdGUuY2FyZHNbaV0ubWFyZ2luVG9wID0gbWFyZ2luVG9wOwogICAgICAgICAgc3RhdGUuY2FyZHNbaV0ubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgVVBEQVRFX1NJWkU6IGZ1bmN0aW9uIFVQREFURV9TSVpFKHN0YXRlLCBfcmVmNCkgewogICAgICB2YXIgaWQgPSBfcmVmNC5pZCwKICAgICAgICAgIHdpZHRoID0gX3JlZjQud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBfcmVmNC5oZWlnaHQ7CgogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGlkKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS53aWR0aCA9IHdpZHRoOwogICAgICAgICAgc3RhdGUuY2FyZHNbaV0uaGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFVQREFURV9TRUxFQ1RFRF9JVEVNUzogZnVuY3Rpb24gVVBEQVRFX1NFTEVDVEVEX0lURU1TKHN0YXRlLCBfcmVmNSkgewogICAgICB2YXIgaWQgPSBfcmVmNS5pZCwKICAgICAgICAgIHNlbGVjdGVkID0gX3JlZjUuc2VsZWN0ZWQ7CgogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGlkKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5zZWxlY3RlZEl0ZW1zID0gc2VsZWN0ZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgS0VFUF9JTl9WSVM6IGZ1bmN0aW9uIEtFRVBfSU5fVklTKHN0YXRlLCBpZCkgewogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGlkKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5rZWVwX2luX3Zpc19tb2RlID0gIXN0YXRlLmNhcmRzW2ldLmtlZXBfaW5fdmlzX21vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiB1cGRhdGVEYXRhKF9yZWY2LCBfcmVmNykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZSwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICAgIHZhciBpZCA9IF9yZWY3LmlkLAogICAgICAgICAgaXNGdW5jID0gX3JlZjcuaXNGdW5jLAogICAgICAgICAgc2NyaXB0ID0gX3JlZjcuc2NyaXB0OwogICAgICAvL29uY2Ugd2UgdXBkYXRlIHRoZSBkYXRhLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdGFyZ2V0ICEhISAKICAgICAgY29tbWl0KCdVUERBVEVfSU5QVVREQVRBJywgewogICAgICAgIGlkOiBpZCwKICAgICAgICBpc0Z1bmM6IGlzRnVuYywKICAgICAgICBzY3JpcHQ6IHNjcmlwdAogICAgICB9KTsKICAgICAgdmFyIHRhcmdldENhcmQgPSBnZXRUYXJnZXRDYXJkKHN0YXRlLmNhcmRzLCBpZCk7IC8vIHRhcmdldENhcmQgc291cmNlbGluazogY29kZWVkaXRvciwgdGFyZ2V0OiBrZ3F1ZWllcgoKICAgICAgaWYgKHRhcmdldENhcmQuc291cmNlTGluay5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgaSBpbiB0YXJnZXRDYXJkLnNvdXJjZUxpbmspIHsKICAgICAgICAgIGRpc3BhdGNoKCdvdXRwdXRIYW5kbGVyJywgdGFyZ2V0Q2FyZC5zb3VyY2VMaW5rW2ldKTsgLy8gb3V0cHV0IHRoZSBkYXRhIHRvIGtncXVlaWVyIGFnYWluCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkQ29tcDogZnVuY3Rpb24gYWRkQ29tcChfcmVmOCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgICBjb21taXQoJ0FERF9DT01QT05FTlQnKTsKICAgIH0sCiAgICB1cGRhdGVQb3M6IGZ1bmN0aW9uIHVwZGF0ZVBvcyhfcmVmOSwgX3JlZjEwKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgIHZhciBpZCA9IF9yZWYxMC5pZCwKICAgICAgICAgIG1hcmdpblRvcCA9IF9yZWYxMC5tYXJnaW5Ub3AsCiAgICAgICAgICBtYXJnaW5MZWZ0ID0gX3JlZjEwLm1hcmdpbkxlZnQ7CiAgICAgIGNvbW1pdCgnVVBEQVRFX1BPUycsIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgbWFyZ2luVG9wOiBtYXJnaW5Ub3AsCiAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdAogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVTaXplOiBmdW5jdGlvbiB1cGRhdGVTaXplKF9yZWYxMSwgX3JlZjEyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTEuY29tbWl0OwogICAgICB2YXIgaWQgPSBfcmVmMTIuaWQsCiAgICAgICAgICB3aWR0aCA9IF9yZWYxMi53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IF9yZWYxMi5oZWlnaHQ7CiAgICAgIGNvbW1pdCgnVVBEQVRFX1NJWkUnLCB7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVDb21wOiBmdW5jdGlvbiBkZWxldGVDb21wKF9yZWYxMywgaWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYxMy5zdGF0ZSwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjEzLmRpc3BhdGNoOwogICAgICB2YXIgdG9EZWxldGVkQ29tcCA9IHN0YXRlLmNhcmRzLmZpbHRlcihmdW5jdGlvbiAoY2FyZCkgewogICAgICAgIHJldHVybiBjYXJkLmlkID09IGlkOwogICAgICB9KVswXTsKCiAgICAgIHZhciB0b0RlbGV0ZVNvdXJjZUxpbmsgPSBfdG9Db25zdW1hYmxlQXJyYXkodG9EZWxldGVkQ29tcC5zb3VyY2VMaW5rKTsKCiAgICAgIHZhciB0b0RlbGV0ZVRhcmdldExpbmsgPSBfdG9Db25zdW1hYmxlQXJyYXkodG9EZWxldGVkQ29tcC50YXJnZXRMaW5rKTsKCiAgICAgIHRvRGVsZXRlU291cmNlTGluay5mb3JFYWNoKGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgICAgY29uc29sZS5sb2cobGluayk7CiAgICAgICAgZGlzcGF0Y2goJ2xpbmsvZGVsZXRlQ29tcCcsIGxpbmsuaWQsIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRvRGVsZXRlVGFyZ2V0TGluay5mb3JFYWNoKGZ1bmN0aW9uIChsaW5rKSB7CiAgICAgICAgZGlzcGF0Y2goJ2xpbmsvZGVsZXRlQ29tcCcsIGxpbmsuaWQsIHsKICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGNvbW1pdCgnREVMRVRFX0NPTVBPTkVOVCcsIGlkKTsKICAgIH0sCiAgICBhZGRMaW5rOiBmdW5jdGlvbiBhZGRMaW5rKF9yZWYxNCwgZGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjE0LmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjE0LmRpc3BhdGNoOwoKICAgICAgaWYgKGRhdGEuc3RhdHVzID09ICJzb3VyY2UiKSB7CiAgICAgICAgY29tbWl0KCdBRERfU09VUkNFX0xJTksnLCBkYXRhKTsKICAgICAgICBkaXNwYXRjaCgnb3V0cHV0SGFuZGxlcicsIGRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbW1pdCgnQUREX1RBUkdFVF9MSU5LJywgZGF0YSk7IC8vZGlzcGF0Y2goJ2lucHV0SGFuZGxlcicsIGxpbmtEYXRhKQogICAgICB9CiAgICB9LAogICAgdXBkYXRlTGluazogZnVuY3Rpb24gdXBkYXRlTGluayhfcmVmMTUsIGxpbmtEYXRhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTUuY29tbWl0OwoKICAgICAgaWYgKGxpbmtEYXRhLnN0YXR1cyA9PSAnc291cmNlJykgewogICAgICAgIGNvbW1pdCgnVVBEQVRFX1NPVVJDRScsIGxpbmtEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoJ1VQREFURV9UQVJHRVQnLCBsaW5rRGF0YSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVMaW5rOiBmdW5jdGlvbiByZW1vdmVMaW5rKF9yZWYxNiwgbGlua0RhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxNi5jb21taXQ7CgogICAgICBpZiAobGlua0RhdGEuc3RhdHVzID09ICdzb3VyY2UnKSB7CiAgICAgICAgY29tbWl0KCdSRU1PVkVfU09VUkNFTElOSycsIGxpbmtEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoJ1JFTU9WRV9UQVJHRVRMSU5LJywgbGlua0RhdGEpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlU2VsZWN0ZWRJdGVtczogZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRJdGVtcyhfcmVmMTcsIF9yZWYxOCkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMTcuc3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmMTcuY29tbWl0LAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMTcuZGlzcGF0Y2g7CiAgICAgIHZhciBpZCA9IF9yZWYxOC5pZCwKICAgICAgICAgIHNlbGVjdGVkID0gX3JlZjE4LnNlbGVjdGVkOwogICAgICBjb21taXQoJ1VQREFURV9TRUxFQ1RFRF9JVEVNUycsIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkCiAgICAgIH0pOwogICAgICB2YXIgdGFyZ2V0Q2FyZCA9IGdldFRhcmdldENhcmQoc3RhdGUuY2FyZHMsIGlkKTsKCiAgICAgIGlmICh0YXJnZXRDYXJkLnNvdXJjZUxpbmsubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIGkgaW4gdGFyZ2V0Q2FyZC5zb3VyY2VMaW5rKSB7CiAgICAgICAgICBkaXNwYXRjaCgnb3V0cHV0SGFuZGxlcicsIHRhcmdldENhcmQuc291cmNlTGlua1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gSW5wdXQgSGFuZGxlciB3aWxsIGJlIHRyaWdnZXJlZCBieSBvdGhlciBjb21wb25lbnRzCiAgICAvLyBXaGVuIHNvdXJjZSBDb21wb25lbnQKICAgIGlucHV0SGFuZGxlcjogZnVuY3Rpb24gaW5wdXRIYW5kbGVyKF9yZWYxOSwgX3JlZjIwKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTkuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmMTkuc3RhdGU7CiAgICAgIHZhciBsaW5rID0gX3JlZjIwLmxpbmssCiAgICAgICAgICBpbnB1dERhdGEgPSBfcmVmMjAuaW5wdXREYXRhOwogICAgICB2YXIgc291cmNlQ29tcFR5cGUgPSBnZXRDb21wb25lbnRUeXBlKGxpbmsuc291cmNlKTsKICAgICAgdmFyIHRhcmdldENvbXBUeXBlID0gZ2V0Q29tcG9uZW50VHlwZShsaW5rLnRhcmdldCk7CiAgICAgIGNvbnNvbGUubG9nKCdkb2N1bWVudCBIYW5sZGUgSW5wdXQgMTIzJyk7CiAgICAgIGNvbnNvbGUubG9nKGlucHV0RGF0YSk7CgogICAgICBpZiAoaW5wdXREYXRhKSB7CiAgICAgICAgY29tbWl0KCdTRVRfSU5QVVREQVRBJywgewogICAgICAgICAgbGluazogbGluaywKICAgICAgICAgIGlucHV0RGF0YTogaW5wdXREYXRhCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciB0YXJnZXRDYXJkID0gZ2V0VGFyZ2V0Q2FyZChzdGF0ZS5jYXJkcywgbGluay50YXJnZXQpOyAvLyB0YXJnZXRDYXJkIHNvdXJjZWxpbms6IGNvZGVlZGl0b3IsIHRhcmdldDoga2dxdWVpZXIKCiAgICAgIGlmICh0YXJnZXRDYXJkLnNvdXJjZUxpbmsubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIGkgaW4gdGFyZ2V0Q2FyZC5zb3VyY2VMaW5rKSB7CiAgICAgICAgICBkaXNwYXRjaCgnb3V0cHV0SGFuZGxlcicsIHRhcmdldENhcmQuc291cmNlTGlua1tpXSk7IC8vIG91dHB1dCB0aGUgZGF0YSB0byBrZ3F1ZWllciBhZ2FpbgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG91dHB1dEhhbmRsZXI6IGZ1bmN0aW9uIG91dHB1dEhhbmRsZXIoX3JlZjIxLCBsaW5rRGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIxLmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjIxLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMjEuZGlzcGF0Y2g7CiAgICAgIHZhciB0YXJnZXRDb21wVHlwZSA9IGdldENvbXBvbmVudFR5cGUobGlua0RhdGEudGFyZ2V0KTsKICAgICAgY29uc29sZS5sb2coJ291dHB1dEhhbmRsZXInKTsgLy8gY29uc29sZS5sb2cobGlua0RhdGEsdGFyZ2V0Q29tcFR5cGUpOwoKICAgICAgaWYgKHRhcmdldENvbXBUeXBlICE9ICdrZ3F1ZXJpZXInKSB7CiAgICAgICAgYWxlcnQoJ3dyb25nIGNvbm5lY3Rpb24sIG9ubHkgY29ubmVjdCB0byBrZ3F1ZXJpZXInKTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSBsaW5rRGF0YS5zb3VyY2UpIHsKICAgICAgICAgIGRpc3BhdGNoKCIiLmNvbmNhdCh0YXJnZXRDb21wVHlwZSwgIi9pbnB1dEhhbmRsZXIiKSwgewogICAgICAgICAgICBsaW5rOiBsaW5rRGF0YSwKICAgICAgICAgICAgaW5wdXREYXRhOiBzdGF0ZS5jYXJkc1tpXVsnaW5wdXREYXRhJ10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgfSk7IC8vIHdlIG9ubHkgcGFzcyB0aGUgc2NyaXB0CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGtlZXBJblZpczogZnVuY3Rpb24ga2VlcEluVmlzKF9yZWYyMiwgaWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyMi5jb21taXQ7CiAgICAgIGNvbW1pdCgnS0VFUF9JTl9WSVMnLCBpZCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/store/modules/linker/codeeditor.js"],"names":["getComponentType","getTargetCard","base_request_url","axios","createNewCodeEditorCard","id","sourceLink","targetLink","marginLeft","marginTop","width","height","inputData","keep_in_vis_mode","namespaced","state","nextAvailableIndex","cards","component","mutations","UPDATE_INPUTDATA","isFunc","script","i","alert","ADD_COMPONENT","nextIndex","push","DELETE_COMPONENT","splice","ADD_SOURCE_LINK","linkData","console","log","source","ADD_TARGET_LINK","target","UPDATE_SOURCE","j","UPDATE_TARGET","REMOVE_SOURCELINK","REMOVE_TARGETLINK","undefined","SET_INPUTDATA","link","UPDATE_POS","UPDATE_SIZE","UPDATE_SELECTED_ITEMS","selected","selectedItems","KEEP_IN_VIS","actions","updateData","commit","dispatch","targetCard","length","addComp","updatePos","updateSize","deleteComp","toDeletedComp","filter","card","toDeleteSourceLink","toDeleteTargetLink","forEach","root","addLink","data","status","updateLink","removeLink","updateSelectedItems","inputHandler","sourceCompType","targetCompType","outputHandler","keepInVis"],"mappings":";;;;;;;AAAA,SAAQA,gBAAR,EAA0BC,aAA1B,QAA8C,cAA9C;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,uBAAT,CAAiCC,EAAjC,EAAoC;AAClC,SAAO;AACLA,IAAAA,EAAE,4BAAqBA,EAArB,CADG;AAELC,IAAAA,UAAU,EAAE,EAFP;AAEW;AAChBC,IAAAA,UAAU,EAAE,EAHP;AAILC,IAAAA,UAAU,EAAE,IAJP;AAKLC,IAAAA,SAAS,EAAE,IALN;AAMLC,IAAAA,KAAK,EAAE,GANF;AAOLC,IAAAA,MAAM,EAAE,GAPH;AAQLC,IAAAA,SAAS,EAAE;AACT,gBAAU,EADD;AAET,gBAAU;AAFD,KARN;AAYL;AACA;AACAC,IAAAA,gBAAgB,EAAE;AAdb,GAAP;AAgBD;;AAED,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,kBAAkB,EAAE,CADf;AAELC,IAAAA,KAAK,EAAE,EAFF;AAGLC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,iCAAP,CAAN;AAAA;AAHN,GAFM;AAQbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,gBADS,4BACQL,KADR,QACoC;AAAA,UAApBV,EAAoB,QAApBA,EAAoB;AAAA,UAAhBgB,MAAgB,QAAhBA,MAAgB;AAAA,UAARC,MAAQ,QAARA,MAAQ;;AAC3C,WAAI,IAAIC,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,cAAwBA,EAAxB,CAAH,EAAgC;AAC9BU,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeX,SAAf,CAAyB,QAAzB,IAAqCU,MAArC;AACAP,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeX,SAAf,CAAyB,QAAzB,IAAqCS,MAArC;AACAG,UAAAA,KAAK,CAAC,0BAAD,CAAL;AACA;AACD;AACF;AACF,KAVQ;AAWTC,IAAAA,aAXS,yBAWKV,KAXL,EAWW;AAClB,UAAMW,SAAS,GAAGX,KAAK,CAACC,kBAAxB;AACAD,MAAAA,KAAK,CAACC,kBAAN,IAA4B,CAA5B;AACAD,MAAAA,KAAK,CAACE,KAAN,CAAYU,IAAZ,CAAiBvB,uBAAuB,CAACsB,SAAD,CAAxC;AACD,KAfQ;AAgBTE,IAAAA,gBAhBS,4BAgBQb,KAhBR,EAgBeV,EAhBf,EAgBkB;AACzB,WAAI,IAAIkB,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,cAAwBA,EAAxB,CAAH,EAAgC;AAC9BU,UAAAA,KAAK,CAACE,KAAN,CAAYY,MAAZ,CAAmBN,CAAnB,EAAsB,CAAtB;AACA;AACD;AACF;AACF,KAvBQ;AAwBTO,IAAAA,eAxBS,2BAwBOf,KAxBP,EAwBcgB,QAxBd,EAwBuB;AAC9BC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,WAAI,IAAIR,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACG,MAAjC,EAAwC;AACtCnB,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAAf,CAA0BqB,IAA1B,CAA+BI,QAA/B;AACD;AACF;AACF,KAhCQ;AAiCTI,IAAAA,eAjCS,2BAiCOpB,KAjCP,EAiCcgB,QAjCd,EAiCuB;AAC9B,WAAI,IAAIR,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACK,MAAjC,EAAwC;AACtCrB,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAAf,CAA0BoB,IAA1B,CAA+BI,QAA/B;AACA;AACD;AACF;AACF,KAxCQ;AAyCTM,IAAAA,aAzCS,yBAyCKtB,KAzCL,EAyCYgB,QAzCZ,EAyCqB;AAC5B,WAAI,IAAIR,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACG,MAAjC,EAAwC;AACtC,eAAI,IAAII,CAAR,IAAavB,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAA5B,EAAuC;AACrC,gBAAGS,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAAf,CAA0BgC,CAA1B,EAA6BjC,EAA7B,IAAmC0B,QAAQ,CAAC1B,EAA/C,EAAkD;AAChDU,cAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAAf,CAA0BgC,CAA1B,IAA+BP,QAA/B;AACD;AACF;AACF;AACF;AACF,KAnDQ;AAoDTQ,IAAAA,aApDS,yBAoDKxB,KApDL,EAoDYgB,QApDZ,EAoDqB;AAC5B,WAAI,IAAIR,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACK,MAAjC,EAAwC;AACtC,eAAI,IAAIE,CAAR,IAAavB,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAA5B,EAAuC;AACrC,gBAAGQ,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAAf,CAA0B+B,CAA1B,EAA6BjC,EAA7B,IAAmC0B,QAAQ,CAAC1B,EAA/C,EAAkD;AAChDU,cAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAAf,CAA0B+B,CAA1B,IAA+BP,QAA/B;AACD;AACF;AACF;AACF;AACF,KA9DQ;AA+DTS,IAAAA,iBA/DS,6BA+DSzB,KA/DT,EA+DgBgB,QA/DhB,EA+DyB;AAChC,WAAI,IAAIR,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACG,MAAjC,EAAwC;AACtC,eAAI,IAAII,CAAR,IAAavB,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAA5B,EAAuC;AACrC,gBAAGS,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAAf,CAA0BgC,CAA1B,EAA6BjC,EAA7B,IAAmC0B,QAAQ,CAAC1B,EAA/C,EAAkD;AAChDU,cAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAejB,UAAf,CAA0BuB,MAA1B,CAAiCS,CAAjC,EAAmC,CAAnC;AACD;AACF;AACF;AACF;AACF,KAzEQ;AA0ETG,IAAAA,iBA1ES,6BA0ES1B,KA1ET,EA0EgBgB,QA1EhB,EA0EyB;AAChC,WAAI,IAAIR,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACK,MAAjC,EAAwC;AACtC,eAAI,IAAIE,CAAR,IAAavB,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAA5B,EAAuC;AACrC,gBAAGQ,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAAf,CAA0B+B,CAA1B,EAA6BjC,EAA7B,IAAmC0B,QAAQ,CAAC1B,EAA/C,EAAkD;AAChDU,cAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAehB,UAAf,CAA0BsB,MAA1B,CAAiCS,CAAjC,EAAoC,CAApC;AACAvB,cAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeX,SAAf,GAA2B8B,SAA3B;AACD;AACF;AACF;AACF;AACF,KArFQ;AAuFTC,IAAAA,aAvFS,yBAuFK5B,KAvFL,SAuF8B;AAAA,UAAjB6B,IAAiB,SAAjBA,IAAiB;AAAA,UAAXhC,SAAW,SAAXA,SAAW;;AACrC;AACA,WAAI,IAAIW,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB;AACA,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqBuC,IAAI,CAACR,MAA7B,EAAoC;AAClCJ,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCrB,SAApC;AACAG,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeX,SAAf,CAAyB,QAAzB,IAAqCA,SAArC;AACAY,UAAAA,KAAK,CAAC,6BAAD,CAAL;AACD;AACF;AACF,KAjGQ;AAkGTqB,IAAAA,UAlGS,sBAkGE9B,KAlGF,SAkGsC;AAAA,UAA5BV,EAA4B,SAA5BA,EAA4B;AAAA,UAAxBG,UAAwB,SAAxBA,UAAwB;AAAA,UAAZC,SAAY,SAAZA,SAAY;;AAC7C,WAAI,IAAIc,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqBA,EAAxB,EAA2B;AACzBU,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAed,SAAf,GAA2BA,SAA3B;AACAM,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAef,UAAf,GAA4BA,UAA5B;AACD;AACF;AACF,KAzGQ;AA0GTsC,IAAAA,WA1GS,uBA0GG/B,KA1GH,SA0G+B;AAAA,UAApBV,EAAoB,SAApBA,EAAoB;AAAA,UAAhBK,KAAgB,SAAhBA,KAAgB;AAAA,UAATC,MAAS,SAATA,MAAS;;AACtC,WAAI,IAAIY,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqBA,EAAxB,EAA2B;AACzBU,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeb,KAAf,GAAuBA,KAAvB;AACAK,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeZ,MAAf,GAAwBA,MAAxB;AACD;AACF;AACF,KAjHQ;AAkHToC,IAAAA,qBAlHS,iCAkHahC,KAlHb,SAkHoC;AAAA,UAAfV,EAAe,SAAfA,EAAe;AAAA,UAAX2C,QAAW,SAAXA,QAAW;;AAC3C,WAAI,IAAIzB,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqBA,EAAxB,EAA2B;AACzBU,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAe0B,aAAf,GAA+BD,QAA/B;AACD;AACF;AACF,KAxHQ;AAyHTE,IAAAA,WAzHS,uBAyHGnC,KAzHH,EAyHUV,EAzHV,EAyHc;AACrB,WAAI,IAAIkB,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqBA,EAAxB,EAA2B;AACzBU,UAAAA,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeV,gBAAf,GAAkC,CAACE,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAeV,gBAAlD;AACD;AACF;AACF;AA/HQ,GARE;AAyIbsC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,oCACoD;AAAA,UAA/CC,MAA+C,SAA/CA,MAA+C;AAAA,UAAvCtC,KAAuC,SAAvCA,KAAuC;AAAA,UAAhCuC,QAAgC,SAAhCA,QAAgC;AAAA,UAApBjD,EAAoB,SAApBA,EAAoB;AAAA,UAAhBgB,MAAgB,SAAhBA,MAAgB;AAAA,UAARC,MAAQ,SAARA,MAAQ;AACzD;AACA+B,MAAAA,MAAM,CAAC,kBAAD,EAAqB;AAAChD,QAAAA,EAAE,EAAFA,EAAD;AAAKgB,QAAAA,MAAM,EAANA,MAAL;AAAaC,QAAAA,MAAM,EAANA;AAAb,OAArB,CAAN;AACA,UAAMiC,UAAU,GAAGtD,aAAa,CAACc,KAAK,CAACE,KAAP,EAAcZ,EAAd,CAAhC,CAHyD,CAIzD;;AACA,UAAIkD,UAAU,CAACjD,UAAX,CAAsBkD,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,aAAK,IAAIjC,CAAT,IAAcgC,UAAU,CAACjD,UAAzB,EAAqC;AACnCgD,UAAAA,QAAQ,CAAC,eAAD,EAAkBC,UAAU,CAACjD,UAAX,CAAsBiB,CAAtB,CAAlB,CAAR,CADmC,CACiB;AACrD;AACF;AACF,KAXM;AAYPkC,IAAAA,OAZO,0BAYY;AAAA,UAAVJ,MAAU,SAAVA,MAAU;AACjBA,MAAAA,MAAM,CAAC,eAAD,CAAN;AACD,KAdM;AAePK,IAAAA,SAfO,oCAe0C;AAAA,UAAtCL,MAAsC,SAAtCA,MAAsC;AAAA,UAA5BhD,EAA4B,UAA5BA,EAA4B;AAAA,UAAxBI,SAAwB,UAAxBA,SAAwB;AAAA,UAAbD,UAAa,UAAbA,UAAa;AAC/C6C,MAAAA,MAAM,CAAC,YAAD,EAAe;AAAChD,QAAAA,EAAE,EAAFA,EAAD;AAAKI,QAAAA,SAAS,EAATA,SAAL;AAAgBD,QAAAA,UAAU,EAAVA;AAAhB,OAAf,CAAN;AACD,KAjBM;AAmBPmD,IAAAA,UAnBO,sCAmBmC;AAAA,UAA9BN,MAA8B,UAA9BA,MAA8B;AAAA,UAApBhD,EAAoB,UAApBA,EAAoB;AAAA,UAAhBK,KAAgB,UAAhBA,KAAgB;AAAA,UAATC,MAAS,UAATA,MAAS;AACxC0C,MAAAA,MAAM,CAAC,aAAD,EAAgB;AAAChD,QAAAA,EAAE,EAAFA,EAAD;AAAKK,QAAAA,KAAK,EAALA,KAAL;AAAYC,QAAAA,MAAM,EAANA;AAAZ,OAAhB,CAAN;AACD,KArBM;AAsBPiD,IAAAA,UAtBO,8BAsB+BvD,EAtB/B,EAsBkC;AAAA,UAA7BgD,MAA6B,UAA7BA,MAA6B;AAAA,UAArBtC,KAAqB,UAArBA,KAAqB;AAAA,UAAduC,QAAc,UAAdA,QAAc;AACvC,UAAMO,aAAa,GAAG9C,KAAK,CAACE,KAAN,CAAY6C,MAAZ,CAAmB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAAC1D,EAAL,IAAWA,EAAf;AAAA,OAAvB,EAA0C,CAA1C,CAAtB;;AAEA,UAAM2D,kBAAkB,sBAAOH,aAAa,CAACvD,UAArB,CAAxB;;AACA,UAAM2D,kBAAkB,sBAAOJ,aAAa,CAACtD,UAArB,CAAxB;;AACAyD,MAAAA,kBAAkB,CAACE,OAAnB,CAA2B,UAAAtB,IAAI,EAAI;AACjCZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,IAAZ;AACAU,QAAAA,QAAQ,CAAC,iBAAD,EAAoBV,IAAI,CAACvC,EAAzB,EAA6B;AAAC8D,UAAAA,IAAI,EAAE;AAAP,SAA7B,CAAR;AACD,OAHD;AAIAF,MAAAA,kBAAkB,CAACC,OAAnB,CAA2B,UAAAtB,IAAI,EAAI;AACjCU,QAAAA,QAAQ,CAAC,iBAAD,EAAoBV,IAAI,CAACvC,EAAzB,EAA6B;AAAC8D,UAAAA,IAAI,EAAE;AAAP,SAA7B,CAAR;AACD,OAFD;AAGAd,MAAAA,MAAM,CAAC,kBAAD,EAAqBhD,EAArB,CAAN;AACD,KAnCM;AAoCP+D,IAAAA,OApCO,2BAoCqBC,IApCrB,EAoC0B;AAAA,UAAxBhB,MAAwB,UAAxBA,MAAwB;AAAA,UAAhBC,QAAgB,UAAhBA,QAAgB;;AAC/B,UAAGe,IAAI,CAACC,MAAL,IAAe,QAAlB,EAA2B;AACzBjB,QAAAA,MAAM,CAAC,iBAAD,EAAoBgB,IAApB,CAAN;AACAf,QAAAA,QAAQ,CAAC,eAAD,EAAkBe,IAAlB,CAAR;AACD,OAHD,MAGK;AACHhB,QAAAA,MAAM,CAAC,iBAAD,EAAoBgB,IAApB,CAAN,CADG,CAEH;AACD;AACF,KA5CM;AA6CPE,IAAAA,UA7CO,8BA6CcxC,QA7Cd,EA6CuB;AAAA,UAAlBsB,MAAkB,UAAlBA,MAAkB;;AAC5B,UAAGtB,QAAQ,CAACuC,MAAT,IAAmB,QAAtB,EAA+B;AAC7BjB,QAAAA,MAAM,CAAC,eAAD,EAAkBtB,QAAlB,CAAN;AACD,OAFD,MAEK;AACHsB,QAAAA,MAAM,CAAC,eAAD,EAAkBtB,QAAlB,CAAN;AACD;AACF,KAnDM;AAoDPyC,IAAAA,UApDO,8BAoDczC,QApDd,EAoDuB;AAAA,UAAlBsB,MAAkB,UAAlBA,MAAkB;;AAC5B,UAAGtB,QAAQ,CAACuC,MAAT,IAAmB,QAAtB,EAA+B;AAC7BjB,QAAAA,MAAM,CAAC,mBAAD,EAAsBtB,QAAtB,CAAN;AACD,OAFD,MAEK;AACHsB,QAAAA,MAAM,CAAC,mBAAD,EAAsBtB,QAAtB,CAAN;AACD;AACF,KA1DM;AA4DP0C,IAAAA,mBA5DO,+CA4DwD;AAAA,UAA1C1D,KAA0C,UAA1CA,KAA0C;AAAA,UAAnCsC,MAAmC,UAAnCA,MAAmC;AAAA,UAA3BC,QAA2B,UAA3BA,QAA2B;AAAA,UAAfjD,EAAe,UAAfA,EAAe;AAAA,UAAX2C,QAAW,UAAXA,QAAW;AAC7DK,MAAAA,MAAM,CAAC,uBAAD,EAA0B;AAAChD,QAAAA,EAAE,EAAFA,EAAD;AAAK2C,QAAAA,QAAQ,EAARA;AAAL,OAA1B,CAAN;AACA,UAAMO,UAAU,GAAGtD,aAAa,CAACc,KAAK,CAACE,KAAP,EAAcZ,EAAd,CAAhC;;AACA,UAAIkD,UAAU,CAACjD,UAAX,CAAsBkD,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,aAAK,IAAIjC,CAAT,IAAcgC,UAAU,CAACjD,UAAzB,EAAqC;AACnCgD,UAAAA,QAAQ,CAAC,eAAD,EAAkBC,UAAU,CAACjD,UAAX,CAAsBiB,CAAtB,CAAlB,CAAR;AACD;AACF;AACF,KApEM;AAqEP;AACA;AACAmD,IAAAA,YAvEO,wCAuE2C;AAAA,UAApCrB,MAAoC,UAApCA,MAAoC;AAAA,UAA5BtC,KAA4B,UAA5BA,KAA4B;AAAA,UAAjB6B,IAAiB,UAAjBA,IAAiB;AAAA,UAAXhC,SAAW,UAAXA,SAAW;AAChD,UAAM+D,cAAc,GAAG3E,gBAAgB,CAAC4C,IAAI,CAACV,MAAN,CAAvC;AACA,UAAM0C,cAAc,GAAG5E,gBAAgB,CAAC4C,IAAI,CAACR,MAAN,CAAvC;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYrB,SAAZ;;AACA,UAAGA,SAAH,EAAa;AACXyC,QAAAA,MAAM,CAAC,eAAD,EAAkB;AAACT,UAAAA,IAAI,EAAJA,IAAD;AAAOhC,UAAAA,SAAS,EAATA;AAAP,SAAlB,CAAN;AACD;;AAED,UAAM2C,UAAU,GAAGtD,aAAa,CAACc,KAAK,CAACE,KAAP,EAAc2B,IAAI,CAACR,MAAnB,CAAhC,CATgD,CAUhD;;AACA,UAAImB,UAAU,CAACjD,UAAX,CAAsBkD,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,aAAK,IAAIjC,CAAT,IAAcgC,UAAU,CAACjD,UAAzB,EAAqC;AACnCgD,UAAAA,QAAQ,CAAC,eAAD,EAAkBC,UAAU,CAACjD,UAAX,CAAsBiB,CAAtB,CAAlB,CAAR,CADmC,CACiB;AACrD;AACF;AACF,KAvFM;AAyFPsD,IAAAA,aAzFO,iCAyFkC9C,QAzFlC,EAyF2C;AAAA,UAAnCsB,MAAmC,UAAnCA,MAAmC;AAAA,UAA3BtC,KAA2B,UAA3BA,KAA2B;AAAA,UAApBuC,QAAoB,UAApBA,QAAoB;AAChD,UAAMsB,cAAc,GAAG5E,gBAAgB,CAAC+B,QAAQ,CAACK,MAAV,CAAvC;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAFgD,CAGhD;;AACA,UAAI2C,cAAc,IAAE,WAApB,EAAgC;AAC9BpD,QAAAA,KAAK,CAAC,6CAAD,CAAL;AACD;;AACD,WAAI,IAAID,CAAR,IAAaR,KAAK,CAACE,KAAnB,EAAyB;AACvB,YAAGF,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAelB,EAAf,IAAqB0B,QAAQ,CAACG,MAAjC,EAAwC;AACtCoB,UAAAA,QAAQ,WAAIsB,cAAJ,oBAAmC;AAAChC,YAAAA,IAAI,EAAEb,QAAP;AAAiBnB,YAAAA,SAAS,EAAEG,KAAK,CAACE,KAAN,CAAYM,CAAZ,EAAe,WAAf;AAA5B,WAAnC,EAA6F;AAAC4C,YAAAA,IAAI,EAAE;AAAP,WAA7F,CAAR,CADsC,CAC6E;;AACnH;AACD;AACF;AACF,KAtGM;AAuGPW,IAAAA,SAvGO,6BAuGazE,EAvGb,EAuGiB;AAAA,UAAbgD,MAAa,UAAbA,MAAa;AACtBA,MAAAA,MAAM,CAAC,aAAD,EAAgBhD,EAAhB,CAAN;AACD;AAzGM;AAzII,CAAf","sourcesContent":["import {getComponentType, getTargetCard} from '@/utils/help'\nimport { base_request_url } from '@/utils/base_url'\nimport axios from 'axios'\nfunction createNewCodeEditorCard(id){\n  return {\n    id: `card-codeeditor-${id}`,\n    sourceLink: [], //\n    targetLink: [], \n    marginLeft: null, \n    marginTop: null, \n    width: 500, \n    height: 300,\n    inputData: {\n      'script': \"\",\n      'isFunc': false\n    },\n    // isFunc: false, \n    // selectedItems: [],\n    keep_in_vis_mode: false \n  }\n}\n\nexport default {\n  namespaced: true,\n  state: {\n    nextAvailableIndex: 0,\n    cards: [],\n    component: () => import('@/components/linker/codeeditor/'), \n\n  }, \n  mutations: {\n    UPDATE_INPUTDATA(state, {id, isFunc, script}){\n      for(let i in state.cards){\n        if(state.cards[i].id == `${id}`){\n          state.cards[i].inputData['script'] = script;\n          state.cards[i].inputData['isFunc'] = isFunc;\n          alert('sucessfully update data!')\n          break\n        }\n      }\n    },\n    ADD_COMPONENT(state){\n      const nextIndex = state.nextAvailableIndex;\n      state.nextAvailableIndex += 1\n      state.cards.push(createNewCodeEditorCard(nextIndex));\n    },\n    DELETE_COMPONENT(state, id){\n      for(let i in state.cards){\n        if(state.cards[i].id == `${id}`){\n          state.cards.splice(i, 1);\n          break\n        }\n      }\n    }, \n    ADD_SOURCE_LINK(state, linkData){\n      console.log('addlink!!!');\n      console.log(linkData);\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          state.cards[i].sourceLink.push(linkData);\n        }\n      }\n    },\n    ADD_TARGET_LINK(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.target){\n          state.cards[i].targetLink.push(linkData);\n          return;\n        }\n      }\n    },\n    UPDATE_SOURCE(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          for(let j in state.cards[i].sourceLink){\n            if(state.cards[i].sourceLink[j].id == linkData.id){\n              state.cards[i].sourceLink[j] = linkData\n            }\n          }\n        }\n      }\n    },\n    UPDATE_TARGET(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.target){\n          for(let j in state.cards[i].targetLink){\n            if(state.cards[i].targetLink[j].id == linkData.id){\n              state.cards[i].targetLink[j] = linkData\n            }\n          }\n        }\n      }\n    },\n    REMOVE_SOURCELINK(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          for(let j in state.cards[i].sourceLink){\n            if(state.cards[i].sourceLink[j].id == linkData.id){\n              state.cards[i].sourceLink.splice(j,1);\n            }\n          }\n        }\n      }\n    },\n    REMOVE_TARGETLINK(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.target){\n          for(let j in state.cards[i].targetLink){\n            if(state.cards[i].targetLink[j].id == linkData.id){\n              state.cards[i].targetLink.splice(j, 1);\n              state.cards[i].inputData = undefined;\n            }\n          }\n        }\n      }\n    }, \n   \n    SET_INPUTDATA(state, {link, inputData}){\n      // console.log('in set func')\n      for(let i in state.cards){\n        // console.log(state.cards[i].id)\n        if(state.cards[i].id == link.target){\n          console.log('set query input data', inputData)\n          state.cards[i].inputData['script'] = inputData;\n          alert('successfully set input data')\n        }\n      }\n    }, \n    UPDATE_POS(state, {id, marginLeft, marginTop}) {\n      for(let i in state.cards){\n        if(state.cards[i].id == id){\n          state.cards[i].marginTop = marginTop \n          state.cards[i].marginLeft = marginLeft\n        }\n      }\n    }, \n    UPDATE_SIZE(state, {id, width, height}) {\n      for(let i in state.cards){\n        if(state.cards[i].id == id){\n          state.cards[i].width = width \n          state.cards[i].height = height\n        }\n      }\n    },\n    UPDATE_SELECTED_ITEMS(state, {id, selected}) {\n      for(let i in state.cards){\n        if(state.cards[i].id == id){\n          state.cards[i].selectedItems = selected\n        }\n      }\n    }, \n    KEEP_IN_VIS(state, id) {\n      for(let i in state.cards){\n        if(state.cards[i].id == id){\n          state.cards[i].keep_in_vis_mode = !state.cards[i].keep_in_vis_mode\n        }\n      } \n    }\n  }, \n  actions: {\n    updateData({commit, state, dispatch}, {id, isFunc, script}){\n      //once we update the data, we need to update the target !!! \n      commit('UPDATE_INPUTDATA', {id, isFunc, script})\n      const targetCard = getTargetCard(state.cards, id) \n      // targetCard sourcelink: codeeditor, target: kgqueier\n      if (targetCard.sourceLink.length > 0) {\n        for (let i in targetCard.sourceLink) {\n          dispatch('outputHandler', targetCard.sourceLink[i]) // output the data to kgqueier again\n        }\n      }\n    },\n    addComp({commit}, ){\n      commit('ADD_COMPONENT');\n    },\n    updatePos({commit}, {id, marginTop, marginLeft}) {\n      commit('UPDATE_POS', {id, marginTop, marginLeft})\n    }, \n\n    updateSize({commit}, {id, width, height}) {\n      commit('UPDATE_SIZE', {id, width, height})\n    }, \n    deleteComp({commit, state, dispatch}, id){\n      const toDeletedComp = state.cards.filter(card => card.id == id)[0];\n      \n      const toDeleteSourceLink = [...toDeletedComp.sourceLink];\n      const toDeleteTargetLink = [...toDeletedComp.targetLink];\n      toDeleteSourceLink.forEach(link => {\n        console.log(link)\n        dispatch('link/deleteComp', link.id, {root: true})\n      })\n      toDeleteTargetLink.forEach(link => {\n        dispatch('link/deleteComp', link.id, {root: true})\n      })\n      commit('DELETE_COMPONENT', id);\n    }, \n    addLink({commit, dispatch}, data){\n      if(data.status == \"source\"){\n        commit('ADD_SOURCE_LINK', data)\n        dispatch('outputHandler', data)\n      }else{\n        commit('ADD_TARGET_LINK', data)\n        //dispatch('inputHandler', linkData)\n      }\n    },\n    updateLink({commit}, linkData){\n      if(linkData.status == 'source'){\n        commit('UPDATE_SOURCE', linkData)\n      }else{\n        commit('UPDATE_TARGET', linkData)\n      }\n    },\n    removeLink({commit}, linkData){\n      if(linkData.status == 'source'){\n        commit('REMOVE_SOURCELINK', linkData)\n      }else{ \n        commit('REMOVE_TARGETLINK', linkData)\n      }\n    },\n    \n    updateSelectedItems({state, commit, dispatch}, {id, selected}) {\n      commit('UPDATE_SELECTED_ITEMS', {id, selected})\n      const targetCard = getTargetCard(state.cards, id) \n      if (targetCard.sourceLink.length > 0) {\n        for (let i in targetCard.sourceLink) {\n          dispatch('outputHandler', targetCard.sourceLink[i])\n        }\n      }\n    },\n    // Input Handler will be triggered by other components\n    // When source Component\n    inputHandler({commit, state, }, {link, inputData}){\n      const sourceCompType = getComponentType(link.source);\n      const targetCompType = getComponentType(link.target);\n      console.log('document Hanlde Input 123');\n      console.log(inputData);\n      if(inputData){\n        commit('SET_INPUTDATA', {link, inputData})  \n      }\n\n      const targetCard = getTargetCard(state.cards, link.target) \n      // targetCard sourcelink: codeeditor, target: kgqueier\n      if (targetCard.sourceLink.length > 0) {\n        for (let i in targetCard.sourceLink) {\n          dispatch('outputHandler', targetCard.sourceLink[i]) // output the data to kgqueier again\n        }\n      }\n    }, \n\n    outputHandler({commit, state, dispatch}, linkData){\n      const targetCompType = getComponentType(linkData.target);\n      console.log('outputHandler');\n      // console.log(linkData,targetCompType);\n      if (targetCompType!='kgquerier'){\n        alert('wrong connection, only connect to kgquerier')\n      }\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          dispatch(`${targetCompType}/inputHandler`, {link: linkData, inputData: state.cards[i]['inputData']}, {root: true}) // we only pass the script\n          return;\n        }\n      }\n    },\n    keepInVis({commit}, id) {\n      commit('KEEP_IN_VIS', id)\n    }\n  }\n}"]}]}