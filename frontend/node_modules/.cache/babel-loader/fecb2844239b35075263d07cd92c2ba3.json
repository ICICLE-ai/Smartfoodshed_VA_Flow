{"remainingRequest":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/utils/KGutils.js","dependencies":[{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/utils/KGutils.js","mtime":1661441978843},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1644077470344},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1644041617264},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661441977623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3lhbWVpdHUvRGVza3RvcC9JQ0lSQ0xFL1NtYXJ0Zm9vZHNoZWRfVkFfRmxvdy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy95YW1laXR1L0Rlc2t0b3AvSUNJUkNMRS9TbWFydGZvb2RzaGVkX1ZBX0Zsb3cvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBhcGlDbGllbnQgfSBmcm9tICcuLi9hcGkvYXBpQ2xpZW50JzsKCmZ1bmN0aW9uIGdyYXBoRGF0YVBhcnNpbmcobmVvNGpEM0RhdGFPYmosIGVudGl0aWVzQ29udGFpbmVyLCByZWxhdGlvbnNDb250YWluZXIpIHsKICB2YXIgbm9kZXMgPSBuZW80akQzRGF0YU9iai5yZXN1bHRzWzBdLmRhdGFbMF0uZ3JhcGgubm9kZXM7CiAgdmFyIHJlbGF0aW9ucyA9IG5lbzRqRDNEYXRhT2JqLnJlc3VsdHNbMF0uZGF0YVswXS5ncmFwaC5yZWxhdGlvbnNoaXBzOwogIGNvbnNvbGUubG9nKCJnZXR0aW5nIG5vZGVzIGFuZCBsaW5rcyBiZWZvcmUgcGFyc2luZyIpOyAvLyBpbml0aWFsaXplIGVudGl0aWVzQ29udGFpbmVyIGFuZCByZWxhdGlvbnNDb250YWluZXIKCiAgZW50aXRpZXNDb250YWluZXIuc3BsaWNlKDAsIGVudGl0aWVzQ29udGFpbmVyLmxlbmd0aCk7CiAgcmVsYXRpb25zQ29udGFpbmVyLnNwbGljZSgwLCByZWxhdGlvbnNDb250YWluZXIubGVuZ3RoKTsKICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICBlbnRpdGllc0NvbnRhaW5lci5wdXNoKG5vZGUuaWQpOwogIH0pOwogIHJlbGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChyZWxhdGlvbikgewogICAgcmVsYXRpb25zQ29udGFpbmVyLnB1c2gocmVsYXRpb24uaWQpOwogIH0pOwp9CgpmdW5jdGlvbiBncmFwaE5vZGVMaW5rUmVtb3ZhbChncmFwaERhdGEsIG5vZGVJZCkgewogIHZhciBuZXdHcmFwaERhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBncmFwaERhdGEpOwoKICB2YXIgbm9kZXMgPSBuZXdHcmFwaERhdGEucmVzdWx0c1swXS5kYXRhWzBdLmdyYXBoLm5vZGVzOwogIHZhciByZWxhdGlvbnMgPSBuZXdHcmFwaERhdGEucmVzdWx0c1swXS5kYXRhWzBdLmdyYXBoLnJlbGF0aW9uc2hpcHM7CgogIGlmIChub2RlSWQgPT0gbnVsbCkgewogICAgYWxlcnQoImVtcHR5IG5vZGUgaWQgdG8gYmUgcmVtb3ZlIik7CiAgfSAvLyByZW1vdmUgbm9kZXMKCgogIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgIGlmIChub2Rlc1tpXS5pZCA9PSBub2RlSWQpIHsKICAgICAgbm9kZXMuc3BsaWNlKGksIDEpOyAvLyBhc3N1bWUgbm8gZHVwbGljYXRlIG5vZGVzCgogICAgICBicmVhazsKICAgIH0KICB9CgogIHZhciByZWxhdGlvblJlbWFpbmluZyA9IFtdOwoKICBmb3IgKHZhciBqID0gMDsgaiA8IHJlbGF0aW9ucy5sZW5ndGg7IGorKykgewogICAgaWYgKHJlbGF0aW9uc1tqXS5zdGFydE5vZGUgPT0gbm9kZUlkIHx8IHJlbGF0aW9uc1tqXS5lbmROb2RlID09IG5vZGVJZCkgewogICAgICBjb25zb2xlLmxvZygiUkVNT1ZFRCEgLSBzdGFyTm9kZTogIiArIHJlbGF0aW9uc1tqXS5zdGFydE5vZGUgKyAiLCBlbmROb2RlOiAiICsgcmVsYXRpb25zW2pdLmVuZE5vZGUpOwogICAgfSBlbHNlIHsKICAgICAgcmVsYXRpb25SZW1haW5pbmcucHVzaChyZWxhdGlvbnNbal0pOwogICAgfQogIH0KCiAgbmV3R3JhcGhEYXRhLnJlc3VsdHNbMF0uZGF0YVswXS5ncmFwaC5yZWxhdGlvbnNoaXBzID0gcmVsYXRpb25SZW1haW5pbmc7CiAgcmV0dXJuIG5ld0dyYXBoRGF0YTsKfQoKZnVuY3Rpb24gZ3JhcGhOb2RlTGlua0V4cGFuZChfeCwgX3gyLCBfeDMsIF94NCkgewogIHJldHVybiBfZ3JhcGhOb2RlTGlua0V4cGFuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ3JhcGhOb2RlTGlua0V4cGFuZCgpIHsKICBfZ3JhcGhOb2RlTGlua0V4cGFuZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShncmFwaERhdGEsIG5vZGVJZCwgcmVsYXRpb24sIHRocmVzaG9sZCkgewogICAgdmFyIG5ld0dyYXBoRGF0YSwgbm9kZXMsIHJlbGF0aW9ucywgbm9kZUxpc3QsIHJlbGF0aW9uTGlzdCwgcGFzc2luZ0RhdGEsIHVwZGF0ZWRHcmFwaERhdGE7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIG5ld0dyYXBoRGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIGdyYXBoRGF0YSk7CiAgICAgICAgICAgIG5vZGVzID0gbmV3R3JhcGhEYXRhLnJlc3VsdHNbMF0uZGF0YVswXS5ncmFwaC5ub2RlczsKICAgICAgICAgICAgcmVsYXRpb25zID0gbmV3R3JhcGhEYXRhLnJlc3VsdHNbMF0uZGF0YVswXS5ncmFwaC5yZWxhdGlvbnNoaXBzOwogICAgICAgICAgICBub2RlTGlzdCA9IFtdOwogICAgICAgICAgICByZWxhdGlvbkxpc3QgPSBbXTsKICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgIG5vZGVMaXN0LnB1c2gobm9kZS5pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZWxhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocmVsYXRpb24pIHsKICAgICAgICAgICAgICByZWxhdGlvbkxpc3QucHVzaChyZWxhdGlvbi5pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBwYXNzaW5nRGF0YSA9IHsKICAgICAgICAgICAgICBub2Rlczogbm9kZUxpc3QsCiAgICAgICAgICAgICAgcmVsYXRpb25zOiByZWxhdGlvbkxpc3QsCiAgICAgICAgICAgICAgZXhwYW5kX25vZGU6IG5vZGVJZCwKICAgICAgICAgICAgICByZWxhdGlvbnNoaXBfbmFtZTogcmVsYXRpb24sCiAgICAgICAgICAgICAgdGhyZXNob2xkOiB0aHJlc2hvbGQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICByZXR1cm4gYXBpQ2xpZW50KCIvZXhwYW5kTm9kZVdpdGhSIiwgcGFzc2luZ0RhdGEpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIHVwZGF0ZWRHcmFwaERhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZyh1cGRhdGVkR3JhcGhEYXRhKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdXBkYXRlZEdyYXBoRGF0YSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9ncmFwaE5vZGVMaW5rRXhwYW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIHJldHJpZXZlTm9kZUxpbmtXaXRoVHlwZShfeDUsIF94NikgewogIHJldHVybiBfcmV0cmlldmVOb2RlTGlua1dpdGhUeXBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9yZXRyaWV2ZU5vZGVMaW5rV2l0aFR5cGUoKSB7CiAgX3JldHJpZXZlTm9kZUxpbmtXaXRoVHlwZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZW50aXR5X3R5cGUsIHJlbGF0aW9uc2hpcF90eXBlKSB7CiAgICB2YXIgZGF0YSwgcGF0aCwgdXBkYXRlZEdyYXBoRGF0YTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmIChyZWxhdGlvbnNoaXBfdHlwZS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgIHBhdGggPSAiZ2V0R3dpdGhFbnRpdHlUeXBlIjsKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgImVudGl0eV90eXBlIjogZW50aXR5X3R5cGUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhdGggPSAiZ2V0R3dpdGhSZWxhdGlvbnNoaXBUeXBlIjsKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgInJlbGF0aW9uc2hpcF90eXBlIjogcmVsYXRpb25zaGlwX3R5cGUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhlbnRpdHlfdHlwZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlbGF0aW9uc2hpcF90eXBlKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gYXBpQ0xpZW50KHBhdGgsIGRhdGEpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgdXBkYXRlZEdyYXBoRGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZyh1cGRhdGVkR3JhcGhEYXRhKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHVwZGF0ZWRHcmFwaERhdGEpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX3JldHJpZXZlTm9kZUxpbmtXaXRoVHlwZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBnZW5lcmF0aW9uRW50aXR5UmVsYXRpb25zKGl0ZW1zKSB7CiAgdmFyIG5vZGVzID0gW107CiAgdmFyIHJlbGF0aW9ucyA9IFtdOwogIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmIChpdGVtLnJlbGF0aW9uX2lkICE9IG51bGwpIHsKICAgICAgcmVsYXRpb25zLnB1c2goaXRlbS5yZWxhdGlvbl9pZCk7CiAgICB9IGVsc2UgaWYgKGl0ZW0uaWQgIT0gbnVsbCkgewogICAgICBub2Rlcy5wdXNoKGl0ZW0uaWQpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coIkVycm9yLCBpdGVtIGRvZXNuJ3QgaGF2ZSBpZCBvciByZWxhdGlvbl9pZCIpOwogICAgfQogIH0pOwogIHJldHVybiB7CiAgICBub2Rlczogbm9kZXMsCiAgICByZWxhdGlvbnM6IHJlbGF0aW9ucwogIH07Cn0KCmZ1bmN0aW9uIHJldHJpZXZlR3JhcGhGcm9tVGFibGUoX3g3KSB7CiAgcmV0dXJuIF9yZXRyaWV2ZUdyYXBoRnJvbVRhYmxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9yZXRyaWV2ZUdyYXBoRnJvbVRhYmxlKCkgewogIF9yZXRyaWV2ZUdyYXBoRnJvbVRhYmxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhxdWVyeURhdGEpIHsKICAgIHZhciByZXN1bHQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIXF1ZXJ5RGF0YSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gYXBpQ2xpZW50LnBvc3QoJy9yZXRyaWV2ZVN1YmdyYXBoJywgcXVlcnlEYXRhKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50LmRhdGE7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX3JldHJpZXZlR3JhcGhGcm9tVGFibGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IHsgZ3JhcGhEYXRhUGFyc2luZywgZ3JhcGhOb2RlTGlua1JlbW92YWwsIGdyYXBoTm9kZUxpbmtFeHBhbmQsIHJldHJpZXZlTm9kZUxpbmtXaXRoVHlwZSwgZ2VuZXJhdGlvbkVudGl0eVJlbGF0aW9ucywgcmV0cmlldmVHcmFwaEZyb21UYWJsZSB9Ow=="},{"version":3,"sources":["/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/utils/KGutils.js"],"names":["apiClient","graphDataParsing","neo4jD3DataObj","entitiesContainer","relationsContainer","nodes","results","data","graph","relations","relationships","console","log","splice","length","forEach","node","push","id","relation","graphNodeLinkRemoval","graphData","nodeId","newGraphData","alert","i","relationRemaining","j","startNode","endNode","graphNodeLinkExpand","threshold","nodeList","relationList","passingData","expand_node","relationship_name","updatedGraphData","retrieveNodeLinkWithType","entity_type","relationship_type","path","apiCLient","generationEntityRelations","items","item","relation_id","retrieveGraphFromTable","queryData","post","result"],"mappings":"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","sourcesContent":["import { apiClient } from '../api/apiClient'\n\n\nfunction graphDataParsing(neo4jD3DataObj, entitiesContainer, relationsContainer) {\n\n    const nodes = neo4jD3DataObj.results[0].data[0].graph.nodes \n    const relations = neo4jD3DataObj.results[0].data[0].graph.relationships \n    console.log(\"getting nodes and links before parsing\")\n    // initialize entitiesContainer and relationsContainer\n   entitiesContainer.splice(0, entitiesContainer.length)\n   relationsContainer.splice(0, relationsContainer.length)\n\n   nodes.forEach(node => {\n       entitiesContainer.push(node.id)\n   })\n   relations.forEach(relation => {\n        relationsContainer.push(relation.id)\n   })\n}\n\nfunction graphNodeLinkRemoval(graphData, nodeId) { \n\n    const newGraphData = {...graphData}\n    const nodes = newGraphData.results[0].data[0].graph.nodes \n    const relations = newGraphData.results[0].data[0].graph.relationships  \n    if (nodeId == null) {\n        alert(\"empty node id to be remove\")\n    }\n    // remove nodes\n    for(let i = 0; i < nodes.length; i++){\n        if(nodes[i].id == nodeId){\n            nodes.splice(i, 1)\n            // assume no duplicate nodes\n            break\n        }\n    }\n    const relationRemaining = []\n    for(let j = 0; j < relations.length; j++){\n        \n        if(relations[j].startNode == nodeId || relations[j].endNode == nodeId){\n            console.log(\"REMOVED! - starNode: \" + relations[j].startNode + \", endNode: \" + relations[j].endNode)\n        }else{\n            relationRemaining.push(relations[j])\n        }\n    }\n    newGraphData.results[0].data[0].graph.relationships = relationRemaining \n    return newGraphData\n}\n\nasync function graphNodeLinkExpand(graphData, nodeId, relation, threshold) { \n    const newGraphData = {...graphData}\n    const nodes = newGraphData.results[0].data[0].graph.nodes \n    const relations = newGraphData.results[0].data[0].graph.relationships  \n    const nodeList = [] \n    const relationList = [] \n    nodes.forEach(node => {\n        nodeList.push(node.id)\n    })\n    relations.forEach(relation => {\n        relationList.push(relation.id)\n    })\n    \n    const passingData = {nodes: nodeList, relations: relationList, expand_node: nodeId, relationship_name:relation, threshold: threshold}\n    const updatedGraphData = await apiClient(\"/expandNodeWithR\", passingData)\n    console.log(updatedGraphData)\n    return updatedGraphData\n}\n\nasync function retrieveNodeLinkWithType(entity_type, relationship_type) { \n    let data; \n    let path; \n    if(relationship_type.length == 0){\n        path = \"getGwithEntityType\"\n        data = {\"entity_type\":entity_type}\n    } else {\n        path = \"getGwithRelationshipType\"\n        data = {\"relationship_type\":relationship_type}\n    }\n    console.log(entity_type) \n    console.log(relationship_type)\n    const updatedGraphData = await apiCLient(path, data)\n    console.log(updatedGraphData)\n    return updatedGraphData\n}\n\nfunction generationEntityRelations(items){\n    let nodes = []\n    let relations = [] \n    items.forEach(item => {\n        if(item.relation_id != null){\n            relations.push(item.relation_id)\n        }else if(item.id != null) {\n            nodes.push(item.id)\n        }else{\n            console.log(\"Error, item doesn't have id or relation_id\")\n        }\n    })\n    return {nodes, relations}\n}\n\nasync function retrieveGraphFromTable(queryData) {\n    if (queryData) {\n        const result = ((await apiClient.post('/retrieveSubgraph',queryData))).data\n        console.log(result)\n        return result\n    }\n    return null\n}\n\nexport {graphDataParsing, graphNodeLinkRemoval, graphNodeLinkExpand, retrieveNodeLinkWithType, generationEntityRelations, retrieveGraphFromTable}"]}]}