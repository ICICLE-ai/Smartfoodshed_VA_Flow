{"remainingRequest":"/Users/yameitu/Desktop/ICIRCLE/flowisallyouneed/frontend/node_modules/babel-loader/lib/index.js!/Users/yameitu/Desktop/ICIRCLE/flowisallyouneed/frontend/src/js/Neo4jD3.js","dependencies":[{"path":"/Users/yameitu/Desktop/ICIRCLE/flowisallyouneed/frontend/src/js/Neo4jD3.js","mtime":1644244557062},{"path":"/Users/yameitu/Desktop/ICIRCLE/flowisallyouneed/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1644041617264},{"path":"/Users/yameitu/Desktop/ICIRCLE/flowisallyouneed/frontend/node_modules/babel-loader/lib/index.js","mtime":1644041617580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy95YW1laXR1L0Rlc2t0b3AvSUNJUkNMRS9mbG93aXNhbGx5b3VuZWVkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKCi8qIGdsb2JhbCBkMywgZG9jdW1lbnQgKi8KCi8qIGpzaGludCBsYXRlZGVmOm5vZnVuYyAqLwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CgpmdW5jdGlvbiBOZW80akQzKF9zZWxlY3RvciwgX29wdGlvbnMpIHsKICB2YXIgY29udGFpbmVyLAogICAgICBncmFwaCwKICAgICAgaW5mbywKICAgICAgbm9kZSwKICAgICAgbm9kZXMsCiAgICAgIHJlbGF0aW9uc2hpcCwKICAgICAgcmVsYXRpb25zaGlwT3V0bGluZSwKICAgICAgcmVsYXRpb25zaGlwT3ZlcmxheSwKICAgICAgcmVsYXRpb25zaGlwVGV4dCwKICAgICAgcmVsYXRpb25zaGlwcywKICAgICAgc2VsZWN0b3IsCiAgICAgIHNpbXVsYXRpb24sCiAgICAgIHN2ZywKICAgICAgc3ZnTm9kZXMsCiAgICAgIHN2Z1JlbGF0aW9uc2hpcHMsCiAgICAgIHN2Z1NjYWxlLAogICAgICBzdmdUcmFuc2xhdGUsCiAgICAgIGNsYXNzZXMyY29sb3JzID0ge30sCiAgICAgIGp1c3RMb2FkZWQgPSBmYWxzZSwKICAgICAgbnVtQ2xhc3NlcyA9IDAsCiAgICAgIG9wdGlvbnMgPSB7CiAgICBhcnJvd1NpemU6IDQsCiAgICBjb2xvcnM6IGNvbG9ycygpLAogICAgaGlnaGxpZ2h0OiB1bmRlZmluZWQsCiAgICBpY29uTWFwOiBmb250QXdlc29tZUljb25zKCksCiAgICBpY29uczogdW5kZWZpbmVkLAogICAgaW1hZ2VNYXA6IHt9LAogICAgaW1hZ2VzOiB1bmRlZmluZWQsCiAgICBpbmZvUGFuZWw6IHRydWUsCiAgICBtaW5Db2xsaXNpb246IHVuZGVmaW5lZCwKICAgIG5lbzRqRGF0YTogdW5kZWZpbmVkLAogICAgbmVvNGpEYXRhVXJsOiB1bmRlZmluZWQsCiAgICBub2RlT3V0bGluZUZpbGxDb2xvcjogdW5kZWZpbmVkLAogICAgbm9kZVJhZGl1czogMjUsCiAgICByZWxhdGlvbnNoaXBDb2xvcjogJyNhNWFiYjYnLAogICAgem9vbUZpdDogZmFsc2UKICB9LAogICAgICBWRVJTSU9OID0gJzAuMC4xJzsKCiAgZnVuY3Rpb24gYXBwZW5kR3JhcGgoY29udGFpbmVyKSB7CiAgICBzdmcgPSBjb250YWluZXIuYXBwZW5kKCdzdmcnKS5hdHRyKCd3aWR0aCcsICcxMDAlJykuYXR0cignaGVpZ2h0JywgJzEwMCUnKS5hdHRyKCdjbGFzcycsICduZW80amQzLWdyYXBoJykub24oJ2RibGNsaWNrLnpvb20nLCBudWxsKS5hcHBlbmQoJ2cnKS5hdHRyKCd3aWR0aCcsICcxMDAlJykuYXR0cignaGVpZ2h0JywgJzEwMCUnKTsKICAgIHZhciBjYW52YXNDb250YWluZXIgPSBkMy5zZWxlY3QoJy5uZW80amQzLWdyYXBoJyk7CiAgICBjYW52YXNDb250YWluZXIub24oJ2RibGNsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygiMjIyMjIyMjIyMjIyMjIyMjIyMjIiKTsKICAgICAgY2FudmFzQ29udGFpbmVyLmNhbGwoZDMuem9vbSgpLm9uKCd6b29tJywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzY2FsZSA9IGQzLmV2ZW50LnRyYW5zZm9ybS5rLAogICAgICAgICAgICB0cmFuc2xhdGUgPSBbZDMuZXZlbnQudHJhbnNmb3JtLngsIGQzLmV2ZW50LnRyYW5zZm9ybS55XTsKCiAgICAgICAgaWYgKHN2Z1RyYW5zbGF0ZSkgewogICAgICAgICAgdHJhbnNsYXRlWzBdICs9IHN2Z1RyYW5zbGF0ZVswXTsKICAgICAgICAgIHRyYW5zbGF0ZVsxXSArPSBzdmdUcmFuc2xhdGVbMV07CiAgICAgICAgfQoKICAgICAgICBpZiAoc3ZnU2NhbGUpIHsKICAgICAgICAgIHNjYWxlICo9IHN2Z1NjYWxlOwogICAgICAgIH0KCiAgICAgICAgc3ZnLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZVswXSArICcsICcgKyB0cmFuc2xhdGVbMV0gKyAnKSBzY2FsZSgnICsgc2NhbGUgKyAnKScpOwogICAgICB9KSk7CiAgICAgIGNhbnZhc0NvbnRhaW5lci5zdHlsZSgnYm9yZGVyJywgJzFweCBzb2xpZCByZWQnKTsKICAgIH0pOwogICAgY2FudmFzQ29udGFpbmVyLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygnbW91c2VvdXQnKTsKICAgICAgY29uc29sZS5sb2coY2FudmFzQ29udGFpbmVyKTsKICAgICAgY2FudmFzQ29udGFpbmVyLm9uKCcuem9vbScsIG51bGwpOwogICAgICBjYW52YXNDb250YWluZXIuc3R5bGUoJ2JvcmRlcicsIG51bGwpOwogICAgfSk7CiAgICBzdmdSZWxhdGlvbnNoaXBzID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3JlbGF0aW9uc2hpcHMnKTsKICAgIHN2Z05vZGVzID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ25vZGVzJyk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRJbWFnZVRvTm9kZShub2RlKSB7CiAgICByZXR1cm4gbm9kZS5hcHBlbmQoJ2ltYWdlJykuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGljb24oZCkgPyAnMjRweCcgOiAnMzBweCc7CiAgICB9KS5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGljb24oZCkgPyAnNXB4JyA6ICctMTVweCc7CiAgICB9KS5hdHRyKCd4bGluazpocmVmJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGltYWdlKGQpOwogICAgfSkuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBpY29uKGQpID8gJzVweCcgOiAnLTE2cHgnOwogICAgfSkuYXR0cignd2lkdGgnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/ICcyNHB4JyA6ICczMHB4JzsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kSW5mb1BhbmVsKGNvbnRhaW5lcikgewogICAgcmV0dXJuIGNvbnRhaW5lci5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ25lbzRqZDMtaW5mbycpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kSW5mb0VsZW1lbnQoY2xzLCBpc05vZGUsIHByb3BlcnR5LCB2YWx1ZSkgewogICAgdmFyIGVsZW0gPSBpbmZvLmFwcGVuZCgnYScpOwogICAgZWxlbS5hdHRyKCdocmVmJywgJyMnKS5hdHRyKCdjbGFzcycsIGNscykuaHRtbCgnPHN0cm9uZz4nICsgcHJvcGVydHkgKyAnPC9zdHJvbmc+JyArICh2YWx1ZSA/ICc6ICcgKyB2YWx1ZSA6ICcnKSk7CgogICAgaWYgKCF2YWx1ZSkgewogICAgICBlbGVtLnN0eWxlKCdiYWNrZ3JvdW5kLWNvbG9yJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gb3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvciA/IG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgOiBpc05vZGUgPyBjbGFzczJjb2xvcihwcm9wZXJ0eSkgOiBkZWZhdWx0Q29sb3IoKTsKICAgICAgfSkuc3R5bGUoJ2JvcmRlci1jb2xvcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgPyBjbGFzczJkYXJrZW5Db2xvcihvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yKSA6IGlzTm9kZSA/IGNsYXNzMmRhcmtlbkNvbG9yKHByb3BlcnR5KSA6IGRlZmF1bHREYXJrZW5Db2xvcigpOwogICAgICB9KS5zdHlsZSgnY29sb3InLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yID8gY2xhc3MyZGFya2VuQ29sb3Iob3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvcikgOiAnI2ZmZic7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYXBwZW5kSW5mb0VsZW1lbnRDbGFzcyhjbHMsIG5vZGUpIHsKICAgIGFwcGVuZEluZm9FbGVtZW50KGNscywgdHJ1ZSwgbm9kZSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRJbmZvRWxlbWVudFByb3BlcnR5KGNscywgcHJvcGVydHksIHZhbHVlKSB7CiAgICBhcHBlbmRJbmZvRWxlbWVudChjbHMsIGZhbHNlLCBwcm9wZXJ0eSwgdmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kSW5mb0VsZW1lbnRSZWxhdGlvbnNoaXAoY2xzLCByZWxhdGlvbnNoaXApIHsKICAgIGFwcGVuZEluZm9FbGVtZW50KGNscywgZmFsc2UsIHJlbGF0aW9uc2hpcCk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmROb2RlKCkgewogICAgcmV0dXJuIG5vZGUuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBoaWdobGlnaHQsCiAgICAgICAgICBpLAogICAgICAgICAgY2xhc3NlcyA9ICdub2RlJywKICAgICAgICAgIGxhYmVsID0gZC5sYWJlbHNbMF07CgogICAgICBpZiAoaWNvbihkKSkgewogICAgICAgIGNsYXNzZXMgKz0gJyBub2RlLWljb24nOwogICAgICB9CgogICAgICBpZiAoaW1hZ2UoZCkpIHsKICAgICAgICBjbGFzc2VzICs9ICcgbm9kZS1pbWFnZSc7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLmhpZ2hsaWdodCkgewogICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHRpb25zLmhpZ2hsaWdodC5sZW5ndGg7IGkrKykgewogICAgICAgICAgaGlnaGxpZ2h0ID0gb3B0aW9ucy5oaWdobGlnaHRbaV07CgogICAgICAgICAgaWYgKGQubGFiZWxzWzBdID09PSBoaWdobGlnaHQuY2xhc3MgJiYgZC5wcm9wZXJ0aWVzW2hpZ2hsaWdodC5wcm9wZXJ0eV0gPT09IGhpZ2hsaWdodC52YWx1ZSkgewogICAgICAgICAgICBjbGFzc2VzICs9ICcgbm9kZS1oaWdobGlnaHRlZCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGNsYXNzZXM7CiAgICB9KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkgewogICAgICBkLmZ4ID0gZC5meSA9IG51bGw7CgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlQ2xpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZUNsaWNrKGQpOwogICAgICB9CiAgICB9KS5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkgewogICAgICBzdGlja05vZGUoZCk7CgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlRG91YmxlQ2xpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZURvdWJsZUNsaWNrKGQpOwogICAgICB9CiAgICB9KS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgIGlmIChpbmZvKSB7CiAgICAgICAgdXBkYXRlSW5mbyhkKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uTm9kZU1vdXNlRW50ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZU1vdXNlRW50ZXIoZCk7CiAgICAgIH0KICAgIH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGQpIHsKICAgICAgaWYgKGluZm8pIHsKICAgICAgICBjbGVhckluZm8oZCk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk5vZGVNb3VzZUxlYXZlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgb3B0aW9ucy5vbk5vZGVNb3VzZUxlYXZlKGQpOwogICAgICB9CiAgICB9KS5jYWxsKGQzLmRyYWcoKS5vbignc3RhcnQnLCBkcmFnU3RhcnRlZCkub24oJ2RyYWcnLCBkcmFnZ2VkKS5vbignZW5kJywgZHJhZ0VuZGVkKSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmROb2RlVG9HcmFwaCgpIHsKICAgIHZhciBuID0gYXBwZW5kTm9kZSgpOwogICAgYXBwZW5kUmluZ1RvTm9kZShuKTsKICAgIGFwcGVuZE91dGxpbmVUb05vZGUobik7CiAgICBhcHBlbmRMYWJlbHRvTm9kZShuKTsKCiAgICBpZiAob3B0aW9ucy5pY29ucykgewogICAgICBhcHBlbmRUZXh0VG9Ob2RlKG4pOwogICAgfQoKICAgIGlmIChvcHRpb25zLmltYWdlcykgewogICAgICBhcHBlbmRJbWFnZVRvTm9kZShuKTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZExhYmVsdG9Ob2RlKG5vZGUpIHsKICAgIC8vIG5vZGUuYXBwZW5kKCd0ZXh0JykKICAgIC8vIC5zdHlsZSgnZm9udC1zaXplJywnMTBweCcpCiAgICAvLyAuc3R5bGUoJ3RleHQtYW5jaG9yJywnbWlkZGxlJykKICAgIC8vIC5zdHlsZSgnZmlsbCcsJ3doaXRlJykKICAgIC8vIC5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpCiAgICAvLyAudGV4dChmdW5jdGlvbihkKXsKICAgIC8vICAgICByZXR1cm4gZFsncHJvcGVydGllcyddWyduYW1lJ10KICAgIC8vIH0pCiAgICBub2RlLmVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgdmFyIHRleHRfbm9kZXMgPSB0ZXh0RGlzcGxheShkWydpZCddKTsKICAgICAgdmFyIHNlbGVjdGlvbiA9IGQzLnNlbGVjdCh0aGlzKTsKCiAgICAgIGlmICh0ZXh0X25vZGVzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAiMCIpLmF0dHIoInkiLCAiMCIpLnN0eWxlKCdmb250LXNpemUnLCAnMTJweCcpLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS5zdHlsZSgnZmlsbCcsICd3aGl0ZScpLnN0eWxlKCdmb250LXdlaWdodCcsICdib2xkJykudGV4dCh0ZXh0X25vZGVzWzBdKTsKICAgICAgfSBlbHNlIGlmICh0ZXh0X25vZGVzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAiMCIpLmF0dHIoInkiLCAiLTQiKS5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKS5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJykuc3R5bGUoJ2ZpbGwnLCAnd2hpdGUnKS5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpLnRleHQodGV4dF9ub2Rlc1swXSk7CiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAiMCIpLmF0dHIoInkiLCAiMTIiKS5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKS5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJykuc3R5bGUoJ2ZpbGwnLCAnd2hpdGUnKS5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpLnRleHQodGV4dF9ub2Rlc1sxXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAiMCIpLmF0dHIoInkiLCAiLTEyIikuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxMHB4Jykuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLnN0eWxlKCdmaWxsJywgJ3doaXRlJykuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJ2JvbGQnKS50ZXh0KHRleHRfbm9kZXNbMF0pOwogICAgICAgIHNlbGVjdGlvbi5hcHBlbmQoJ3RleHQnKS5hdHRyKCJ4IiwgIjAiKS5hdHRyKCJ5IiwgIjAiKS5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKS5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJykuc3R5bGUoJ2ZpbGwnLCAnd2hpdGUnKS5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpLnRleHQodGV4dF9ub2Rlc1sxXSk7CiAgICAgICAgc2VsZWN0aW9uLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAiMCIpLmF0dHIoInkiLCAiMTIiKS5zdHlsZSgnZm9udC1zaXplJywgJzEwcHgnKS5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJykuc3R5bGUoJ2ZpbGwnLCAnd2hpdGUnKS5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpLnRleHQodGV4dF9ub2Rlc1syXSk7CiAgICAgIH0KICAgIH0pOyAvLyBjb25zdCB0ZXh0X25vZGVzID0gdGV4dERpc3BsYXkoKQogIH0KCiAgZnVuY3Rpb24gdGV4dERpc3BsYXkodGV4dCkgewogICAgdmFyIHRocmVzaG9sZCA9IDk7CiAgICB2YXIgdGV4dF90b2tlbnMgPSB0ZXh0LnNwbGl0KCIgIik7CiAgICB2YXIgcmVzID0gW107CiAgICB2YXIgdG1wID0gIiI7CgogICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRleHRfdG9rZW5zKSwKICAgICAgICBfc3RlcDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciB0b2tlbiA9IF9zdGVwLnZhbHVlOwoKICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIpIHsKICAgICAgICAgIGlmICh0bXAubGVuZ3RoID4gdGhyZXNob2xkKSB7CiAgICAgICAgICAgIHJlcy5wdXNoKHRva2VuLnNsaWNlKDAsIDkpICsgIi4uIik7CiAgICAgICAgICAgIHRtcCA9ICIiOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0bXAubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgaWYgKHRva2VuLmxlbmd0aCA8PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICB0bXAgKz0gdG9rZW47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzLnB1c2godG9rZW4uc2xpY2UoMCwgOSkgKyAiLi4iKTsKICAgICAgICAgICAgICB0bXAgPSAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHRtcC5sZW5ndGggKyAxICsgdG9rZW4ubGVuZ3RoIDw9IHRocmVzaG9sZCkgewogICAgICAgICAgICAgIHRtcCArPSAiICIgKyB0b2tlbjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXMucHVzaCh0bXApOwogICAgICAgICAgICAgIHRtcCA9IHRva2VuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0bXAubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgaWYgKHRva2VuLmxlbmd0aCA8PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICB0bXAgKz0gdG9rZW47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzLnB1c2godG9rZW4uc2xpY2UoMCwgOSkgKyAiLi4iKTsKICAgICAgICAgICAgICB0bXAgPSAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHRtcC5sZW5ndGggKyAxICsgdG9rZW4ubGVuZ3RoIDw9IHRocmVzaG9sZCkgewogICAgICAgICAgICAgIHRtcCArPSAiICIgKyB0b2tlbjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXMucHVzaCh0bXApOwogICAgICAgICAgICAgIHRtcCA9IHRva2VuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvci5mKCk7CiAgICB9CgogICAgaWYgKHRtcC5sZW5ndGggPiAwKSB7CiAgICAgIGlmICh0bXAubGVuZ3RoID4gdGhyZXNob2xkKSB7CiAgICAgICAgcmVzLnB1c2godG1wLnNsaWNlKDAsIDgpICsgIi4uIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVzLnB1c2godG1wKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByZXM7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRPdXRsaW5lVG9Ob2RlKG5vZGUpIHsKICAgIHJldHVybiBub2RlLmFwcGVuZCgnY2lyY2xlJykuYXR0cignY2xhc3MnLCAnb3V0bGluZScpLmF0dHIoJ3InLCBvcHRpb25zLm5vZGVSYWRpdXMpLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuICcjNzhiM2QwJzsgLy8gICAgcmV0dXJuIG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgPyBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yIDogY2xhc3MyY29sb3IoZC5sYWJlbHNbMF0pOwogICAgfSkuc3R5bGUoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAnIzM1OGViOCc7IC8vICAgIHJldHVybiBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yID8gY2xhc3MyZGFya2VuQ29sb3Iob3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvcikgOiBjbGFzczJkYXJrZW5Db2xvcihkLmxhYmVsc1swXSk7CiAgICB9KS5hcHBlbmQoJ3RpdGxlJykudGV4dChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gdG9TdHJpbmcoZCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFJpbmdUb05vZGUobm9kZSkgewogICAgcmV0dXJuIG5vZGUuYXBwZW5kKCdjaXJjbGUnKS5hdHRyKCdjbGFzcycsICdyaW5nJykuYXR0cigncicsIG9wdGlvbnMubm9kZVJhZGl1cyAqIDEuMTYpLmFwcGVuZCgndGl0bGUnKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiB0b1N0cmluZyhkKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kVGV4dFRvTm9kZShub2RlKSB7CiAgICByZXR1cm4gbm9kZS5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAndGV4dCcgKyAoaWNvbihkKSA/ICcgaWNvbicgOiAnJyk7CiAgICB9KS5hdHRyKCdzdHJva2UnLCAnd2hpdGUnKS5hdHRyKCdmb250LXNpemUnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/IG9wdGlvbnMubm9kZVJhZGl1cyArICdweCcgOiAnMTBweCc7CiAgICB9KS5hdHRyKCdwb2ludGVyLWV2ZW50cycsICdub25lJykuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJykuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBpY29uKGQpID8gcGFyc2VJbnQoTWF0aC5yb3VuZChvcHRpb25zLm5vZGVSYWRpdXMgKiAwLjMyKSkgKyAncHgnIDogJzRweCc7CiAgICB9KS5odG1sKGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBfaWNvbiA9IGljb24oZCk7CgogICAgICByZXR1cm4gX2ljb24gPyAnJiN4JyArIF9pY29uIDogZC5pZDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kUmFuZG9tRGF0YVRvTm9kZShkLCBtYXhOb2Rlc1RvR2VuZXJhdGUpIHsKICAgIHZhciBkYXRhID0gcmFuZG9tRDNEYXRhKGQsIG1heE5vZGVzVG9HZW5lcmF0ZSk7CiAgICB1cGRhdGVXaXRoTmVvNGpEYXRhKGRhdGEpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kUmVsYXRpb25zaGlwKCkgewogICAgcmV0dXJuIHJlbGF0aW9uc2hpcC5lbnRlcigpLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3JlbGF0aW9uc2hpcCcpLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vblJlbGF0aW9uc2hpcERvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgb3B0aW9ucy5vblJlbGF0aW9uc2hpcERvdWJsZUNsaWNrKGQpOwogICAgICB9CiAgICB9KS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgIGlmIChpbmZvKSB7CiAgICAgICAgdXBkYXRlSW5mbyhkKTsKICAgICAgfQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRPdXRsaW5lVG9SZWxhdGlvbnNoaXAocikgewogICAgcmV0dXJuIHIuYXBwZW5kKCdwYXRoJykuYXR0cignY2xhc3MnLCAnb3V0bGluZScpLmF0dHIoJ2ZpbGwnLCAnI2E1YWJiNicpLmF0dHIoJ3N0cm9rZScsICdub25lJyk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRPdmVybGF5VG9SZWxhdGlvbnNoaXAocikgewogICAgcmV0dXJuIHIuYXBwZW5kKCdwYXRoJykuYXR0cignY2xhc3MnLCAnb3ZlcmxheScpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kVGV4dFRvUmVsYXRpb25zaGlwKHIpIHsKICAgIHJldHVybiByLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgJ3RleHQnKS5hdHRyKCdmaWxsJywgJyMwMDAwMDAnKS5hdHRyKCdmb250LXNpemUnLCAnMTBweCcpLmF0dHIoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS5hdHRyKCJjb2xvciIsICJ3aGl0ZSIpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQudHlwZTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kUmVsYXRpb25zaGlwVG9HcmFwaCgpIHsKICAgIHZhciByZWxhdGlvbnNoaXAgPSBhcHBlbmRSZWxhdGlvbnNoaXAoKSwKICAgICAgICB0ZXh0ID0gYXBwZW5kVGV4dFRvUmVsYXRpb25zaGlwKHJlbGF0aW9uc2hpcCksCiAgICAgICAgb3V0bGluZSA9IGFwcGVuZE91dGxpbmVUb1JlbGF0aW9uc2hpcChyZWxhdGlvbnNoaXApLAogICAgICAgIG92ZXJsYXkgPSBhcHBlbmRPdmVybGF5VG9SZWxhdGlvbnNoaXAocmVsYXRpb25zaGlwKTsKICAgIHJldHVybiB7CiAgICAgIG91dGxpbmU6IG91dGxpbmUsCiAgICAgIG92ZXJsYXk6IG92ZXJsYXksCiAgICAgIHJlbGF0aW9uc2hpcDogcmVsYXRpb25zaGlwLAogICAgICB0ZXh0OiB0ZXh0CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gY2xhc3MyY29sb3IoY2xzKSB7CiAgICB2YXIgY29sb3IgPSBjbGFzc2VzMmNvbG9yc1tjbHNdOwoKICAgIGlmICghY29sb3IpIHsKICAgICAgLy8gICAgICAgICAgICBjb2xvciA9IG9wdGlvbnMuY29sb3JzW01hdGgubWluKG51bUNsYXNzZXMsIG9wdGlvbnMuY29sb3JzLmxlbmd0aCAtIDEpXTsKICAgICAgY29sb3IgPSBvcHRpb25zLmNvbG9yc1tudW1DbGFzc2VzICUgb3B0aW9ucy5jb2xvcnMubGVuZ3RoXTsKICAgICAgY2xhc3NlczJjb2xvcnNbY2xzXSA9IGNvbG9yOwogICAgICBudW1DbGFzc2VzKys7CiAgICB9CgogICAgcmV0dXJuIGNvbG9yOwogIH0KCiAgZnVuY3Rpb24gY2xhc3MyZGFya2VuQ29sb3IoY2xzKSB7CiAgICByZXR1cm4gZDMucmdiKGNsYXNzMmNvbG9yKGNscykpLmRhcmtlcigxKTsKICB9CgogIGZ1bmN0aW9uIGNsZWFySW5mbygpIHsKICAgIGluZm8uaHRtbCgnJyk7CiAgfQoKICBmdW5jdGlvbiBjb2xvcigpIHsKICAgIHJldHVybiBvcHRpb25zLmNvbG9yc1tvcHRpb25zLmNvbG9ycy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpIDw8IDBdOwogIH0KCiAgZnVuY3Rpb24gY29sb3JzKCkgewogICAgLy8gZDMuc2NoZW1lQ2F0ZWdvcnkxMCwKICAgIC8vIGQzLnNjaGVtZUNhdGVnb3J5MjAsCiAgICByZXR1cm4gWycjNjhiZGY2JywgLy8gbGlnaHQgYmx1ZQogICAgJyM2ZGNlOWUnLCAvLyBncmVlbiAjMQogICAgJyNmYWFmYzInLCAvLyBsaWdodCBwaW5rCiAgICAnI2YyYmFmNicsIC8vIHB1cnBsZQogICAgJyNmZjkyOGMnLCAvLyBsaWdodCByZWQKICAgICcjZmNlYTdlJywgLy8gbGlnaHQgeWVsbG93CiAgICAnI2ZmYzc2NicsIC8vIGxpZ2h0IG9yYW5nZQogICAgJyM0MDVmOWUnLCAvLyBuYXZ5IGJsdWUKICAgICcjYTVhYmI2JywgLy8gZGFyayBncmF5CiAgICAnIzc4Y2VjYicsIC8vIGdyZWVuICMyLAogICAgJyNiODhjYmInLCAvLyBkYXJrIHB1cnBsZQogICAgJyNjZWQyZDknLCAvLyBsaWdodCBncmF5CiAgICAnI2U4NDY0NicsIC8vIGRhcmsgcmVkCiAgICAnI2ZhNWY4NicsIC8vIGRhcmsgcGluawogICAgJyNmZmFiMWEnLCAvLyBkYXJrIG9yYW5nZQogICAgJyNmY2RhMTknLCAvLyBkYXJrIHllbGxvdwogICAgJyM3OTdiODAnLCAvLyBibGFjawogICAgJyNjOWQ5NmYnLCAvLyBwaXN0YWNjaGlvCiAgICAnIzQ3OTkxZicsIC8vIGdyZWVuICMzCiAgICAnIzcwZWRlZScsIC8vIHR1cnF1b2lzZQogICAgJyNmZjc1ZWEnIC8vIHBpbmsKICAgIF07CiAgfQoKICBmdW5jdGlvbiBjb250YWlucyhhcnJheSwgaWQpIHsKICAgIHZhciBmaWx0ZXIgPSBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgcmV0dXJuIGVsZW0uaWQgPT09IGlkOwogICAgfSk7CiAgICByZXR1cm4gZmlsdGVyLmxlbmd0aCA+IDA7CiAgfQoKICBmdW5jdGlvbiBkZWZhdWx0Q29sb3IoKSB7CiAgICByZXR1cm4gb3B0aW9ucy5yZWxhdGlvbnNoaXBDb2xvcjsKICB9CgogIGZ1bmN0aW9uIGRlZmF1bHREYXJrZW5Db2xvcigpIHsKICAgIHJldHVybiBkMy5yZ2Iob3B0aW9ucy5jb2xvcnNbb3B0aW9ucy5jb2xvcnMubGVuZ3RoIC0gMV0pLmRhcmtlcigxKTsKICB9CgogIGZ1bmN0aW9uIGRyYWdFbmRlZChkKSB7CiAgICBpZiAoIWQzLmV2ZW50LmFjdGl2ZSkgewogICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgfQoKICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk5vZGVEcmFnRW5kID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9wdGlvbnMub25Ob2RlRHJhZ0VuZChkKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGRyYWdnZWQoZCkgewogICAgc3RpY2tOb2RlKGQpOwogIH0KCiAgZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQoZCkgewogICAgaWYgKCFkMy5ldmVudC5hY3RpdmUpIHsKICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgIH0KCiAgICBkLmZ4ID0gZC54OwogICAgZC5meSA9IGQueTsKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlRHJhZ1N0YXJ0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIG9wdGlvbnMub25Ob2RlRHJhZ1N0YXJ0KGQpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kKG9iajEsIG9iajIpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lcmdlKG9iaiwgb2JqMSk7CiAgICBtZXJnZShvYmosIG9iajIpOwogICAgcmV0dXJuIG9iajsKICB9CgogIGZ1bmN0aW9uIGZvbnRBd2Vzb21lSWNvbnMoKSB7CiAgICByZXR1cm4gewogICAgICAnZ2xhc3MnOiAnZjAwMCcsCiAgICAgICdtdXNpYyc6ICdmMDAxJywKICAgICAgJ3NlYXJjaCc6ICdmMDAyJywKICAgICAgJ2VudmVsb3BlLW8nOiAnZjAwMycsCiAgICAgICdoZWFydCc6ICdmMDA0JywKICAgICAgJ3N0YXInOiAnZjAwNScsCiAgICAgICdzdGFyLW8nOiAnZjAwNicsCiAgICAgICd1c2VyJzogJ2YwMDcnLAogICAgICAnZmlsbSc6ICdmMDA4JywKICAgICAgJ3RoLWxhcmdlJzogJ2YwMDknLAogICAgICAndGgnOiAnZjAwYScsCiAgICAgICd0aC1saXN0JzogJ2YwMGInLAogICAgICAnY2hlY2snOiAnZjAwYycsCiAgICAgICdyZW1vdmUsY2xvc2UsdGltZXMnOiAnZjAwZCcsCiAgICAgICdzZWFyY2gtcGx1cyc6ICdmMDBlJywKICAgICAgJ3NlYXJjaC1taW51cyc6ICdmMDEwJywKICAgICAgJ3Bvd2VyLW9mZic6ICdmMDExJywKICAgICAgJ3NpZ25hbCc6ICdmMDEyJywKICAgICAgJ2dlYXIsY29nJzogJ2YwMTMnLAogICAgICAndHJhc2gtbyc6ICdmMDE0JywKICAgICAgJ2hvbWUnOiAnZjAxNScsCiAgICAgICdmaWxlLW8nOiAnZjAxNicsCiAgICAgICdjbG9jay1vJzogJ2YwMTcnLAogICAgICAncm9hZCc6ICdmMDE4JywKICAgICAgJ2Rvd25sb2FkJzogJ2YwMTknLAogICAgICAnYXJyb3ctY2lyY2xlLW8tZG93bic6ICdmMDFhJywKICAgICAgJ2Fycm93LWNpcmNsZS1vLXVwJzogJ2YwMWInLAogICAgICAnaW5ib3gnOiAnZjAxYycsCiAgICAgICdwbGF5LWNpcmNsZS1vJzogJ2YwMWQnLAogICAgICAncm90YXRlLXJpZ2h0LHJlcGVhdCc6ICdmMDFlJywKICAgICAgJ3JlZnJlc2gnOiAnZjAyMScsCiAgICAgICdsaXN0LWFsdCc6ICdmMDIyJywKICAgICAgJ2xvY2snOiAnZjAyMycsCiAgICAgICdmbGFnJzogJ2YwMjQnLAogICAgICAnaGVhZHBob25lcyc6ICdmMDI1JywKICAgICAgJ3ZvbHVtZS1vZmYnOiAnZjAyNicsCiAgICAgICd2b2x1bWUtZG93bic6ICdmMDI3JywKICAgICAgJ3ZvbHVtZS11cCc6ICdmMDI4JywKICAgICAgJ3FyY29kZSc6ICdmMDI5JywKICAgICAgJ2JhcmNvZGUnOiAnZjAyYScsCiAgICAgICd0YWcnOiAnZjAyYicsCiAgICAgICd0YWdzJzogJ2YwMmMnLAogICAgICAnYm9vayc6ICdmMDJkJywKICAgICAgJ2Jvb2ttYXJrJzogJ2YwMmUnLAogICAgICAncHJpbnQnOiAnZjAyZicsCiAgICAgICdjYW1lcmEnOiAnZjAzMCcsCiAgICAgICdmb250JzogJ2YwMzEnLAogICAgICAnYm9sZCc6ICdmMDMyJywKICAgICAgJ2l0YWxpYyc6ICdmMDMzJywKICAgICAgJ3RleHQtaGVpZ2h0JzogJ2YwMzQnLAogICAgICAndGV4dC13aWR0aCc6ICdmMDM1JywKICAgICAgJ2FsaWduLWxlZnQnOiAnZjAzNicsCiAgICAgICdhbGlnbi1jZW50ZXInOiAnZjAzNycsCiAgICAgICdhbGlnbi1yaWdodCc6ICdmMDM4JywKICAgICAgJ2FsaWduLWp1c3RpZnknOiAnZjAzOScsCiAgICAgICdsaXN0JzogJ2YwM2EnLAogICAgICAnZGVkZW50LG91dGRlbnQnOiAnZjAzYicsCiAgICAgICdpbmRlbnQnOiAnZjAzYycsCiAgICAgICd2aWRlby1jYW1lcmEnOiAnZjAzZCcsCiAgICAgICdwaG90byxpbWFnZSxwaWN0dXJlLW8nOiAnZjAzZScsCiAgICAgICdwZW5jaWwnOiAnZjA0MCcsCiAgICAgICdtYXAtbWFya2VyJzogJ2YwNDEnLAogICAgICAnYWRqdXN0JzogJ2YwNDInLAogICAgICAndGludCc6ICdmMDQzJywKICAgICAgJ2VkaXQscGVuY2lsLXNxdWFyZS1vJzogJ2YwNDQnLAogICAgICAnc2hhcmUtc3F1YXJlLW8nOiAnZjA0NScsCiAgICAgICdjaGVjay1zcXVhcmUtbyc6ICdmMDQ2JywKICAgICAgJ2Fycm93cyc6ICdmMDQ3JywKICAgICAgJ3N0ZXAtYmFja3dhcmQnOiAnZjA0OCcsCiAgICAgICdmYXN0LWJhY2t3YXJkJzogJ2YwNDknLAogICAgICAnYmFja3dhcmQnOiAnZjA0YScsCiAgICAgICdwbGF5JzogJ2YwNGInLAogICAgICAncGF1c2UnOiAnZjA0YycsCiAgICAgICdzdG9wJzogJ2YwNGQnLAogICAgICAnZm9yd2FyZCc6ICdmMDRlJywKICAgICAgJ2Zhc3QtZm9yd2FyZCc6ICdmMDUwJywKICAgICAgJ3N0ZXAtZm9yd2FyZCc6ICdmMDUxJywKICAgICAgJ2VqZWN0JzogJ2YwNTInLAogICAgICAnY2hldnJvbi1sZWZ0JzogJ2YwNTMnLAogICAgICAnY2hldnJvbi1yaWdodCc6ICdmMDU0JywKICAgICAgJ3BsdXMtY2lyY2xlJzogJ2YwNTUnLAogICAgICAnbWludXMtY2lyY2xlJzogJ2YwNTYnLAogICAgICAndGltZXMtY2lyY2xlJzogJ2YwNTcnLAogICAgICAnY2hlY2stY2lyY2xlJzogJ2YwNTgnLAogICAgICAncXVlc3Rpb24tY2lyY2xlJzogJ2YwNTknLAogICAgICAnaW5mby1jaXJjbGUnOiAnZjA1YScsCiAgICAgICdjcm9zc2hhaXJzJzogJ2YwNWInLAogICAgICAndGltZXMtY2lyY2xlLW8nOiAnZjA1YycsCiAgICAgICdjaGVjay1jaXJjbGUtbyc6ICdmMDVkJywKICAgICAgJ2Jhbic6ICdmMDVlJywKICAgICAgJ2Fycm93LWxlZnQnOiAnZjA2MCcsCiAgICAgICdhcnJvdy1yaWdodCc6ICdmMDYxJywKICAgICAgJ2Fycm93LXVwJzogJ2YwNjInLAogICAgICAnYXJyb3ctZG93bic6ICdmMDYzJywKICAgICAgJ21haWwtZm9yd2FyZCxzaGFyZSc6ICdmMDY0JywKICAgICAgJ2V4cGFuZCc6ICdmMDY1JywKICAgICAgJ2NvbXByZXNzJzogJ2YwNjYnLAogICAgICAncGx1cyc6ICdmMDY3JywKICAgICAgJ21pbnVzJzogJ2YwNjgnLAogICAgICAnYXN0ZXJpc2snOiAnZjA2OScsCiAgICAgICdleGNsYW1hdGlvbi1jaXJjbGUnOiAnZjA2YScsCiAgICAgICdnaWZ0JzogJ2YwNmInLAogICAgICAnbGVhZic6ICdmMDZjJywKICAgICAgJ2ZpcmUnOiAnZjA2ZCcsCiAgICAgICdleWUnOiAnZjA2ZScsCiAgICAgICdleWUtc2xhc2gnOiAnZjA3MCcsCiAgICAgICd3YXJuaW5nLGV4Y2xhbWF0aW9uLXRyaWFuZ2xlJzogJ2YwNzEnLAogICAgICAncGxhbmUnOiAnZjA3MicsCiAgICAgICdjYWxlbmRhcic6ICdmMDczJywKICAgICAgJ3JhbmRvbSc6ICdmMDc0JywKICAgICAgJ2NvbW1lbnQnOiAnZjA3NScsCiAgICAgICdtYWduZXQnOiAnZjA3NicsCiAgICAgICdjaGV2cm9uLXVwJzogJ2YwNzcnLAogICAgICAnY2hldnJvbi1kb3duJzogJ2YwNzgnLAogICAgICAncmV0d2VldCc6ICdmMDc5JywKICAgICAgJ3Nob3BwaW5nLWNhcnQnOiAnZjA3YScsCiAgICAgICdmb2xkZXInOiAnZjA3YicsCiAgICAgICdmb2xkZXItb3Blbic6ICdmMDdjJywKICAgICAgJ2Fycm93cy12JzogJ2YwN2QnLAogICAgICAnYXJyb3dzLWgnOiAnZjA3ZScsCiAgICAgICdiYXItY2hhcnQtbyxiYXItY2hhcnQnOiAnZjA4MCcsCiAgICAgICd0d2l0dGVyLXNxdWFyZSc6ICdmMDgxJywKICAgICAgJ2ZhY2Vib29rLXNxdWFyZSc6ICdmMDgyJywKICAgICAgJ2NhbWVyYS1yZXRybyc6ICdmMDgzJywKICAgICAgJ2tleSc6ICdmMDg0JywKICAgICAgJ2dlYXJzLGNvZ3MnOiAnZjA4NScsCiAgICAgICdjb21tZW50cyc6ICdmMDg2JywKICAgICAgJ3RodW1icy1vLXVwJzogJ2YwODcnLAogICAgICAndGh1bWJzLW8tZG93bic6ICdmMDg4JywKICAgICAgJ3N0YXItaGFsZic6ICdmMDg5JywKICAgICAgJ2hlYXJ0LW8nOiAnZjA4YScsCiAgICAgICdzaWduLW91dCc6ICdmMDhiJywKICAgICAgJ2xpbmtlZGluLXNxdWFyZSc6ICdmMDhjJywKICAgICAgJ3RodW1iLXRhY2snOiAnZjA4ZCcsCiAgICAgICdleHRlcm5hbC1saW5rJzogJ2YwOGUnLAogICAgICAnc2lnbi1pbic6ICdmMDkwJywKICAgICAgJ3Ryb3BoeSc6ICdmMDkxJywKICAgICAgJ2dpdGh1Yi1zcXVhcmUnOiAnZjA5MicsCiAgICAgICd1cGxvYWQnOiAnZjA5MycsCiAgICAgICdsZW1vbi1vJzogJ2YwOTQnLAogICAgICAncGhvbmUnOiAnZjA5NScsCiAgICAgICdzcXVhcmUtbyc6ICdmMDk2JywKICAgICAgJ2Jvb2ttYXJrLW8nOiAnZjA5NycsCiAgICAgICdwaG9uZS1zcXVhcmUnOiAnZjA5OCcsCiAgICAgICd0d2l0dGVyJzogJ2YwOTknLAogICAgICAnZmFjZWJvb2stZixmYWNlYm9vayc6ICdmMDlhJywKICAgICAgJ2dpdGh1Yic6ICdmMDliJywKICAgICAgJ3VubG9jayc6ICdmMDljJywKICAgICAgJ2NyZWRpdC1jYXJkJzogJ2YwOWQnLAogICAgICAnZmVlZCxyc3MnOiAnZjA5ZScsCiAgICAgICdoZGQtbyc6ICdmMGEwJywKICAgICAgJ2J1bGxob3JuJzogJ2YwYTEnLAogICAgICAnYmVsbCc6ICdmMGYzJywKICAgICAgJ2NlcnRpZmljYXRlJzogJ2YwYTMnLAogICAgICAnaGFuZC1vLXJpZ2h0JzogJ2YwYTQnLAogICAgICAnaGFuZC1vLWxlZnQnOiAnZjBhNScsCiAgICAgICdoYW5kLW8tdXAnOiAnZjBhNicsCiAgICAgICdoYW5kLW8tZG93bic6ICdmMGE3JywKICAgICAgJ2Fycm93LWNpcmNsZS1sZWZ0JzogJ2YwYTgnLAogICAgICAnYXJyb3ctY2lyY2xlLXJpZ2h0JzogJ2YwYTknLAogICAgICAnYXJyb3ctY2lyY2xlLXVwJzogJ2YwYWEnLAogICAgICAnYXJyb3ctY2lyY2xlLWRvd24nOiAnZjBhYicsCiAgICAgICdnbG9iZSc6ICdmMGFjJywKICAgICAgJ3dyZW5jaCc6ICdmMGFkJywKICAgICAgJ3Rhc2tzJzogJ2YwYWUnLAogICAgICAnZmlsdGVyJzogJ2YwYjAnLAogICAgICAnYnJpZWZjYXNlJzogJ2YwYjEnLAogICAgICAnYXJyb3dzLWFsdCc6ICdmMGIyJywKICAgICAgJ2dyb3VwLHVzZXJzJzogJ2YwYzAnLAogICAgICAnY2hhaW4sbGluayc6ICdmMGMxJywKICAgICAgJ2Nsb3VkJzogJ2YwYzInLAogICAgICAnZmxhc2snOiAnZjBjMycsCiAgICAgICdjdXQsc2Npc3NvcnMnOiAnZjBjNCcsCiAgICAgICdjb3B5LGZpbGVzLW8nOiAnZjBjNScsCiAgICAgICdwYXBlcmNsaXAnOiAnZjBjNicsCiAgICAgICdzYXZlLGZsb3BweS1vJzogJ2YwYzcnLAogICAgICAnc3F1YXJlJzogJ2YwYzgnLAogICAgICAnbmF2aWNvbixyZW9yZGVyLGJhcnMnOiAnZjBjOScsCiAgICAgICdsaXN0LXVsJzogJ2YwY2EnLAogICAgICAnbGlzdC1vbCc6ICdmMGNiJywKICAgICAgJ3N0cmlrZXRocm91Z2gnOiAnZjBjYycsCiAgICAgICd1bmRlcmxpbmUnOiAnZjBjZCcsCiAgICAgICd0YWJsZSc6ICdmMGNlJywKICAgICAgJ21hZ2ljJzogJ2YwZDAnLAogICAgICAndHJ1Y2snOiAnZjBkMScsCiAgICAgICdwaW50ZXJlc3QnOiAnZjBkMicsCiAgICAgICdwaW50ZXJlc3Qtc3F1YXJlJzogJ2YwZDMnLAogICAgICAnZ29vZ2xlLXBsdXMtc3F1YXJlJzogJ2YwZDQnLAogICAgICAnZ29vZ2xlLXBsdXMnOiAnZjBkNScsCiAgICAgICdtb25leSc6ICdmMGQ2JywKICAgICAgJ2NhcmV0LWRvd24nOiAnZjBkNycsCiAgICAgICdjYXJldC11cCc6ICdmMGQ4JywKICAgICAgJ2NhcmV0LWxlZnQnOiAnZjBkOScsCiAgICAgICdjYXJldC1yaWdodCc6ICdmMGRhJywKICAgICAgJ2NvbHVtbnMnOiAnZjBkYicsCiAgICAgICd1bnNvcnRlZCxzb3J0JzogJ2YwZGMnLAogICAgICAnc29ydC1kb3duLHNvcnQtZGVzYyc6ICdmMGRkJywKICAgICAgJ3NvcnQtdXAsc29ydC1hc2MnOiAnZjBkZScsCiAgICAgICdlbnZlbG9wZSc6ICdmMGUwJywKICAgICAgJ2xpbmtlZGluJzogJ2YwZTEnLAogICAgICAncm90YXRlLWxlZnQsdW5kbyc6ICdmMGUyJywKICAgICAgJ2xlZ2FsLGdhdmVsJzogJ2YwZTMnLAogICAgICAnZGFzaGJvYXJkLHRhY2hvbWV0ZXInOiAnZjBlNCcsCiAgICAgICdjb21tZW50LW8nOiAnZjBlNScsCiAgICAgICdjb21tZW50cy1vJzogJ2YwZTYnLAogICAgICAnZmxhc2gsYm9sdCc6ICdmMGU3JywKICAgICAgJ3NpdGVtYXAnOiAnZjBlOCcsCiAgICAgICd1bWJyZWxsYSc6ICdmMGU5JywKICAgICAgJ3Bhc3RlLGNsaXBib2FyZCc6ICdmMGVhJywKICAgICAgJ2xpZ2h0YnVsYi1vJzogJ2YwZWInLAogICAgICAnZXhjaGFuZ2UnOiAnZjBlYycsCiAgICAgICdjbG91ZC1kb3dubG9hZCc6ICdmMGVkJywKICAgICAgJ2Nsb3VkLXVwbG9hZCc6ICdmMGVlJywKICAgICAgJ3VzZXItbWQnOiAnZjBmMCcsCiAgICAgICdzdGV0aG9zY29wZSc6ICdmMGYxJywKICAgICAgJ3N1aXRjYXNlJzogJ2YwZjInLAogICAgICAnYmVsbC1vJzogJ2YwYTInLAogICAgICAnY29mZmVlJzogJ2YwZjQnLAogICAgICAnY3V0bGVyeSc6ICdmMGY1JywKICAgICAgJ2ZpbGUtdGV4dC1vJzogJ2YwZjYnLAogICAgICAnYnVpbGRpbmctbyc6ICdmMGY3JywKICAgICAgJ2hvc3BpdGFsLW8nOiAnZjBmOCcsCiAgICAgICdhbWJ1bGFuY2UnOiAnZjBmOScsCiAgICAgICdtZWRraXQnOiAnZjBmYScsCiAgICAgICdmaWdodGVyLWpldCc6ICdmMGZiJywKICAgICAgJ2JlZXInOiAnZjBmYycsCiAgICAgICdoLXNxdWFyZSc6ICdmMGZkJywKICAgICAgJ3BsdXMtc3F1YXJlJzogJ2YwZmUnLAogICAgICAnYW5nbGUtZG91YmxlLWxlZnQnOiAnZjEwMCcsCiAgICAgICdhbmdsZS1kb3VibGUtcmlnaHQnOiAnZjEwMScsCiAgICAgICdhbmdsZS1kb3VibGUtdXAnOiAnZjEwMicsCiAgICAgICdhbmdsZS1kb3VibGUtZG93bic6ICdmMTAzJywKICAgICAgJ2FuZ2xlLWxlZnQnOiAnZjEwNCcsCiAgICAgICdhbmdsZS1yaWdodCc6ICdmMTA1JywKICAgICAgJ2FuZ2xlLXVwJzogJ2YxMDYnLAogICAgICAnYW5nbGUtZG93bic6ICdmMTA3JywKICAgICAgJ2Rlc2t0b3AnOiAnZjEwOCcsCiAgICAgICdsYXB0b3AnOiAnZjEwOScsCiAgICAgICd0YWJsZXQnOiAnZjEwYScsCiAgICAgICdtb2JpbGUtcGhvbmUsbW9iaWxlJzogJ2YxMGInLAogICAgICAnY2lyY2xlLW8nOiAnZjEwYycsCiAgICAgICdxdW90ZS1sZWZ0JzogJ2YxMGQnLAogICAgICAncXVvdGUtcmlnaHQnOiAnZjEwZScsCiAgICAgICdzcGlubmVyJzogJ2YxMTAnLAogICAgICAnY2lyY2xlJzogJ2YxMTEnLAogICAgICAnbWFpbC1yZXBseSxyZXBseSc6ICdmMTEyJywKICAgICAgJ2dpdGh1Yi1hbHQnOiAnZjExMycsCiAgICAgICdmb2xkZXItbyc6ICdmMTE0JywKICAgICAgJ2ZvbGRlci1vcGVuLW8nOiAnZjExNScsCiAgICAgICdzbWlsZS1vJzogJ2YxMTgnLAogICAgICAnZnJvd24tbyc6ICdmMTE5JywKICAgICAgJ21laC1vJzogJ2YxMWEnLAogICAgICAnZ2FtZXBhZCc6ICdmMTFiJywKICAgICAgJ2tleWJvYXJkLW8nOiAnZjExYycsCiAgICAgICdmbGFnLW8nOiAnZjExZCcsCiAgICAgICdmbGFnLWNoZWNrZXJlZCc6ICdmMTFlJywKICAgICAgJ3Rlcm1pbmFsJzogJ2YxMjAnLAogICAgICAnY29kZSc6ICdmMTIxJywKICAgICAgJ21haWwtcmVwbHktYWxsLHJlcGx5LWFsbCc6ICdmMTIyJywKICAgICAgJ3N0YXItaGFsZi1lbXB0eSxzdGFyLWhhbGYtZnVsbCxzdGFyLWhhbGYtbyc6ICdmMTIzJywKICAgICAgJ2xvY2F0aW9uLWFycm93JzogJ2YxMjQnLAogICAgICAnY3JvcCc6ICdmMTI1JywKICAgICAgJ2NvZGUtZm9yayc6ICdmMTI2JywKICAgICAgJ3VubGluayxjaGFpbi1icm9rZW4nOiAnZjEyNycsCiAgICAgICdxdWVzdGlvbic6ICdmMTI4JywKICAgICAgJ2luZm8nOiAnZjEyOScsCiAgICAgICdleGNsYW1hdGlvbic6ICdmMTJhJywKICAgICAgJ3N1cGVyc2NyaXB0JzogJ2YxMmInLAogICAgICAnc3Vic2NyaXB0JzogJ2YxMmMnLAogICAgICAnZXJhc2VyJzogJ2YxMmQnLAogICAgICAncHV6emxlLXBpZWNlJzogJ2YxMmUnLAogICAgICAnbWljcm9waG9uZSc6ICdmMTMwJywKICAgICAgJ21pY3JvcGhvbmUtc2xhc2gnOiAnZjEzMScsCiAgICAgICdzaGllbGQnOiAnZjEzMicsCiAgICAgICdjYWxlbmRhci1vJzogJ2YxMzMnLAogICAgICAnZmlyZS1leHRpbmd1aXNoZXInOiAnZjEzNCcsCiAgICAgICdyb2NrZXQnOiAnZjEzNScsCiAgICAgICdtYXhjZG4nOiAnZjEzNicsCiAgICAgICdjaGV2cm9uLWNpcmNsZS1sZWZ0JzogJ2YxMzcnLAogICAgICAnY2hldnJvbi1jaXJjbGUtcmlnaHQnOiAnZjEzOCcsCiAgICAgICdjaGV2cm9uLWNpcmNsZS11cCc6ICdmMTM5JywKICAgICAgJ2NoZXZyb24tY2lyY2xlLWRvd24nOiAnZjEzYScsCiAgICAgICdodG1sNSc6ICdmMTNiJywKICAgICAgJ2NzczMnOiAnZjEzYycsCiAgICAgICdhbmNob3InOiAnZjEzZCcsCiAgICAgICd1bmxvY2stYWx0JzogJ2YxM2UnLAogICAgICAnYnVsbHNleWUnOiAnZjE0MCcsCiAgICAgICdlbGxpcHNpcy1oJzogJ2YxNDEnLAogICAgICAnZWxsaXBzaXMtdic6ICdmMTQyJywKICAgICAgJ3Jzcy1zcXVhcmUnOiAnZjE0MycsCiAgICAgICdwbGF5LWNpcmNsZSc6ICdmMTQ0JywKICAgICAgJ3RpY2tldCc6ICdmMTQ1JywKICAgICAgJ21pbnVzLXNxdWFyZSc6ICdmMTQ2JywKICAgICAgJ21pbnVzLXNxdWFyZS1vJzogJ2YxNDcnLAogICAgICAnbGV2ZWwtdXAnOiAnZjE0OCcsCiAgICAgICdsZXZlbC1kb3duJzogJ2YxNDknLAogICAgICAnY2hlY2stc3F1YXJlJzogJ2YxNGEnLAogICAgICAncGVuY2lsLXNxdWFyZSc6ICdmMTRiJywKICAgICAgJ2V4dGVybmFsLWxpbmstc3F1YXJlJzogJ2YxNGMnLAogICAgICAnc2hhcmUtc3F1YXJlJzogJ2YxNGQnLAogICAgICAnY29tcGFzcyc6ICdmMTRlJywKICAgICAgJ3RvZ2dsZS1kb3duLGNhcmV0LXNxdWFyZS1vLWRvd24nOiAnZjE1MCcsCiAgICAgICd0b2dnbGUtdXAsY2FyZXQtc3F1YXJlLW8tdXAnOiAnZjE1MScsCiAgICAgICd0b2dnbGUtcmlnaHQsY2FyZXQtc3F1YXJlLW8tcmlnaHQnOiAnZjE1MicsCiAgICAgICdldXJvLGV1cic6ICdmMTUzJywKICAgICAgJ2dicCc6ICdmMTU0JywKICAgICAgJ2RvbGxhcix1c2QnOiAnZjE1NScsCiAgICAgICdydXBlZSxpbnInOiAnZjE1NicsCiAgICAgICdjbnkscm1iLHllbixqcHknOiAnZjE1NycsCiAgICAgICdydWJsZSxyb3VibGUscnViJzogJ2YxNTgnLAogICAgICAnd29uLGtydyc6ICdmMTU5JywKICAgICAgJ2JpdGNvaW4sYnRjJzogJ2YxNWEnLAogICAgICAnZmlsZSc6ICdmMTViJywKICAgICAgJ2ZpbGUtdGV4dCc6ICdmMTVjJywKICAgICAgJ3NvcnQtYWxwaGEtYXNjJzogJ2YxNWQnLAogICAgICAnc29ydC1hbHBoYS1kZXNjJzogJ2YxNWUnLAogICAgICAnc29ydC1hbW91bnQtYXNjJzogJ2YxNjAnLAogICAgICAnc29ydC1hbW91bnQtZGVzYyc6ICdmMTYxJywKICAgICAgJ3NvcnQtbnVtZXJpYy1hc2MnOiAnZjE2MicsCiAgICAgICdzb3J0LW51bWVyaWMtZGVzYyc6ICdmMTYzJywKICAgICAgJ3RodW1icy11cCc6ICdmMTY0JywKICAgICAgJ3RodW1icy1kb3duJzogJ2YxNjUnLAogICAgICAneW91dHViZS1zcXVhcmUnOiAnZjE2NicsCiAgICAgICd5b3V0dWJlJzogJ2YxNjcnLAogICAgICAneGluZyc6ICdmMTY4JywKICAgICAgJ3hpbmctc3F1YXJlJzogJ2YxNjknLAogICAgICAneW91dHViZS1wbGF5JzogJ2YxNmEnLAogICAgICAnZHJvcGJveCc6ICdmMTZiJywKICAgICAgJ3N0YWNrLW92ZXJmbG93JzogJ2YxNmMnLAogICAgICAnaW5zdGFncmFtJzogJ2YxNmQnLAogICAgICAnZmxpY2tyJzogJ2YxNmUnLAogICAgICAnYWRuJzogJ2YxNzAnLAogICAgICAnYml0YnVja2V0JzogJ2YxNzEnLAogICAgICAnYml0YnVja2V0LXNxdWFyZSc6ICdmMTcyJywKICAgICAgJ3R1bWJscic6ICdmMTczJywKICAgICAgJ3R1bWJsci1zcXVhcmUnOiAnZjE3NCcsCiAgICAgICdsb25nLWFycm93LWRvd24nOiAnZjE3NScsCiAgICAgICdsb25nLWFycm93LXVwJzogJ2YxNzYnLAogICAgICAnbG9uZy1hcnJvdy1sZWZ0JzogJ2YxNzcnLAogICAgICAnbG9uZy1hcnJvdy1yaWdodCc6ICdmMTc4JywKICAgICAgJ2FwcGxlJzogJ2YxNzknLAogICAgICAnd2luZG93cyc6ICdmMTdhJywKICAgICAgJ2FuZHJvaWQnOiAnZjE3YicsCiAgICAgICdsaW51eCc6ICdmMTdjJywKICAgICAgJ2RyaWJiYmxlJzogJ2YxN2QnLAogICAgICAnc2t5cGUnOiAnZjE3ZScsCiAgICAgICdmb3Vyc3F1YXJlJzogJ2YxODAnLAogICAgICAndHJlbGxvJzogJ2YxODEnLAogICAgICAnZmVtYWxlJzogJ2YxODInLAogICAgICAnbWFsZSc6ICdmMTgzJywKICAgICAgJ2dpdHRpcCxncmF0aXBheSc6ICdmMTg0JywKICAgICAgJ3N1bi1vJzogJ2YxODUnLAogICAgICAnbW9vbi1vJzogJ2YxODYnLAogICAgICAnYXJjaGl2ZSc6ICdmMTg3JywKICAgICAgJ2J1Zyc6ICdmMTg4JywKICAgICAgJ3ZrJzogJ2YxODknLAogICAgICAnd2VpYm8nOiAnZjE4YScsCiAgICAgICdyZW5yZW4nOiAnZjE4YicsCiAgICAgICdwYWdlbGluZXMnOiAnZjE4YycsCiAgICAgICdzdGFjay1leGNoYW5nZSc6ICdmMThkJywKICAgICAgJ2Fycm93LWNpcmNsZS1vLXJpZ2h0JzogJ2YxOGUnLAogICAgICAnYXJyb3ctY2lyY2xlLW8tbGVmdCc6ICdmMTkwJywKICAgICAgJ3RvZ2dsZS1sZWZ0LGNhcmV0LXNxdWFyZS1vLWxlZnQnOiAnZjE5MScsCiAgICAgICdkb3QtY2lyY2xlLW8nOiAnZjE5MicsCiAgICAgICd3aGVlbGNoYWlyJzogJ2YxOTMnLAogICAgICAndmltZW8tc3F1YXJlJzogJ2YxOTQnLAogICAgICAndHVya2lzaC1saXJhLHRyeSc6ICdmMTk1JywKICAgICAgJ3BsdXMtc3F1YXJlLW8nOiAnZjE5NicsCiAgICAgICdzcGFjZS1zaHV0dGxlJzogJ2YxOTcnLAogICAgICAnc2xhY2snOiAnZjE5OCcsCiAgICAgICdlbnZlbG9wZS1zcXVhcmUnOiAnZjE5OScsCiAgICAgICd3b3JkcHJlc3MnOiAnZjE5YScsCiAgICAgICdvcGVuaWQnOiAnZjE5YicsCiAgICAgICdpbnN0aXR1dGlvbixiYW5rLHVuaXZlcnNpdHknOiAnZjE5YycsCiAgICAgICdtb3J0YXItYm9hcmQsZ3JhZHVhdGlvbi1jYXAnOiAnZjE5ZCcsCiAgICAgICd5YWhvbyc6ICdmMTllJywKICAgICAgJ2dvb2dsZSc6ICdmMWEwJywKICAgICAgJ3JlZGRpdCc6ICdmMWExJywKICAgICAgJ3JlZGRpdC1zcXVhcmUnOiAnZjFhMicsCiAgICAgICdzdHVtYmxldXBvbi1jaXJjbGUnOiAnZjFhMycsCiAgICAgICdzdHVtYmxldXBvbic6ICdmMWE0JywKICAgICAgJ2RlbGljaW91cyc6ICdmMWE1JywKICAgICAgJ2RpZ2cnOiAnZjFhNicsCiAgICAgICdwaWVkLXBpcGVyLXBwJzogJ2YxYTcnLAogICAgICAncGllZC1waXBlci1hbHQnOiAnZjFhOCcsCiAgICAgICdkcnVwYWwnOiAnZjFhOScsCiAgICAgICdqb29tbGEnOiAnZjFhYScsCiAgICAgICdsYW5ndWFnZSc6ICdmMWFiJywKICAgICAgJ2ZheCc6ICdmMWFjJywKICAgICAgJ2J1aWxkaW5nJzogJ2YxYWQnLAogICAgICAnY2hpbGQnOiAnZjFhZScsCiAgICAgICdwYXcnOiAnZjFiMCcsCiAgICAgICdzcG9vbic6ICdmMWIxJywKICAgICAgJ2N1YmUnOiAnZjFiMicsCiAgICAgICdjdWJlcyc6ICdmMWIzJywKICAgICAgJ2JlaGFuY2UnOiAnZjFiNCcsCiAgICAgICdiZWhhbmNlLXNxdWFyZSc6ICdmMWI1JywKICAgICAgJ3N0ZWFtJzogJ2YxYjYnLAogICAgICAnc3RlYW0tc3F1YXJlJzogJ2YxYjcnLAogICAgICAncmVjeWNsZSc6ICdmMWI4JywKICAgICAgJ2F1dG9tb2JpbGUsY2FyJzogJ2YxYjknLAogICAgICAnY2FiLHRheGknOiAnZjFiYScsCiAgICAgICd0cmVlJzogJ2YxYmInLAogICAgICAnc3BvdGlmeSc6ICdmMWJjJywKICAgICAgJ2RldmlhbnRhcnQnOiAnZjFiZCcsCiAgICAgICdzb3VuZGNsb3VkJzogJ2YxYmUnLAogICAgICAnZGF0YWJhc2UnOiAnZjFjMCcsCiAgICAgICdmaWxlLXBkZi1vJzogJ2YxYzEnLAogICAgICAnZmlsZS13b3JkLW8nOiAnZjFjMicsCiAgICAgICdmaWxlLWV4Y2VsLW8nOiAnZjFjMycsCiAgICAgICdmaWxlLXBvd2VycG9pbnQtbyc6ICdmMWM0JywKICAgICAgJ2ZpbGUtcGhvdG8tbyxmaWxlLXBpY3R1cmUtbyxmaWxlLWltYWdlLW8nOiAnZjFjNScsCiAgICAgICdmaWxlLXppcC1vLGZpbGUtYXJjaGl2ZS1vJzogJ2YxYzYnLAogICAgICAnZmlsZS1zb3VuZC1vLGZpbGUtYXVkaW8tbyc6ICdmMWM3JywKICAgICAgJ2ZpbGUtbW92aWUtbyxmaWxlLXZpZGVvLW8nOiAnZjFjOCcsCiAgICAgICdmaWxlLWNvZGUtbyc6ICdmMWM5JywKICAgICAgJ3ZpbmUnOiAnZjFjYScsCiAgICAgICdjb2RlcGVuJzogJ2YxY2InLAogICAgICAnanNmaWRkbGUnOiAnZjFjYycsCiAgICAgICdsaWZlLWJvdXksbGlmZS1idW95LGxpZmUtc2F2ZXIsc3VwcG9ydCxsaWZlLXJpbmcnOiAnZjFjZCcsCiAgICAgICdjaXJjbGUtby1ub3RjaCc6ICdmMWNlJywKICAgICAgJ3JhLHJlc2lzdGFuY2UscmViZWwnOiAnZjFkMCcsCiAgICAgICdnZSxlbXBpcmUnOiAnZjFkMScsCiAgICAgICdnaXQtc3F1YXJlJzogJ2YxZDInLAogICAgICAnZ2l0JzogJ2YxZDMnLAogICAgICAneS1jb21iaW5hdG9yLXNxdWFyZSx5Yy1zcXVhcmUsaGFja2VyLW5ld3MnOiAnZjFkNCcsCiAgICAgICd0ZW5jZW50LXdlaWJvJzogJ2YxZDUnLAogICAgICAncXEnOiAnZjFkNicsCiAgICAgICd3ZWNoYXQsd2VpeGluJzogJ2YxZDcnLAogICAgICAnc2VuZCxwYXBlci1wbGFuZSc6ICdmMWQ4JywKICAgICAgJ3NlbmQtbyxwYXBlci1wbGFuZS1vJzogJ2YxZDknLAogICAgICAnaGlzdG9yeSc6ICdmMWRhJywKICAgICAgJ2NpcmNsZS10aGluJzogJ2YxZGInLAogICAgICAnaGVhZGVyJzogJ2YxZGMnLAogICAgICAncGFyYWdyYXBoJzogJ2YxZGQnLAogICAgICAnc2xpZGVycyc6ICdmMWRlJywKICAgICAgJ3NoYXJlLWFsdCc6ICdmMWUwJywKICAgICAgJ3NoYXJlLWFsdC1zcXVhcmUnOiAnZjFlMScsCiAgICAgICdib21iJzogJ2YxZTInLAogICAgICAnc29jY2VyLWJhbGwtbyxmdXRib2wtbyc6ICdmMWUzJywKICAgICAgJ3R0eSc6ICdmMWU0JywKICAgICAgJ2Jpbm9jdWxhcnMnOiAnZjFlNScsCiAgICAgICdwbHVnJzogJ2YxZTYnLAogICAgICAnc2xpZGVzaGFyZSc6ICdmMWU3JywKICAgICAgJ3R3aXRjaCc6ICdmMWU4JywKICAgICAgJ3llbHAnOiAnZjFlOScsCiAgICAgICduZXdzcGFwZXItbyc6ICdmMWVhJywKICAgICAgJ3dpZmknOiAnZjFlYicsCiAgICAgICdjYWxjdWxhdG9yJzogJ2YxZWMnLAogICAgICAncGF5cGFsJzogJ2YxZWQnLAogICAgICAnZ29vZ2xlLXdhbGxldCc6ICdmMWVlJywKICAgICAgJ2NjLXZpc2EnOiAnZjFmMCcsCiAgICAgICdjYy1tYXN0ZXJjYXJkJzogJ2YxZjEnLAogICAgICAnY2MtZGlzY292ZXInOiAnZjFmMicsCiAgICAgICdjYy1hbWV4JzogJ2YxZjMnLAogICAgICAnY2MtcGF5cGFsJzogJ2YxZjQnLAogICAgICAnY2Mtc3RyaXBlJzogJ2YxZjUnLAogICAgICAnYmVsbC1zbGFzaCc6ICdmMWY2JywKICAgICAgJ2JlbGwtc2xhc2gtbyc6ICdmMWY3JywKICAgICAgJ3RyYXNoJzogJ2YxZjgnLAogICAgICAnY29weXJpZ2h0JzogJ2YxZjknLAogICAgICAnYXQnOiAnZjFmYScsCiAgICAgICdleWVkcm9wcGVyJzogJ2YxZmInLAogICAgICAncGFpbnQtYnJ1c2gnOiAnZjFmYycsCiAgICAgICdiaXJ0aGRheS1jYWtlJzogJ2YxZmQnLAogICAgICAnYXJlYS1jaGFydCc6ICdmMWZlJywKICAgICAgJ3BpZS1jaGFydCc6ICdmMjAwJywKICAgICAgJ2xpbmUtY2hhcnQnOiAnZjIwMScsCiAgICAgICdsYXN0Zm0nOiAnZjIwMicsCiAgICAgICdsYXN0Zm0tc3F1YXJlJzogJ2YyMDMnLAogICAgICAndG9nZ2xlLW9mZic6ICdmMjA0JywKICAgICAgJ3RvZ2dsZS1vbic6ICdmMjA1JywKICAgICAgJ2JpY3ljbGUnOiAnZjIwNicsCiAgICAgICdidXMnOiAnZjIwNycsCiAgICAgICdpb3hob3N0JzogJ2YyMDgnLAogICAgICAnYW5nZWxsaXN0JzogJ2YyMDknLAogICAgICAnY2MnOiAnZjIwYScsCiAgICAgICdzaGVrZWwsc2hlcWVsLGlscyc6ICdmMjBiJywKICAgICAgJ21lYW5wYXRoJzogJ2YyMGMnLAogICAgICAnYnV5c2VsbGFkcyc6ICdmMjBkJywKICAgICAgJ2Nvbm5lY3RkZXZlbG9wJzogJ2YyMGUnLAogICAgICAnZGFzaGN1YmUnOiAnZjIxMCcsCiAgICAgICdmb3J1bWJlZSc6ICdmMjExJywKICAgICAgJ2xlYW5wdWInOiAnZjIxMicsCiAgICAgICdzZWxsc3knOiAnZjIxMycsCiAgICAgICdzaGlydHNpbmJ1bGsnOiAnZjIxNCcsCiAgICAgICdzaW1wbHlidWlsdCc6ICdmMjE1JywKICAgICAgJ3NreWF0bGFzJzogJ2YyMTYnLAogICAgICAnY2FydC1wbHVzJzogJ2YyMTcnLAogICAgICAnY2FydC1hcnJvdy1kb3duJzogJ2YyMTgnLAogICAgICAnZGlhbW9uZCc6ICdmMjE5JywKICAgICAgJ3NoaXAnOiAnZjIxYScsCiAgICAgICd1c2VyLXNlY3JldCc6ICdmMjFiJywKICAgICAgJ21vdG9yY3ljbGUnOiAnZjIxYycsCiAgICAgICdzdHJlZXQtdmlldyc6ICdmMjFkJywKICAgICAgJ2hlYXJ0YmVhdCc6ICdmMjFlJywKICAgICAgJ3ZlbnVzJzogJ2YyMjEnLAogICAgICAnbWFycyc6ICdmMjIyJywKICAgICAgJ21lcmN1cnknOiAnZjIyMycsCiAgICAgICdpbnRlcnNleCx0cmFuc2dlbmRlcic6ICdmMjI0JywKICAgICAgJ3RyYW5zZ2VuZGVyLWFsdCc6ICdmMjI1JywKICAgICAgJ3ZlbnVzLWRvdWJsZSc6ICdmMjI2JywKICAgICAgJ21hcnMtZG91YmxlJzogJ2YyMjcnLAogICAgICAndmVudXMtbWFycyc6ICdmMjI4JywKICAgICAgJ21hcnMtc3Ryb2tlJzogJ2YyMjknLAogICAgICAnbWFycy1zdHJva2Utdic6ICdmMjJhJywKICAgICAgJ21hcnMtc3Ryb2tlLWgnOiAnZjIyYicsCiAgICAgICduZXV0ZXInOiAnZjIyYycsCiAgICAgICdnZW5kZXJsZXNzJzogJ2YyMmQnLAogICAgICAnZmFjZWJvb2stb2ZmaWNpYWwnOiAnZjIzMCcsCiAgICAgICdwaW50ZXJlc3QtcCc6ICdmMjMxJywKICAgICAgJ3doYXRzYXBwJzogJ2YyMzInLAogICAgICAnc2VydmVyJzogJ2YyMzMnLAogICAgICAndXNlci1wbHVzJzogJ2YyMzQnLAogICAgICAndXNlci10aW1lcyc6ICdmMjM1JywKICAgICAgJ2hvdGVsLGJlZCc6ICdmMjM2JywKICAgICAgJ3ZpYWNvaW4nOiAnZjIzNycsCiAgICAgICd0cmFpbic6ICdmMjM4JywKICAgICAgJ3N1YndheSc6ICdmMjM5JywKICAgICAgJ21lZGl1bSc6ICdmMjNhJywKICAgICAgJ3ljLHktY29tYmluYXRvcic6ICdmMjNiJywKICAgICAgJ29wdGluLW1vbnN0ZXInOiAnZjIzYycsCiAgICAgICdvcGVuY2FydCc6ICdmMjNkJywKICAgICAgJ2V4cGVkaXRlZHNzbCc6ICdmMjNlJywKICAgICAgJ2JhdHRlcnktNCxiYXR0ZXJ5LWZ1bGwnOiAnZjI0MCcsCiAgICAgICdiYXR0ZXJ5LTMsYmF0dGVyeS10aHJlZS1xdWFydGVycyc6ICdmMjQxJywKICAgICAgJ2JhdHRlcnktMixiYXR0ZXJ5LWhhbGYnOiAnZjI0MicsCiAgICAgICdiYXR0ZXJ5LTEsYmF0dGVyeS1xdWFydGVyJzogJ2YyNDMnLAogICAgICAnYmF0dGVyeS0wLGJhdHRlcnktZW1wdHknOiAnZjI0NCcsCiAgICAgICdtb3VzZS1wb2ludGVyJzogJ2YyNDUnLAogICAgICAnaS1jdXJzb3InOiAnZjI0NicsCiAgICAgICdvYmplY3QtZ3JvdXAnOiAnZjI0NycsCiAgICAgICdvYmplY3QtdW5ncm91cCc6ICdmMjQ4JywKICAgICAgJ3N0aWNreS1ub3RlJzogJ2YyNDknLAogICAgICAnc3RpY2t5LW5vdGUtbyc6ICdmMjRhJywKICAgICAgJ2NjLWpjYic6ICdmMjRiJywKICAgICAgJ2NjLWRpbmVycy1jbHViJzogJ2YyNGMnLAogICAgICAnY2xvbmUnOiAnZjI0ZCcsCiAgICAgICdiYWxhbmNlLXNjYWxlJzogJ2YyNGUnLAogICAgICAnaG91cmdsYXNzLW8nOiAnZjI1MCcsCiAgICAgICdob3VyZ2xhc3MtMSxob3VyZ2xhc3Mtc3RhcnQnOiAnZjI1MScsCiAgICAgICdob3VyZ2xhc3MtMixob3VyZ2xhc3MtaGFsZic6ICdmMjUyJywKICAgICAgJ2hvdXJnbGFzcy0zLGhvdXJnbGFzcy1lbmQnOiAnZjI1MycsCiAgICAgICdob3VyZ2xhc3MnOiAnZjI1NCcsCiAgICAgICdoYW5kLWdyYWItbyxoYW5kLXJvY2stbyc6ICdmMjU1JywKICAgICAgJ2hhbmQtc3RvcC1vLGhhbmQtcGFwZXItbyc6ICdmMjU2JywKICAgICAgJ2hhbmQtc2Npc3NvcnMtbyc6ICdmMjU3JywKICAgICAgJ2hhbmQtbGl6YXJkLW8nOiAnZjI1OCcsCiAgICAgICdoYW5kLXNwb2NrLW8nOiAnZjI1OScsCiAgICAgICdoYW5kLXBvaW50ZXItbyc6ICdmMjVhJywKICAgICAgJ2hhbmQtcGVhY2Utbyc6ICdmMjViJywKICAgICAgJ3RyYWRlbWFyayc6ICdmMjVjJywKICAgICAgJ3JlZ2lzdGVyZWQnOiAnZjI1ZCcsCiAgICAgICdjcmVhdGl2ZS1jb21tb25zJzogJ2YyNWUnLAogICAgICAnZ2cnOiAnZjI2MCcsCiAgICAgICdnZy1jaXJjbGUnOiAnZjI2MScsCiAgICAgICd0cmlwYWR2aXNvcic6ICdmMjYyJywKICAgICAgJ29kbm9rbGFzc25pa2knOiAnZjI2MycsCiAgICAgICdvZG5va2xhc3NuaWtpLXNxdWFyZSc6ICdmMjY0JywKICAgICAgJ2dldC1wb2NrZXQnOiAnZjI2NScsCiAgICAgICd3aWtpcGVkaWEtdyc6ICdmMjY2JywKICAgICAgJ3NhZmFyaSc6ICdmMjY3JywKICAgICAgJ2Nocm9tZSc6ICdmMjY4JywKICAgICAgJ2ZpcmVmb3gnOiAnZjI2OScsCiAgICAgICdvcGVyYSc6ICdmMjZhJywKICAgICAgJ2ludGVybmV0LWV4cGxvcmVyJzogJ2YyNmInLAogICAgICAndHYsdGVsZXZpc2lvbic6ICdmMjZjJywKICAgICAgJ2NvbnRhbyc6ICdmMjZkJywKICAgICAgJzUwMHB4JzogJ2YyNmUnLAogICAgICAnYW1hem9uJzogJ2YyNzAnLAogICAgICAnY2FsZW5kYXItcGx1cy1vJzogJ2YyNzEnLAogICAgICAnY2FsZW5kYXItbWludXMtbyc6ICdmMjcyJywKICAgICAgJ2NhbGVuZGFyLXRpbWVzLW8nOiAnZjI3MycsCiAgICAgICdjYWxlbmRhci1jaGVjay1vJzogJ2YyNzQnLAogICAgICAnaW5kdXN0cnknOiAnZjI3NScsCiAgICAgICdtYXAtcGluJzogJ2YyNzYnLAogICAgICAnbWFwLXNpZ25zJzogJ2YyNzcnLAogICAgICAnbWFwLW8nOiAnZjI3OCcsCiAgICAgICdtYXAnOiAnZjI3OScsCiAgICAgICdjb21tZW50aW5nJzogJ2YyN2EnLAogICAgICAnY29tbWVudGluZy1vJzogJ2YyN2InLAogICAgICAnaG91enonOiAnZjI3YycsCiAgICAgICd2aW1lbyc6ICdmMjdkJywKICAgICAgJ2JsYWNrLXRpZSc6ICdmMjdlJywKICAgICAgJ2ZvbnRpY29ucyc6ICdmMjgwJywKICAgICAgJ3JlZGRpdC1hbGllbic6ICdmMjgxJywKICAgICAgJ2VkZ2UnOiAnZjI4MicsCiAgICAgICdjcmVkaXQtY2FyZC1hbHQnOiAnZjI4MycsCiAgICAgICdjb2RpZXBpZSc6ICdmMjg0JywKICAgICAgJ21vZHgnOiAnZjI4NScsCiAgICAgICdmb3J0LWF3ZXNvbWUnOiAnZjI4NicsCiAgICAgICd1c2InOiAnZjI4NycsCiAgICAgICdwcm9kdWN0LWh1bnQnOiAnZjI4OCcsCiAgICAgICdtaXhjbG91ZCc6ICdmMjg5JywKICAgICAgJ3NjcmliZCc6ICdmMjhhJywKICAgICAgJ3BhdXNlLWNpcmNsZSc6ICdmMjhiJywKICAgICAgJ3BhdXNlLWNpcmNsZS1vJzogJ2YyOGMnLAogICAgICAnc3RvcC1jaXJjbGUnOiAnZjI4ZCcsCiAgICAgICdzdG9wLWNpcmNsZS1vJzogJ2YyOGUnLAogICAgICAnc2hvcHBpbmctYmFnJzogJ2YyOTAnLAogICAgICAnc2hvcHBpbmctYmFza2V0JzogJ2YyOTEnLAogICAgICAnaGFzaHRhZyc6ICdmMjkyJywKICAgICAgJ2JsdWV0b290aCc6ICdmMjkzJywKICAgICAgJ2JsdWV0b290aC1iJzogJ2YyOTQnLAogICAgICAncGVyY2VudCc6ICdmMjk1JywKICAgICAgJ2dpdGxhYic6ICdmMjk2JywKICAgICAgJ3dwYmVnaW5uZXInOiAnZjI5NycsCiAgICAgICd3cGZvcm1zJzogJ2YyOTgnLAogICAgICAnZW52aXJhJzogJ2YyOTknLAogICAgICAndW5pdmVyc2FsLWFjY2Vzcyc6ICdmMjlhJywKICAgICAgJ3doZWVsY2hhaXItYWx0JzogJ2YyOWInLAogICAgICAncXVlc3Rpb24tY2lyY2xlLW8nOiAnZjI5YycsCiAgICAgICdibGluZCc6ICdmMjlkJywKICAgICAgJ2F1ZGlvLWRlc2NyaXB0aW9uJzogJ2YyOWUnLAogICAgICAndm9sdW1lLWNvbnRyb2wtcGhvbmUnOiAnZjJhMCcsCiAgICAgICdicmFpbGxlJzogJ2YyYTEnLAogICAgICAnYXNzaXN0aXZlLWxpc3RlbmluZy1zeXN0ZW1zJzogJ2YyYTInLAogICAgICAnYXNsLWludGVycHJldGluZyxhbWVyaWNhbi1zaWduLWxhbmd1YWdlLWludGVycHJldGluZyc6ICdmMmEzJywKICAgICAgJ2RlYWZuZXNzLGhhcmQtb2YtaGVhcmluZyxkZWFmJzogJ2YyYTQnLAogICAgICAnZ2xpZGUnOiAnZjJhNScsCiAgICAgICdnbGlkZS1nJzogJ2YyYTYnLAogICAgICAnc2lnbmluZyxzaWduLWxhbmd1YWdlJzogJ2YyYTcnLAogICAgICAnbG93LXZpc2lvbic6ICdmMmE4JywKICAgICAgJ3ZpYWRlbyc6ICdmMmE5JywKICAgICAgJ3ZpYWRlby1zcXVhcmUnOiAnZjJhYScsCiAgICAgICdzbmFwY2hhdCc6ICdmMmFiJywKICAgICAgJ3NuYXBjaGF0LWdob3N0JzogJ2YyYWMnLAogICAgICAnc25hcGNoYXQtc3F1YXJlJzogJ2YyYWQnLAogICAgICAncGllZC1waXBlcic6ICdmMmFlJywKICAgICAgJ2ZpcnN0LW9yZGVyJzogJ2YyYjAnLAogICAgICAneW9hc3QnOiAnZjJiMScsCiAgICAgICd0aGVtZWlzbGUnOiAnZjJiMicsCiAgICAgICdnb29nbGUtcGx1cy1jaXJjbGUsZ29vZ2xlLXBsdXMtb2ZmaWNpYWwnOiAnZjJiMycsCiAgICAgICdmYSxmb250LWF3ZXNvbWUnOiAnZjJiNCcKICAgIH07CiAgfQoKICBmdW5jdGlvbiBpY29uKGQpIHsKICAgIHZhciBjb2RlOwoKICAgIGlmIChvcHRpb25zLmljb25NYXAgJiYgb3B0aW9ucy5zaG93SWNvbnMgJiYgb3B0aW9ucy5pY29ucykgewogICAgICBpZiAob3B0aW9ucy5pY29uc1tkLmxhYmVsc1swXV0gJiYgb3B0aW9ucy5pY29uTWFwW29wdGlvbnMuaWNvbnNbZC5sYWJlbHNbMF1dXSkgewogICAgICAgIGNvZGUgPSBvcHRpb25zLmljb25NYXBbb3B0aW9ucy5pY29uc1tkLmxhYmVsc1swXV1dOwogICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaWNvbk1hcFtkLmxhYmVsc1swXV0pIHsKICAgICAgICBjb2RlID0gb3B0aW9ucy5pY29uTWFwW2QubGFiZWxzWzBdXTsKICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmljb25zW2QubGFiZWxzWzBdXSkgewogICAgICAgIGNvZGUgPSBvcHRpb25zLmljb25zW2QubGFiZWxzWzBdXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBjb2RlOwogIH0KCiAgZnVuY3Rpb24gaW1hZ2UoZCkgewogICAgdmFyIGksIGltYWdlc0ZvckxhYmVsLCBpbWcsIGltZ0xldmVsLCBsYWJlbCwgbGFiZWxQcm9wZXJ0eVZhbHVlLCBwcm9wZXJ0eSwgdmFsdWU7CgogICAgaWYgKG9wdGlvbnMuaW1hZ2VzKSB7CiAgICAgIGltYWdlc0ZvckxhYmVsID0gb3B0aW9ucy5pbWFnZU1hcFtkLmxhYmVsc1swXV07CgogICAgICBpZiAoaW1hZ2VzRm9yTGFiZWwpIHsKICAgICAgICBpbWdMZXZlbCA9IDA7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbWFnZXNGb3JMYWJlbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgbGFiZWxQcm9wZXJ0eVZhbHVlID0gaW1hZ2VzRm9yTGFiZWxbaV0uc3BsaXQoJ3wnKTsKCiAgICAgICAgICBzd2l0Y2ggKGxhYmVsUHJvcGVydHlWYWx1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHZhbHVlID0gbGFiZWxQcm9wZXJ0eVZhbHVlWzJdOwoKICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHByb3BlcnR5ID0gbGFiZWxQcm9wZXJ0eVZhbHVlWzFdOwoKICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGxhYmVsID0gbGFiZWxQcm9wZXJ0eVZhbHVlWzBdOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkLmxhYmVsc1swXSA9PT0gbGFiZWwgJiYgKCFwcm9wZXJ0eSB8fCBkLnByb3BlcnRpZXNbcHJvcGVydHldICE9PSB1bmRlZmluZWQpICYmICghdmFsdWUgfHwgZC5wcm9wZXJ0aWVzW3Byb3BlcnR5XSA9PT0gdmFsdWUpKSB7CiAgICAgICAgICAgIGlmIChsYWJlbFByb3BlcnR5VmFsdWUubGVuZ3RoID4gaW1nTGV2ZWwpIHsKICAgICAgICAgICAgICBpbWcgPSBvcHRpb25zLmltYWdlc1tpbWFnZXNGb3JMYWJlbFtpXV07CiAgICAgICAgICAgICAgaW1nTGV2ZWwgPSBsYWJlbFByb3BlcnR5VmFsdWUubGVuZ3RoOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGltZzsKICB9CgogIGZ1bmN0aW9uIGluaXQoX3NlbGVjdG9yLCBfb3B0aW9ucykgewogICAgaW5pdEljb25NYXAoKTsKICAgIG1lcmdlKG9wdGlvbnMsIF9vcHRpb25zKTsKCiAgICBpZiAob3B0aW9ucy5pY29ucykgewogICAgICBvcHRpb25zLnNob3dJY29ucyA9IHRydWU7CiAgICB9CgogICAgaWYgKCFvcHRpb25zLm1pbkNvbGxpc2lvbikgewogICAgICBvcHRpb25zLm1pbkNvbGxpc2lvbiA9IG9wdGlvbnMubm9kZVJhZGl1cyAqIDI7CiAgICB9CgogICAgaW5pdEltYWdlTWFwKCk7CiAgICBzZWxlY3RvciA9IF9zZWxlY3RvcjsKICAgIGNvbnRhaW5lciA9IGQzLnNlbGVjdChzZWxlY3Rvcik7CiAgICBjb250YWluZXIuYXR0cignY2xhc3MnLCAnbmVvNGpkMycpLmh0bWwoJycpOwoKICAgIGlmIChvcHRpb25zLmluZm9QYW5lbCkgewogICAgICBpbmZvID0gYXBwZW5kSW5mb1BhbmVsKGNvbnRhaW5lcik7CiAgICB9CgogICAgYXBwZW5kR3JhcGgoY29udGFpbmVyKTsKICAgIHNpbXVsYXRpb24gPSBpbml0U2ltdWxhdGlvbigpOwoKICAgIGlmIChvcHRpb25zLm5lbzRqRGF0YSkgewogICAgICBsb2FkTmVvNGpEYXRhKG9wdGlvbnMubmVvNGpEYXRhKTsKICAgIH0gZWxzZSBpZiAob3B0aW9ucy5uZW80akRhdGFVcmwpIHsKICAgICAgbG9hZE5lbzRqRGF0YUZyb21Vcmwob3B0aW9ucy5uZW80akRhdGFVcmwpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6IGJvdGggbmVvNGpEYXRhIGFuZCBuZW80akRhdGFVcmwgYXJlIGVtcHR5IScpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdEljb25NYXAoKSB7CiAgICBPYmplY3Qua2V5cyhvcHRpb25zLmljb25NYXApLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHsKICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoJywnKSwKICAgICAgICAgIHZhbHVlID0gb3B0aW9ucy5pY29uTWFwW2tleV07CiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgb3B0aW9ucy5pY29uTWFwW2tleV0gPSB2YWx1ZTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGluaXRJbWFnZU1hcCgpIHsKICAgIHZhciBrZXksIGtleXMsIHNlbGVjdG9yOwoKICAgIGZvciAoa2V5IGluIG9wdGlvbnMuaW1hZ2VzKSB7CiAgICAgIGlmIChvcHRpb25zLmltYWdlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAga2V5cyA9IGtleS5zcGxpdCgnfCcpOwoKICAgICAgICBpZiAoIW9wdGlvbnMuaW1hZ2VNYXBba2V5c1swXV0pIHsKICAgICAgICAgIG9wdGlvbnMuaW1hZ2VNYXBba2V5c1swXV0gPSBba2V5XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3B0aW9ucy5pbWFnZU1hcFtrZXlzWzBdXS5wdXNoKGtleSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbml0U2ltdWxhdGlvbigpIHsKICAgIHZhciBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKCkgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAudmVsb2NpdHlEZWNheSgwLjgpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JjZSgneCcsIGQzLmZvcmNlKCkuc3RyZW5ndGgoMC4wMDIpKQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yY2UoJ3knLCBkMy5mb3JjZSgpLnN0cmVuZ3RoKDAuMDAyKSkKICAgIC5mb3JjZSgnY29sbGlkZScsIGQzLmZvcmNlQ29sbGlkZSgpLnJhZGl1cyhmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gb3B0aW9ucy5taW5Db2xsaXNpb247CiAgICB9KS5pdGVyYXRpb25zKDIpKS5mb3JjZSgnY2hhcmdlJywgZDMuZm9yY2VNYW55Qm9keSgpKS5mb3JjZSgnbGluaycsIGQzLmZvcmNlTGluaygpLmlkKGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLmlkOwogICAgfSkpLmZvcmNlKCdjZW50ZXInLCBkMy5mb3JjZUNlbnRlcihzdmcubm9kZSgpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGllbnRXaWR0aCAvIDIsIHN2Zy5ub2RlKCkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudEhlaWdodCAvIDIpKS5vbigndGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgdGljaygpOwogICAgfSkub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKG9wdGlvbnMuem9vbUZpdCAmJiAhanVzdExvYWRlZCkgewogICAgICAgIGp1c3RMb2FkZWQgPSB0cnVlOwogICAgICAgIHpvb21GaXQoMik7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHNpbXVsYXRpb247CiAgfQoKICBmdW5jdGlvbiBsb2FkTmVvNGpEYXRhKCkgewogICAgbm9kZXMgPSBbXTsKICAgIHJlbGF0aW9uc2hpcHMgPSBbXTsKICAgIHVwZGF0ZVdpdGhOZW80akRhdGEob3B0aW9ucy5uZW80akRhdGEpOwogIH0KCiAgZnVuY3Rpb24gbG9hZE5lbzRqRGF0YUZyb21VcmwobmVvNGpEYXRhVXJsKSB7CiAgICBub2RlcyA9IFtdOwogICAgcmVsYXRpb25zaGlwcyA9IFtdOwogICAgZDMuanNvbihuZW80akRhdGFVcmwsIGZ1bmN0aW9uIChlcnJvciwgZGF0YSkgewogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQoKICAgICAgdXBkYXRlV2l0aE5lbzRqRGF0YShkYXRhKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHsKICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICAgdGFyZ2V0W3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG5lbzRqRGF0YVRvRDNEYXRhKGRhdGEpIHsKICAgIHZhciBncmFwaCA9IHsKICAgICAgbm9kZXM6IFtdLAogICAgICByZWxhdGlvbnNoaXBzOiBbXQogICAgfTsKICAgIGRhdGEucmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgcmVzdWx0LmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGRhdGEuZ3JhcGgubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgaWYgKCFjb250YWlucyhncmFwaC5ub2Rlcywgbm9kZS5pZCkpIHsKICAgICAgICAgICAgZ3JhcGgubm9kZXMucHVzaChub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHMuZm9yRWFjaChmdW5jdGlvbiAocmVsYXRpb25zaGlwKSB7CiAgICAgICAgICByZWxhdGlvbnNoaXAuc291cmNlID0gcmVsYXRpb25zaGlwLnN0YXJ0Tm9kZTsKICAgICAgICAgIHJlbGF0aW9uc2hpcC50YXJnZXQgPSByZWxhdGlvbnNoaXAuZW5kTm9kZTsKICAgICAgICAgIGdyYXBoLnJlbGF0aW9uc2hpcHMucHVzaChyZWxhdGlvbnNoaXApOwogICAgICAgIH0pOwogICAgICAgIGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICBpZiAoYS5zb3VyY2UgPiBiLnNvdXJjZSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAoYS5zb3VyY2UgPCBiLnNvdXJjZSkgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoYS50YXJnZXQgPiBiLnRhcmdldCkgewogICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoYS50YXJnZXQgPCBiLnRhcmdldCkgewogICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKGkgIT09IDAgJiYgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2ldLnNvdXJjZSA9PT0gZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2kgLSAxXS5zb3VyY2UgJiYgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2ldLnRhcmdldCA9PT0gZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2kgLSAxXS50YXJnZXQpIHsKICAgICAgICAgICAgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2ldLmxpbmtudW0gPSBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaSAtIDFdLmxpbmtudW0gKyAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzW2ldLmxpbmtudW0gPSAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiBncmFwaDsKICB9CgogIGZ1bmN0aW9uIHJhbmRvbUQzRGF0YShkLCBtYXhOb2Rlc1RvR2VuZXJhdGUpIHsKICAgIHZhciBkYXRhID0gewogICAgICBub2RlczogW10sCiAgICAgIHJlbGF0aW9uc2hpcHM6IFtdCiAgICB9LAogICAgICAgIGksCiAgICAgICAgbGFiZWwsCiAgICAgICAgbm9kZSwKICAgICAgICBudW1Ob2RlcyA9IChtYXhOb2Rlc1RvR2VuZXJhdGUgKiBNYXRoLnJhbmRvbSgpIDw8IDApICsgMSwKICAgICAgICByZWxhdGlvbnNoaXAsCiAgICAgICAgcyA9IHNpemUoKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbnVtTm9kZXM7IGkrKykgewogICAgICBsYWJlbCA9IHJhbmRvbUxhYmVsKCk7CiAgICAgIG5vZGUgPSB7CiAgICAgICAgaWQ6IHMubm9kZXMgKyAxICsgaSwKICAgICAgICBsYWJlbHM6IFtsYWJlbF0sCiAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgcmFuZG9tOiBsYWJlbAogICAgICAgIH0sCiAgICAgICAgeDogZC54LAogICAgICAgIHk6IGQueQogICAgICB9OwogICAgICBkYXRhLm5vZGVzW2RhdGEubm9kZXMubGVuZ3RoXSA9IG5vZGU7CiAgICAgIHJlbGF0aW9uc2hpcCA9IHsKICAgICAgICBpZDogcy5yZWxhdGlvbnNoaXBzICsgMSArIGksCiAgICAgICAgdHlwZTogbGFiZWwudG9VcHBlckNhc2UoKSwKICAgICAgICBzdGFydE5vZGU6IGQuaWQsCiAgICAgICAgZW5kTm9kZTogcy5ub2RlcyArIDEgKyBpLAogICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgIGZyb206IERhdGUubm93KCkKICAgICAgICB9LAogICAgICAgIHNvdXJjZTogZC5pZCwKICAgICAgICB0YXJnZXQ6IHMubm9kZXMgKyAxICsgaSwKICAgICAgICBsaW5rbnVtOiBzLnJlbGF0aW9uc2hpcHMgKyAxICsgaQogICAgICB9OwogICAgICBkYXRhLnJlbGF0aW9uc2hpcHNbZGF0YS5yZWxhdGlvbnNoaXBzLmxlbmd0aF0gPSByZWxhdGlvbnNoaXA7CiAgICB9CgogICAgcmV0dXJuIGRhdGE7CiAgfQoKICBmdW5jdGlvbiByYW5kb21MYWJlbCgpIHsKICAgIHZhciBpY29ucyA9IE9iamVjdC5rZXlzKG9wdGlvbnMuaWNvbk1hcCk7CiAgICByZXR1cm4gaWNvbnNbaWNvbnMubGVuZ3RoICogTWF0aC5yYW5kb20oKSA8PCAwXTsKICB9CgogIGZ1bmN0aW9uIHJvdGF0ZShjeCwgY3ksIHgsIHksIGFuZ2xlKSB7CiAgICB2YXIgcmFkaWFucyA9IE1hdGguUEkgLyAxODAgKiBhbmdsZSwKICAgICAgICBjb3MgPSBNYXRoLmNvcyhyYWRpYW5zKSwKICAgICAgICBzaW4gPSBNYXRoLnNpbihyYWRpYW5zKSwKICAgICAgICBueCA9IGNvcyAqICh4IC0gY3gpICsgc2luICogKHkgLSBjeSkgKyBjeCwKICAgICAgICBueSA9IGNvcyAqICh5IC0gY3kpIC0gc2luICogKHggLSBjeCkgKyBjeTsKICAgIHJldHVybiB7CiAgICAgIHg6IG54LAogICAgICB5OiBueQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHJvdGF0ZVBvaW50KGMsIHAsIGFuZ2xlKSB7CiAgICByZXR1cm4gcm90YXRlKGMueCwgYy55LCBwLngsIHAueSwgYW5nbGUpOwogIH0KCiAgZnVuY3Rpb24gcm90YXRpb24oc291cmNlLCB0YXJnZXQpIHsKICAgIHJldHVybiBNYXRoLmF0YW4yKHRhcmdldC55IC0gc291cmNlLnksIHRhcmdldC54IC0gc291cmNlLngpICogMTgwIC8gTWF0aC5QSTsKICB9CgogIGZ1bmN0aW9uIHNpemUoKSB7CiAgICByZXR1cm4gewogICAgICBub2Rlczogbm9kZXMubGVuZ3RoLAogICAgICByZWxhdGlvbnNoaXBzOiByZWxhdGlvbnNoaXBzLmxlbmd0aAogICAgfTsKICB9CiAgLyoKICAgICAgZnVuY3Rpb24gc21vb3RoVHJhbnNmb3JtKGVsZW0sIHRyYW5zbGF0ZSwgc2NhbGUpIHsKICAgICAgICAgIHZhciBhbmltYXRpb25NaWxsaXNlY29uZHMgPSA1MDAwLAogICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXNlY29uZHMgPSA1MCwKICAgICAgICAgICAgICBzdGVwcyA9IHBhcnNlSW50KGFuaW1hdGlvbk1pbGxpc2Vjb25kcyAvIHRpbWVvdXRNaWxsaXNlY29uZHMpOwogIAogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBzbW9vdGhUcmFuc2Zvcm1TdGVwKGVsZW0sIHRyYW5zbGF0ZSwgc2NhbGUsIHRpbWVvdXRNaWxsaXNlY29uZHMsIDEsIHN0ZXBzKTsKICAgICAgICAgIH0sIHRpbWVvdXRNaWxsaXNlY29uZHMpOwogICAgICB9CiAgCiAgICAgIGZ1bmN0aW9uIHNtb290aFRyYW5zZm9ybVN0ZXAoZWxlbSwgdHJhbnNsYXRlLCBzY2FsZSwgdGltZW91dE1pbGxpc2Vjb25kcywgc3RlcCwgc3RlcHMpIHsKICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHN0ZXAgLyBzdGVwczsKICAKICAgICAgICAgIGVsZW0uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHRyYW5zbGF0ZVswXSAqIHByb2dyZXNzKSArICcsICcgKyAodHJhbnNsYXRlWzFdICogcHJvZ3Jlc3MpICsgJykgc2NhbGUoJyArIChzY2FsZSAqIHByb2dyZXNzKSArICcpJyk7CiAgCiAgICAgICAgICBpZiAoc3RlcCA8IHN0ZXBzKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgc21vb3RoVHJhbnNmb3JtU3RlcChlbGVtLCB0cmFuc2xhdGUsIHNjYWxlLCB0aW1lb3V0TWlsbGlzZWNvbmRzLCBzdGVwICsgMSwgc3RlcHMpOwogICAgICAgICAgICAgIH0sIHRpbWVvdXRNaWxsaXNlY29uZHMpOwogICAgICAgICAgfQogICAgICB9CiAgKi8KCgogIGZ1bmN0aW9uIHN0aWNrTm9kZShkKSB7CiAgICBkLmZ4ID0gZDMuZXZlbnQueDsKICAgIGQuZnkgPSBkMy5ldmVudC55OwogIH0KCiAgZnVuY3Rpb24gdGljaygpIHsKICAgIHRpY2tOb2RlcygpOwogICAgdGlja1JlbGF0aW9uc2hpcHMoKTsKICB9CgogIGZ1bmN0aW9uIHRpY2tOb2RlcygpIHsKICAgIGlmIChub2RlKSB7CiAgICAgIG5vZGUuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywgJyArIGQueSArICcpJzsKICAgICAgfSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0aWNrUmVsYXRpb25zaGlwcygpIHsKICAgIGlmIChyZWxhdGlvbnNoaXApIHsKICAgICAgcmVsYXRpb25zaGlwLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgdmFyIGFuZ2xlID0gcm90YXRpb24oZC5zb3VyY2UsIGQudGFyZ2V0KTsKICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC5zb3VyY2UueCArICcsICcgKyBkLnNvdXJjZS55ICsgJykgcm90YXRlKCcgKyBhbmdsZSArICcpJzsKICAgICAgfSk7CiAgICAgIHRpY2tSZWxhdGlvbnNoaXBzVGV4dHMoKTsKICAgICAgdGlja1JlbGF0aW9uc2hpcHNPdXRsaW5lcygpOwogICAgICB0aWNrUmVsYXRpb25zaGlwc092ZXJsYXlzKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0aWNrUmVsYXRpb25zaGlwc091dGxpbmVzKCkgewogICAgcmVsYXRpb25zaGlwLmVhY2goZnVuY3Rpb24gKHJlbGF0aW9uc2hpcCkgewogICAgICB2YXIgcmVsID0gZDMuc2VsZWN0KHRoaXMpLAogICAgICAgICAgb3V0bGluZSA9IHJlbC5zZWxlY3QoJy5vdXRsaW5lJyksCiAgICAgICAgICB0ZXh0ID0gcmVsLnNlbGVjdCgnLnRleHQnKSwKICAgICAgICAgIGJib3ggPSB0ZXh0Lm5vZGUoKS5nZXRCQm94KCksCiAgICAgICAgICBwYWRkaW5nID0gMzsKICAgICAgb3V0bGluZS5hdHRyKCdkJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICB2YXIgY2VudGVyID0gewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAKICAgICAgICB9LAogICAgICAgICAgICBhbmdsZSA9IHJvdGF0aW9uKGQuc291cmNlLCBkLnRhcmdldCksCiAgICAgICAgICAgIHRleHRCb3VuZGluZ0JveCA9IHRleHQubm9kZSgpLmdldEJCb3goKSwKICAgICAgICAgICAgdGV4dFBhZGRpbmcgPSA1LAogICAgICAgICAgICB1ID0gdW5pdGFyeVZlY3RvcihkLnNvdXJjZSwgZC50YXJnZXQpLAogICAgICAgICAgICB0ZXh0TWFyZ2luID0gewogICAgICAgICAgeDogKGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gKHRleHRCb3VuZGluZ0JveC53aWR0aCArIHRleHRQYWRkaW5nKSAqIHUueCkgKiAwLjUsCiAgICAgICAgICB5OiAoZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSAodGV4dEJvdW5kaW5nQm94LndpZHRoICsgdGV4dFBhZGRpbmcpICogdS55KSAqIDAuNQogICAgICAgIH0sCiAgICAgICAgICAgIG4gPSB1bml0YXJ5Tm9ybWFsVmVjdG9yKGQuc291cmNlLCBkLnRhcmdldCksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEExID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiAwICsgKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54IC0gbi54LAogICAgICAgICAgeTogMCArIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueSAtIG4ueQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50QjEgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IHRleHRNYXJnaW4ueCAtIG4ueCwKICAgICAgICAgIHk6IHRleHRNYXJnaW4ueSAtIG4ueQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50QzEgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IHRleHRNYXJnaW4ueCwKICAgICAgICAgIHk6IHRleHRNYXJnaW4ueQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50RDEgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IDAgKyAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LngsCiAgICAgICAgICB5OiAwICsgKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55CiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRBMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSB0ZXh0TWFyZ2luLnggLSBuLngsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIHRleHRNYXJnaW4ueSAtIG4ueQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50QjIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54IC0gbi54IC0gdS54ICogb3B0aW9ucy5hcnJvd1NpemUsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueSAtIG4ueSAtIHUueSAqIG9wdGlvbnMuYXJyb3dTaXplCiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRDMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnggLSBuLnggKyAobi54IC0gdS54KSAqIG9wdGlvbnMuYXJyb3dTaXplLAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkgLSBuLnkgKyAobi55IC0gdS55KSAqIG9wdGlvbnMuYXJyb3dTaXplCiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnREMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LngsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50RTIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS54ICsgKC1uLnggLSB1LngpICogb3B0aW9ucy5hcnJvd1NpemUsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueSArICgtbi55IC0gdS55KSAqIG9wdGlvbnMuYXJyb3dTaXplCiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRGMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnggLSB1LnggKiBvcHRpb25zLmFycm93U2l6ZSwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55IC0gdS55ICogb3B0aW9ucy5hcnJvd1NpemUKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEcyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIHRleHRNYXJnaW4ueCwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gdGV4dE1hcmdpbi55CiAgICAgICAgfSwgYW5nbGUpOwogICAgICAgIHJldHVybiAnTSAnICsgcm90YXRlZFBvaW50QTEueCArICcgJyArIHJvdGF0ZWRQb2ludEExLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEIxLnggKyAnICcgKyByb3RhdGVkUG9pbnRCMS55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRDMS54ICsgJyAnICsgcm90YXRlZFBvaW50QzEueSArICcgTCAnICsgcm90YXRlZFBvaW50RDEueCArICcgJyArIHJvdGF0ZWRQb2ludEQxLnkgKyAnIFogTSAnICsgcm90YXRlZFBvaW50QTIueCArICcgJyArIHJvdGF0ZWRQb2ludEEyLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEIyLnggKyAnICcgKyByb3RhdGVkUG9pbnRCMi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRDMi54ICsgJyAnICsgcm90YXRlZFBvaW50QzIueSArICcgTCAnICsgcm90YXRlZFBvaW50RDIueCArICcgJyArIHJvdGF0ZWRQb2ludEQyLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEUyLnggKyAnICcgKyByb3RhdGVkUG9pbnRFMi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRGMi54ICsgJyAnICsgcm90YXRlZFBvaW50RjIueSArICcgTCAnICsgcm90YXRlZFBvaW50RzIueCArICcgJyArIHJvdGF0ZWRQb2ludEcyLnkgKyAnIFonOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdGlja1JlbGF0aW9uc2hpcHNPdmVybGF5cygpIHsKICAgIHJlbGF0aW9uc2hpcE92ZXJsYXkuYXR0cignZCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBjZW50ZXIgPSB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH0sCiAgICAgICAgICBhbmdsZSA9IHJvdGF0aW9uKGQuc291cmNlLCBkLnRhcmdldCksCiAgICAgICAgICBuMSA9IHVuaXRhcnlOb3JtYWxWZWN0b3IoZC5zb3VyY2UsIGQudGFyZ2V0KSwKICAgICAgICAgIG4gPSB1bml0YXJ5Tm9ybWFsVmVjdG9yKGQuc291cmNlLCBkLnRhcmdldCwgNTApLAogICAgICAgICAgcm90YXRlZFBvaW50QSA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgIHg6IDAgLSBuLngsCiAgICAgICAgeTogMCAtIG4ueQogICAgICB9LCBhbmdsZSksCiAgICAgICAgICByb3RhdGVkUG9pbnRCID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSBuLngsCiAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSBuLnkKICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgcm90YXRlZFBvaW50QyA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54ICsgbi54IC0gbjEueCwKICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSArIG4ueSAtIG4xLnkKICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgcm90YXRlZFBvaW50RCA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgIHg6IDAgKyBuLnggLSBuMS54LAogICAgICAgIHk6IDAgKyBuLnkgLSBuMS55CiAgICAgIH0sIGFuZ2xlKTsKICAgICAgcmV0dXJuICdNICcgKyByb3RhdGVkUG9pbnRBLnggKyAnICcgKyByb3RhdGVkUG9pbnRBLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEIueCArICcgJyArIHJvdGF0ZWRQb2ludEIueSArICcgTCAnICsgcm90YXRlZFBvaW50Qy54ICsgJyAnICsgcm90YXRlZFBvaW50Qy55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRELnggKyAnICcgKyByb3RhdGVkUG9pbnRELnkgKyAnIFonOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0aWNrUmVsYXRpb25zaGlwc1RleHRzKCkgewogICAgcmVsYXRpb25zaGlwVGV4dC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkgewogICAgICB2YXIgYW5nbGUgPSAocm90YXRpb24oZC5zb3VyY2UsIGQudGFyZ2V0KSArIDM2MCkgJSAzNjAsCiAgICAgICAgICBtaXJyb3IgPSBhbmdsZSA+IDkwICYmIGFuZ2xlIDwgMjcwLAogICAgICAgICAgY2VudGVyID0gewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMAogICAgICB9LAogICAgICAgICAgbiA9IHVuaXRhcnlOb3JtYWxWZWN0b3IoZC5zb3VyY2UsIGQudGFyZ2V0KSwKICAgICAgICAgIG5XZWlnaHQgPSBtaXJyb3IgPyAyIDogLTMsCiAgICAgICAgICBwb2ludCA9IHsKICAgICAgICB4OiAoZC50YXJnZXQueCAtIGQuc291cmNlLngpICogMC41ICsgbi54ICogbldlaWdodCwKICAgICAgICB5OiAoZC50YXJnZXQueSAtIGQuc291cmNlLnkpICogMC41ICsgbi55ICogbldlaWdodAogICAgICB9LAogICAgICAgICAgcm90YXRlZFBvaW50ID0gcm90YXRlUG9pbnQoY2VudGVyLCBwb2ludCwgYW5nbGUpOwogICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgcm90YXRlZFBvaW50LnggKyAnLCAnICsgcm90YXRlZFBvaW50LnkgKyAnKSc7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHRvU3RyaW5nKGQpIHsKICAgIHZhciBzID0gZC5sYWJlbHMgPyBkLmxhYmVsc1swXSA6IGQudHlwZTsKICAgIHMgKz0gJyAoPGlkPjogJyArIGQuaWQ7CiAgICBPYmplY3Qua2V5cyhkLnByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAgIHMgKz0gJywgJyArIHByb3BlcnR5ICsgJzogJyArIEpTT04uc3RyaW5naWZ5KGQucHJvcGVydGllc1twcm9wZXJ0eV0pOwogICAgfSk7CiAgICBzICs9ICcpJzsKICAgIHJldHVybiBzOwogIH0KCiAgZnVuY3Rpb24gdW5pdGFyeU5vcm1hbFZlY3Rvcihzb3VyY2UsIHRhcmdldCwgbmV3TGVuZ3RoKSB7CiAgICB2YXIgY2VudGVyID0gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9LAogICAgICAgIHZlY3RvciA9IHVuaXRhcnlWZWN0b3Ioc291cmNlLCB0YXJnZXQsIG5ld0xlbmd0aCk7CiAgICByZXR1cm4gcm90YXRlUG9pbnQoY2VudGVyLCB2ZWN0b3IsIDkwKTsKICB9CgogIGZ1bmN0aW9uIHVuaXRhcnlWZWN0b3Ioc291cmNlLCB0YXJnZXQsIG5ld0xlbmd0aCkgewogICAgdmFyIGxlbmd0aCA9IE1hdGguc3FydChNYXRoLnBvdyh0YXJnZXQueCAtIHNvdXJjZS54LCAyKSArIE1hdGgucG93KHRhcmdldC55IC0gc291cmNlLnksIDIpKSAvIE1hdGguc3FydChuZXdMZW5ndGggfHwgMSk7CiAgICByZXR1cm4gewogICAgICB4OiAodGFyZ2V0LnggLSBzb3VyY2UueCkgLyBsZW5ndGgsCiAgICAgIHk6ICh0YXJnZXQueSAtIHNvdXJjZS55KSAvIGxlbmd0aAogICAgfTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVdpdGhEM0RhdGEoZDNEYXRhKSB7CiAgICB1cGRhdGVOb2Rlc0FuZFJlbGF0aW9uc2hpcHMoZDNEYXRhLm5vZGVzLCBkM0RhdGEucmVsYXRpb25zaGlwcyk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVXaXRoTmVvNGpEYXRhKG5lbzRqRGF0YSkgewogICAgdmFyIGQzRGF0YSA9IG5lbzRqRGF0YVRvRDNEYXRhKG5lbzRqRGF0YSk7CiAgICB1cGRhdGVXaXRoRDNEYXRhKGQzRGF0YSk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVJbmZvKGQpIHsKICAgIGNsZWFySW5mbygpOwoKICAgIGlmIChkLmxhYmVscykgewogICAgICBhcHBlbmRJbmZvRWxlbWVudENsYXNzKCdjbGFzcycsIGQubGFiZWxzWzBdKTsKICAgIH0gZWxzZSB7CiAgICAgIGFwcGVuZEluZm9FbGVtZW50UmVsYXRpb25zaGlwKCdjbGFzcycsIGQudHlwZSk7CiAgICB9CgogICAgYXBwZW5kSW5mb0VsZW1lbnRQcm9wZXJ0eSgncHJvcGVydHknLCAnJmx0O2lkJmd0OycsIGQuaWQpOwogICAgT2JqZWN0LmtleXMoZC5wcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICBhcHBlbmRJbmZvRWxlbWVudFByb3BlcnR5KCdwcm9wZXJ0eScsIHByb3BlcnR5LCBKU09OLnN0cmluZ2lmeShkLnByb3BlcnRpZXNbcHJvcGVydHldKSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZU5vZGVzKG4pIHsKICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG5vZGVzLCBuKTsKICAgIG5vZGUgPSBzdmdOb2Rlcy5zZWxlY3RBbGwoJy5ub2RlJykuZGF0YShub2RlcywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuaWQ7CiAgICB9KTsKICAgIHZhciBub2RlRW50ZXIgPSBhcHBlbmROb2RlVG9HcmFwaCgpOwogICAgbm9kZSA9IG5vZGVFbnRlci5tZXJnZShub2RlKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZU5vZGVzQW5kUmVsYXRpb25zaGlwcyhuLCByKSB7CiAgICB1cGRhdGVSZWxhdGlvbnNoaXBzKHIpOwogICAgdXBkYXRlTm9kZXMobik7CiAgICBzaW11bGF0aW9uLm5vZGVzKG5vZGVzKTsKICAgIHNpbXVsYXRpb24uZm9yY2UoJ2xpbmsnKS5saW5rcyhyZWxhdGlvbnNoaXBzKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVJlbGF0aW9uc2hpcHMocikgewogICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVsYXRpb25zaGlwcywgcik7CiAgICByZWxhdGlvbnNoaXAgPSBzdmdSZWxhdGlvbnNoaXBzLnNlbGVjdEFsbCgnLnJlbGF0aW9uc2hpcCcpLmRhdGEocmVsYXRpb25zaGlwcywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuaWQ7CiAgICB9KTsKICAgIHZhciByZWxhdGlvbnNoaXBFbnRlciA9IGFwcGVuZFJlbGF0aW9uc2hpcFRvR3JhcGgoKTsKICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcEVudGVyLnJlbGF0aW9uc2hpcC5tZXJnZShyZWxhdGlvbnNoaXApOwogICAgcmVsYXRpb25zaGlwT3V0bGluZSA9IHN2Zy5zZWxlY3RBbGwoJy5yZWxhdGlvbnNoaXAgLm91dGxpbmUnKTsKICAgIHJlbGF0aW9uc2hpcE91dGxpbmUgPSByZWxhdGlvbnNoaXBFbnRlci5vdXRsaW5lLm1lcmdlKHJlbGF0aW9uc2hpcE91dGxpbmUpOwogICAgcmVsYXRpb25zaGlwT3ZlcmxheSA9IHN2Zy5zZWxlY3RBbGwoJy5yZWxhdGlvbnNoaXAgLm92ZXJsYXknKTsKICAgIHJlbGF0aW9uc2hpcE92ZXJsYXkgPSByZWxhdGlvbnNoaXBFbnRlci5vdmVybGF5Lm1lcmdlKHJlbGF0aW9uc2hpcE92ZXJsYXkpOwogICAgcmVsYXRpb25zaGlwVGV4dCA9IHN2Zy5zZWxlY3RBbGwoJy5yZWxhdGlvbnNoaXAgLnRleHQnKTsKICAgIHJlbGF0aW9uc2hpcFRleHQgPSByZWxhdGlvbnNoaXBFbnRlci50ZXh0Lm1lcmdlKHJlbGF0aW9uc2hpcFRleHQpOwogIH0KCiAgZnVuY3Rpb24gdmVyc2lvbigpIHsKICAgIHJldHVybiBWRVJTSU9OOwogIH0KCiAgZnVuY3Rpb24gem9vbUZpdCh0cmFuc2l0aW9uRHVyYXRpb24pIHsKICAgIHZhciBib3VuZHMgPSBzdmcubm9kZSgpLmdldEJCb3goKSwKICAgICAgICBwYXJlbnQgPSBzdmcubm9kZSgpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCwKICAgICAgICBmdWxsV2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGgsCiAgICAgICAgZnVsbEhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQsCiAgICAgICAgd2lkdGggPSBib3VuZHMud2lkdGgsCiAgICAgICAgaGVpZ2h0ID0gYm91bmRzLmhlaWdodCwKICAgICAgICBtaWRYID0gYm91bmRzLnggKyB3aWR0aCAvIDIsCiAgICAgICAgbWlkWSA9IGJvdW5kcy55ICsgaGVpZ2h0IC8gMjsKCiAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7CiAgICAgIHJldHVybjsgLy8gbm90aGluZyB0byBmaXQKICAgIH0KCiAgICBzdmdTY2FsZSA9IDAuODUgLyBNYXRoLm1heCh3aWR0aCAvIGZ1bGxXaWR0aCwgaGVpZ2h0IC8gZnVsbEhlaWdodCk7CiAgICBzdmdUcmFuc2xhdGUgPSBbZnVsbFdpZHRoIC8gMiAtIHN2Z1NjYWxlICogbWlkWCwgZnVsbEhlaWdodCAvIDIgLSBzdmdTY2FsZSAqIG1pZFldOwogICAgc3ZnLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHN2Z1RyYW5zbGF0ZVswXSArICcsICcgKyBzdmdUcmFuc2xhdGVbMV0gKyAnKSBzY2FsZSgnICsgc3ZnU2NhbGUgKyAnKScpOyAvLyAgICAgICAgc21vb3RoVHJhbnNmb3JtKHN2Z1RyYW5zbGF0ZSwgc3ZnU2NhbGUpOwogIH0KCiAgaW5pdChfc2VsZWN0b3IsIF9vcHRpb25zKTsKICBjb25zb2xlLmxvZygiaGVyZSIpOwogIHJldHVybiB7CiAgICBhcHBlbmRSYW5kb21EYXRhVG9Ob2RlOiBhcHBlbmRSYW5kb21EYXRhVG9Ob2RlLAogICAgbmVvNGpEYXRhVG9EM0RhdGE6IG5lbzRqRGF0YVRvRDNEYXRhLAogICAgcmFuZG9tRDNEYXRhOiByYW5kb21EM0RhdGEsCiAgICBzaXplOiBzaXplLAogICAgdXBkYXRlV2l0aEQzRGF0YTogdXBkYXRlV2l0aEQzRGF0YSwKICAgIHVwZGF0ZVdpdGhOZW80akRhdGE6IHVwZGF0ZVdpdGhOZW80akRhdGEsCiAgICB2ZXJzaW9uOiB2ZXJzaW9uCiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgTmVvNGpEMzs="},{"version":3,"sources":["/Users/yameitu/Desktop/ICIRCLE/flowisallyouneed/frontend/src/js/Neo4jD3.js"],"names":["d3","Neo4jD3","_selector","_options","container","graph","info","node","nodes","relationship","relationshipOutline","relationshipOverlay","relationshipText","relationships","selector","simulation","svg","svgNodes","svgRelationships","svgScale","svgTranslate","classes2colors","justLoaded","numClasses","options","arrowSize","colors","highlight","undefined","iconMap","fontAwesomeIcons","icons","imageMap","images","infoPanel","minCollision","neo4jData","neo4jDataUrl","nodeOutlineFillColor","nodeRadius","relationshipColor","zoomFit","VERSION","appendGraph","append","attr","on","canvasContainer","select","console","log","call","zoom","scale","event","transform","k","translate","x","y","style","appendImageToNode","d","icon","image","appendInfoPanel","appendInfoElement","cls","isNode","property","value","elem","html","class2color","defaultColor","class2darkenColor","defaultDarkenColor","appendInfoElementClass","appendInfoElementProperty","appendInfoElementRelationship","appendNode","enter","i","classes","label","labels","length","class","properties","fx","fy","onNodeClick","stickNode","onNodeDoubleClick","updateInfo","onNodeMouseEnter","clearInfo","onNodeMouseLeave","drag","dragStarted","dragged","dragEnded","appendNodeToGraph","n","appendRingToNode","appendOutlineToNode","appendLabeltoNode","appendTextToNode","each","text_nodes","textDisplay","selection","text","threshold","text_tokens","split","res","tmp","token","push","slice","toString","parseInt","Math","round","_icon","id","appendRandomDataToNode","maxNodesToGenerate","data","randomD3Data","updateWithNeo4jData","appendRelationship","onRelationshipDoubleClick","appendOutlineToRelationship","r","appendOverlayToRelationship","appendTextToRelationship","type","appendRelationshipToGraph","outline","overlay","color","rgb","darker","random","contains","array","filter","active","alphaTarget","onNodeDragEnd","restart","onNodeDragStart","extend","obj1","obj2","obj","merge","code","showIcons","imagesForLabel","img","imgLevel","labelPropertyValue","init","initIconMap","initImageMap","initSimulation","loadNeo4jData","loadNeo4jDataFromUrl","error","Object","keys","forEach","key","index","hasOwnProperty","forceSimulation","force","forceCollide","radius","iterations","forceManyBody","forceLink","forceCenter","parentElement","clientWidth","clientHeight","tick","json","target","source","neo4jDataToD3Data","results","result","startNode","endNode","sort","a","b","linknum","numNodes","s","size","randomLabel","toUpperCase","from","Date","now","rotate","cx","cy","angle","radians","PI","cos","sin","nx","ny","rotatePoint","c","p","rotation","atan2","tickNodes","tickRelationships","tickRelationshipsTexts","tickRelationshipsOutlines","tickRelationshipsOverlays","rel","bbox","getBBox","padding","center","textBoundingBox","textPadding","u","unitaryVector","textMargin","width","unitaryNormalVector","rotatedPointA1","rotatedPointB1","rotatedPointC1","rotatedPointD1","rotatedPointA2","rotatedPointB2","rotatedPointC2","rotatedPointD2","rotatedPointE2","rotatedPointF2","rotatedPointG2","n1","rotatedPointA","rotatedPointB","rotatedPointC","rotatedPointD","mirror","nWeight","point","rotatedPoint","JSON","stringify","newLength","vector","sqrt","pow","updateWithD3Data","d3Data","updateNodesAndRelationships","updateNodes","Array","prototype","apply","selectAll","nodeEnter","updateRelationships","links","relationshipEnter","version","transitionDuration","bounds","parent","fullWidth","fullHeight","height","midX","midY","max"],"mappings":"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","sourcesContent":["/* global d3, document */\n/* jshint latedef:nofunc */\nimport * as d3 from \"d3\"\n\nfunction Neo4jD3(_selector, _options) {\n    var container, graph, info, node, nodes, relationship, relationshipOutline, relationshipOverlay, relationshipText, relationships, selector, simulation, svg, svgNodes, svgRelationships, svgScale, svgTranslate,\n        classes2colors = {},\n        justLoaded = false,\n        numClasses = 0,\n        options = {\n            arrowSize: 4,\n            colors: colors(),\n            highlight: undefined,\n            iconMap: fontAwesomeIcons(),\n            icons: undefined,\n            imageMap: {},\n            images: undefined,\n            infoPanel: true,\n            minCollision: undefined,\n            neo4jData: undefined,\n            neo4jDataUrl: undefined,\n            nodeOutlineFillColor: undefined,\n            nodeRadius: 25,\n            relationshipColor: '#a5abb6',\n            zoomFit: false\n        },\n        VERSION = '0.0.1';\n\n    function appendGraph(container) {\n        \n       \n        svg = container.append('svg')\n                       .attr('width', '100%')\n                       .attr('height', '100%')\n                       .attr('class', 'neo4jd3-graph')\n                       .on('dblclick.zoom', null)\n                       .append('g')\n                       .attr('width', '100%')\n                       .attr('height', '100%');\n        \n        const canvasContainer = d3.select('.neo4jd3-graph'); \n        canvasContainer.on('dblclick', () => {\n            console.log(\"22222222222222222222\")\n            canvasContainer.call(d3.zoom().on('zoom', function() {\n                var scale = d3.event.transform.k,\n                    translate = [d3.event.transform.x, d3.event.transform.y];\n\n                if (svgTranslate) {\n                    translate[0] += svgTranslate[0];\n                    translate[1] += svgTranslate[1];\n                }\n\n                if (svgScale) {\n                    scale *= svgScale;\n                }\n\n                svg.attr('transform', 'translate(' + translate[0] + ', ' + translate[1] + ') scale(' + scale + ')');\n            })) \n\n            canvasContainer.style('border', '1px solid red')\n\n        })\n\n\n        canvasContainer.on('mouseleave', ()=>{\n            console.log('mouseout');\n            console.log(canvasContainer)\n            canvasContainer.on('.zoom', null);\n            canvasContainer.style('border', null)\n        })\n\n\n\n        svgRelationships = svg.append('g')\n                              .attr('class', 'relationships');\n\n        svgNodes = svg.append('g')\n                      .attr('class', 'nodes');\n    }\n\n    function appendImageToNode(node) {\n        return node.append('image')\n                   .attr('height', function(d) {\n                       return icon(d) ? '24px': '30px';\n                   })\n                   .attr('x', function(d) {\n                       return icon(d) ? '5px': '-15px';\n                   })\n                   .attr('xlink:href', function(d) {\n                       return image(d);\n                   })\n                   .attr('y', function(d) {\n                       return icon(d) ? '5px': '-16px';\n                   })\n                   .attr('width', function(d) {\n                       return icon(d) ? '24px': '30px';\n                   });\n    }\n\n    function appendInfoPanel(container) {\n        return container.append('div')\n                        .attr('class', 'neo4jd3-info');\n    }\n\n    function appendInfoElement(cls, isNode, property, value) {\n        var elem = info.append('a');\n\n        elem.attr('href', '#')\n            .attr('class', cls)\n            .html('<strong>' + property + '</strong>' + (value ? (': ' + value) : ''));\n\n        if (!value) {\n            elem.style('background-color', function(d) {\n                    return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : (isNode ? class2color(property) : defaultColor());\n                })\n                .style('border-color', function(d) {\n                    return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : (isNode ? class2darkenColor(property) : defaultDarkenColor());\n                })\n                .style('color', function(d) {\n                    return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : '#fff';\n                });\n        }\n    }\n\n    function appendInfoElementClass(cls, node) {\n        appendInfoElement(cls, true, node);\n    }\n\n    function appendInfoElementProperty(cls, property, value) {\n        appendInfoElement(cls, false, property, value);\n    }\n\n    function appendInfoElementRelationship(cls, relationship) {\n        appendInfoElement(cls, false, relationship);\n    }\n\n    function appendNode() {\n        return node.enter()\n                   .append('g')\n                   .attr('class', function(d) {\n                       var highlight, i,\n                           classes = 'node',\n                           label = d.labels[0];\n\n                       if (icon(d)) {\n                           classes += ' node-icon';\n                       }\n\n                       if (image(d)) {\n                           classes += ' node-image';\n                       }\n\n                       if (options.highlight) {\n                           for (i = 0; i < options.highlight.length; i++) {\n                               highlight = options.highlight[i];\n\n                               if (d.labels[0] === highlight.class && d.properties[highlight.property] === highlight.value) {\n                                   classes += ' node-highlighted';\n                                   break;\n                               }\n                           }\n                       }\n\n                       return classes;\n                   })\n                   .on('click', function(d) {\n                       d.fx = d.fy = null;\n\n                       if (typeof options.onNodeClick === 'function') {\n                           options.onNodeClick(d);\n                       }\n                   })\n                   .on('dblclick', function(d) {\n                       stickNode(d);\n\n                       if (typeof options.onNodeDoubleClick === 'function') {\n                           options.onNodeDoubleClick(d);\n                       }\n                   })\n                   .on('mouseenter', function(d) {\n                       if (info) {\n                           updateInfo(d);\n                       }\n\n                       if (typeof options.onNodeMouseEnter === 'function') {\n                           options.onNodeMouseEnter(d);\n                       }\n                   })\n                   .on('mouseleave', function(d) {\n                       if (info) {\n                           clearInfo(d);\n                       }\n\n                       if (typeof options.onNodeMouseLeave === 'function') {\n                           options.onNodeMouseLeave(d);\n                       }\n                   })\n                   .call(d3.drag()\n                           .on('start', dragStarted)\n                           .on('drag', dragged)\n                           .on('end', dragEnded));\n    }\n\n    function appendNodeToGraph() {\n        var n = appendNode();\n\n        appendRingToNode(n);\n        appendOutlineToNode(n);\n        appendLabeltoNode(n);\n        if (options.icons) {\n            appendTextToNode(n);\n        }\n\n        if (options.images) {\n            appendImageToNode(n);\n        }\n\n        return n;\n    }\n    function appendLabeltoNode(node){\n        // node.append('text')\n        // .style('font-size','10px')\n        // .style('text-anchor','middle')\n        // .style('fill','white')\n        // .style('font-weight', 'bold')\n        // .text(function(d){\n        //     return d['properties']['name']\n        // })\n        node\n        .each(function(d){\n            const text_nodes = textDisplay(d['id'])\n            const selection = d3.select(this)\n            if (text_nodes.length == 1) {\n                selection.append('text')\n                .attr(\"x\", \"0\")\n                .attr(\"y\", \"0\")\n                .style('font-size','12px')\n                .style('text-anchor','middle')\n                .style('fill','white')\n                .style('font-weight', 'bold')\n                .text(text_nodes[0])\n\n            }else if (text_nodes.length == 2) {\n                selection.append('text')\n                .attr(\"x\", \"0\")\n                .attr(\"y\", \"-4\")\n                .style('font-size','10px')\n                .style('text-anchor','middle')\n                .style('fill','white')\n                .style('font-weight', 'bold')\n                .text(text_nodes[0])\n\n                selection.append('text')\n                .attr(\"x\", \"0\")\n                .attr(\"y\", \"12\")\n                .style('font-size','10px')\n                .style('text-anchor','middle')\n                .style('fill','white')\n                .style('font-weight', 'bold')\n                .text(text_nodes[1])\n\n            }else {\n                selection.append('text')\n                .attr(\"x\", \"0\")\n                .attr(\"y\", \"-12\")\n                .style('font-size','10px')\n                .style('text-anchor','middle')\n                .style('fill','white')\n                .style('font-weight', 'bold')\n                .text(text_nodes[0])\n\n                selection.append('text')\n                .attr(\"x\", \"0\")\n                .attr(\"y\", \"0\")\n                .style('font-size','10px')\n                .style('text-anchor','middle')\n                .style('fill','white')\n                .style('font-weight', 'bold')\n                .text(text_nodes[1])\n\n                selection.append('text')\n                .attr(\"x\", \"0\")\n                .attr(\"y\", \"12\")\n                .style('font-size','10px')\n                .style('text-anchor','middle')\n                .style('fill','white')\n                .style('font-weight', 'bold')\n                .text(text_nodes[2])\n\n            }\n        })\n        // const text_nodes = textDisplay()\n    }\n   \n    function textDisplay (text) {\n        let threshold = 9; \n\n        let text_tokens = text.split(\" \")\n        let res = []\n        let tmp = \"\"\n        for (let token of text_tokens) {\n            if (res.length < 2) {\n                if (tmp.length > threshold) {\n                    res.push(token.slice(0,9) + \"..\")\n                    tmp = \"\"\n                }\n                if (tmp.length == 0) {\n                    if (token.length <= threshold){\n                        tmp += token\n                    }else {\n                        res.push(token.slice(0,9) + \"..\")\n                        tmp = \"\"\n                    }\n                }else{ \n                    if (tmp.length + 1 + token.length <= threshold){\n                        tmp += \" \" + token\n                    }else {\n                        res.push(tmp)\n                        tmp = token\n                    }\n                }\n            }else{\n                if (tmp.length == 0) {\n                    if (token.length <= threshold){\n                        tmp += token\n                    }else {\n                        res.push(token.slice(0,9) + \"..\")\n                        tmp = \"\"\n                    }\n                }else{ \n                    if (tmp.length + 1 + token.length <= threshold){\n                        tmp += \" \" + token\n                    }else {\n                        res.push(tmp)\n                        tmp = token\n                    }\n                }\n                break\n            }\n        }\n        if (tmp.length > 0) {\n            if (tmp.length > threshold) {\n                res.push(tmp.slice(0, 8) +  \"..\")\n            }else {\n                res.push(tmp)\n            }\n        }\n        return res\n        \n    }\n\n    function appendOutlineToNode(node) {\n        return node.append('circle')\n                   .attr('class', 'outline')\n                   .attr('r', options.nodeRadius)\n                   .style('fill', function(d) {\n                       return '#78b3d0';\n                    //    return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : class2color(d.labels[0]);\n                   })\n                   .style('stroke', function(d) {\n                       return '#358eb8';\n                    //    return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : class2darkenColor(d.labels[0]);\n                   })\n                   .append('title').text(function(d) {\n                       return toString(d);\n                   });\n    }\n\n    function appendRingToNode(node) {\n        return node.append('circle')\n                   .attr('class', 'ring')\n                   .attr('r', options.nodeRadius * 1.16)\n                   .append('title').text(function(d) {\n                       return toString(d);\n                   });\n    }\n\n    function appendTextToNode(node) {\n        return node.append('text')\n                   .attr('class', function(d) {\n                       return 'text' + (icon(d) ? ' icon' : '');\n                   })\n                   .attr('stroke', 'white')\n                   .attr('font-size', function(d) {\n                       return icon(d) ? (options.nodeRadius + 'px') : '10px';\n                   })\n                   .attr('pointer-events', 'none')\n                   .attr('text-anchor', 'middle')\n                   .attr('y', function(d) {\n                       return icon(d) ? (parseInt(Math.round(options.nodeRadius * 0.32)) + 'px') : '4px';\n                   })\n                   .html(function(d) {\n                       var _icon = icon(d);\n                       return _icon ? '&#x' + _icon : d.id;\n                   });\n    }\n\n    function appendRandomDataToNode(d, maxNodesToGenerate) {\n        var data = randomD3Data(d, maxNodesToGenerate);\n        updateWithNeo4jData(data);\n    }\n\n    function appendRelationship() {\n        return relationship.enter()\n                           .append('g')\n                           .attr('class', 'relationship')\n                           .on('dblclick', function(d) {\n                               if (typeof options.onRelationshipDoubleClick === 'function') {\n                                   options.onRelationshipDoubleClick(d);\n                               }\n                           })\n                           .on('mouseenter', function(d) {\n                               if (info) {\n                                   updateInfo(d);\n                               }\n                           });\n    }\n\n    function appendOutlineToRelationship(r) {\n        return r.append('path')\n                .attr('class', 'outline')\n                .attr('fill', '#a5abb6')\n                .attr('stroke', 'none');\n    }\n\n    function appendOverlayToRelationship(r) {\n        return r.append('path')\n                .attr('class', 'overlay');\n    }\n\n    function appendTextToRelationship(r) {\n        return r.append('text')\n                .attr('class', 'text')\n                .attr('fill', '#000000')\n                .attr('font-size', '10px')\n                .attr('pointer-events', 'none')\n                .attr('text-anchor', 'middle')\n                .attr(\"color\", \"white\")\n                .text(function(d) {\n                    return d.type;\n                });\n    }\n\n    function appendRelationshipToGraph() {\n        var relationship = appendRelationship(),\n            text = appendTextToRelationship(relationship),\n            outline = appendOutlineToRelationship(relationship),\n            overlay = appendOverlayToRelationship(relationship);\n\n        return {\n            outline: outline,\n            overlay: overlay,\n            relationship: relationship,\n            text: text\n        };\n    }\n\n    function class2color(cls) {\n        var color = classes2colors[cls];\n\n        if (!color) {\n//            color = options.colors[Math.min(numClasses, options.colors.length - 1)];\n            color = options.colors[numClasses % options.colors.length];\n            classes2colors[cls] = color;\n            numClasses++;\n        }\n\n        return color;\n    }\n\n    function class2darkenColor(cls) {\n        return d3.rgb(class2color(cls)).darker(1);\n    }\n\n    function clearInfo() {\n        info.html('');\n    }\n\n    function color() {\n        return options.colors[options.colors.length * Math.random() << 0];\n    }\n\n    function colors() {\n        // d3.schemeCategory10,\n        // d3.schemeCategory20,\n        return [\n            '#68bdf6', // light blue\n            '#6dce9e', // green #1\n            '#faafc2', // light pink\n            '#f2baf6', // purple\n            '#ff928c', // light red\n            '#fcea7e', // light yellow\n            '#ffc766', // light orange\n            '#405f9e', // navy blue\n            '#a5abb6', // dark gray\n            '#78cecb', // green #2,\n            '#b88cbb', // dark purple\n            '#ced2d9', // light gray\n            '#e84646', // dark red\n            '#fa5f86', // dark pink\n            '#ffab1a', // dark orange\n            '#fcda19', // dark yellow\n            '#797b80', // black\n            '#c9d96f', // pistacchio\n            '#47991f', // green #3\n            '#70edee', // turquoise\n            '#ff75ea'  // pink\n        ];\n    }\n\n    function contains(array, id) {\n        var filter = array.filter(function(elem) {\n            return elem.id === id;\n        });\n\n        return filter.length > 0;\n    }\n\n    function defaultColor() {\n        return options.relationshipColor;\n    }\n\n    function defaultDarkenColor() {\n        return d3.rgb(options.colors[options.colors.length - 1]).darker(1);\n    }\n\n    function dragEnded(d) {\n        if (!d3.event.active) {\n            simulation.alphaTarget(0);\n        }\n\n        if (typeof options.onNodeDragEnd === 'function') {\n            options.onNodeDragEnd(d);\n        }\n    }\n\n    function dragged(d) {\n        stickNode(d);\n    }\n\n    function dragStarted(d) {\n        if (!d3.event.active) {\n            simulation.alphaTarget(0.3).restart();\n        }\n\n        d.fx = d.x;\n        d.fy = d.y;\n\n        if (typeof options.onNodeDragStart === 'function') {\n            options.onNodeDragStart(d);\n        }\n    }\n\n    function extend(obj1, obj2) {\n        var obj = {};\n\n        merge(obj, obj1);\n        merge(obj, obj2);\n\n        return obj;\n    }\n\n    function fontAwesomeIcons() {\n        return {'glass':'f000','music':'f001','search':'f002','envelope-o':'f003','heart':'f004','star':'f005','star-o':'f006','user':'f007','film':'f008','th-large':'f009','th':'f00a','th-list':'f00b','check':'f00c','remove,close,times':'f00d','search-plus':'f00e','search-minus':'f010','power-off':'f011','signal':'f012','gear,cog':'f013','trash-o':'f014','home':'f015','file-o':'f016','clock-o':'f017','road':'f018','download':'f019','arrow-circle-o-down':'f01a','arrow-circle-o-up':'f01b','inbox':'f01c','play-circle-o':'f01d','rotate-right,repeat':'f01e','refresh':'f021','list-alt':'f022','lock':'f023','flag':'f024','headphones':'f025','volume-off':'f026','volume-down':'f027','volume-up':'f028','qrcode':'f029','barcode':'f02a','tag':'f02b','tags':'f02c','book':'f02d','bookmark':'f02e','print':'f02f','camera':'f030','font':'f031','bold':'f032','italic':'f033','text-height':'f034','text-width':'f035','align-left':'f036','align-center':'f037','align-right':'f038','align-justify':'f039','list':'f03a','dedent,outdent':'f03b','indent':'f03c','video-camera':'f03d','photo,image,picture-o':'f03e','pencil':'f040','map-marker':'f041','adjust':'f042','tint':'f043','edit,pencil-square-o':'f044','share-square-o':'f045','check-square-o':'f046','arrows':'f047','step-backward':'f048','fast-backward':'f049','backward':'f04a','play':'f04b','pause':'f04c','stop':'f04d','forward':'f04e','fast-forward':'f050','step-forward':'f051','eject':'f052','chevron-left':'f053','chevron-right':'f054','plus-circle':'f055','minus-circle':'f056','times-circle':'f057','check-circle':'f058','question-circle':'f059','info-circle':'f05a','crosshairs':'f05b','times-circle-o':'f05c','check-circle-o':'f05d','ban':'f05e','arrow-left':'f060','arrow-right':'f061','arrow-up':'f062','arrow-down':'f063','mail-forward,share':'f064','expand':'f065','compress':'f066','plus':'f067','minus':'f068','asterisk':'f069','exclamation-circle':'f06a','gift':'f06b','leaf':'f06c','fire':'f06d','eye':'f06e','eye-slash':'f070','warning,exclamation-triangle':'f071','plane':'f072','calendar':'f073','random':'f074','comment':'f075','magnet':'f076','chevron-up':'f077','chevron-down':'f078','retweet':'f079','shopping-cart':'f07a','folder':'f07b','folder-open':'f07c','arrows-v':'f07d','arrows-h':'f07e','bar-chart-o,bar-chart':'f080','twitter-square':'f081','facebook-square':'f082','camera-retro':'f083','key':'f084','gears,cogs':'f085','comments':'f086','thumbs-o-up':'f087','thumbs-o-down':'f088','star-half':'f089','heart-o':'f08a','sign-out':'f08b','linkedin-square':'f08c','thumb-tack':'f08d','external-link':'f08e','sign-in':'f090','trophy':'f091','github-square':'f092','upload':'f093','lemon-o':'f094','phone':'f095','square-o':'f096','bookmark-o':'f097','phone-square':'f098','twitter':'f099','facebook-f,facebook':'f09a','github':'f09b','unlock':'f09c','credit-card':'f09d','feed,rss':'f09e','hdd-o':'f0a0','bullhorn':'f0a1','bell':'f0f3','certificate':'f0a3','hand-o-right':'f0a4','hand-o-left':'f0a5','hand-o-up':'f0a6','hand-o-down':'f0a7','arrow-circle-left':'f0a8','arrow-circle-right':'f0a9','arrow-circle-up':'f0aa','arrow-circle-down':'f0ab','globe':'f0ac','wrench':'f0ad','tasks':'f0ae','filter':'f0b0','briefcase':'f0b1','arrows-alt':'f0b2','group,users':'f0c0','chain,link':'f0c1','cloud':'f0c2','flask':'f0c3','cut,scissors':'f0c4','copy,files-o':'f0c5','paperclip':'f0c6','save,floppy-o':'f0c7','square':'f0c8','navicon,reorder,bars':'f0c9','list-ul':'f0ca','list-ol':'f0cb','strikethrough':'f0cc','underline':'f0cd','table':'f0ce','magic':'f0d0','truck':'f0d1','pinterest':'f0d2','pinterest-square':'f0d3','google-plus-square':'f0d4','google-plus':'f0d5','money':'f0d6','caret-down':'f0d7','caret-up':'f0d8','caret-left':'f0d9','caret-right':'f0da','columns':'f0db','unsorted,sort':'f0dc','sort-down,sort-desc':'f0dd','sort-up,sort-asc':'f0de','envelope':'f0e0','linkedin':'f0e1','rotate-left,undo':'f0e2','legal,gavel':'f0e3','dashboard,tachometer':'f0e4','comment-o':'f0e5','comments-o':'f0e6','flash,bolt':'f0e7','sitemap':'f0e8','umbrella':'f0e9','paste,clipboard':'f0ea','lightbulb-o':'f0eb','exchange':'f0ec','cloud-download':'f0ed','cloud-upload':'f0ee','user-md':'f0f0','stethoscope':'f0f1','suitcase':'f0f2','bell-o':'f0a2','coffee':'f0f4','cutlery':'f0f5','file-text-o':'f0f6','building-o':'f0f7','hospital-o':'f0f8','ambulance':'f0f9','medkit':'f0fa','fighter-jet':'f0fb','beer':'f0fc','h-square':'f0fd','plus-square':'f0fe','angle-double-left':'f100','angle-double-right':'f101','angle-double-up':'f102','angle-double-down':'f103','angle-left':'f104','angle-right':'f105','angle-up':'f106','angle-down':'f107','desktop':'f108','laptop':'f109','tablet':'f10a','mobile-phone,mobile':'f10b','circle-o':'f10c','quote-left':'f10d','quote-right':'f10e','spinner':'f110','circle':'f111','mail-reply,reply':'f112','github-alt':'f113','folder-o':'f114','folder-open-o':'f115','smile-o':'f118','frown-o':'f119','meh-o':'f11a','gamepad':'f11b','keyboard-o':'f11c','flag-o':'f11d','flag-checkered':'f11e','terminal':'f120','code':'f121','mail-reply-all,reply-all':'f122','star-half-empty,star-half-full,star-half-o':'f123','location-arrow':'f124','crop':'f125','code-fork':'f126','unlink,chain-broken':'f127','question':'f128','info':'f129','exclamation':'f12a','superscript':'f12b','subscript':'f12c','eraser':'f12d','puzzle-piece':'f12e','microphone':'f130','microphone-slash':'f131','shield':'f132','calendar-o':'f133','fire-extinguisher':'f134','rocket':'f135','maxcdn':'f136','chevron-circle-left':'f137','chevron-circle-right':'f138','chevron-circle-up':'f139','chevron-circle-down':'f13a','html5':'f13b','css3':'f13c','anchor':'f13d','unlock-alt':'f13e','bullseye':'f140','ellipsis-h':'f141','ellipsis-v':'f142','rss-square':'f143','play-circle':'f144','ticket':'f145','minus-square':'f146','minus-square-o':'f147','level-up':'f148','level-down':'f149','check-square':'f14a','pencil-square':'f14b','external-link-square':'f14c','share-square':'f14d','compass':'f14e','toggle-down,caret-square-o-down':'f150','toggle-up,caret-square-o-up':'f151','toggle-right,caret-square-o-right':'f152','euro,eur':'f153','gbp':'f154','dollar,usd':'f155','rupee,inr':'f156','cny,rmb,yen,jpy':'f157','ruble,rouble,rub':'f158','won,krw':'f159','bitcoin,btc':'f15a','file':'f15b','file-text':'f15c','sort-alpha-asc':'f15d','sort-alpha-desc':'f15e','sort-amount-asc':'f160','sort-amount-desc':'f161','sort-numeric-asc':'f162','sort-numeric-desc':'f163','thumbs-up':'f164','thumbs-down':'f165','youtube-square':'f166','youtube':'f167','xing':'f168','xing-square':'f169','youtube-play':'f16a','dropbox':'f16b','stack-overflow':'f16c','instagram':'f16d','flickr':'f16e','adn':'f170','bitbucket':'f171','bitbucket-square':'f172','tumblr':'f173','tumblr-square':'f174','long-arrow-down':'f175','long-arrow-up':'f176','long-arrow-left':'f177','long-arrow-right':'f178','apple':'f179','windows':'f17a','android':'f17b','linux':'f17c','dribbble':'f17d','skype':'f17e','foursquare':'f180','trello':'f181','female':'f182','male':'f183','gittip,gratipay':'f184','sun-o':'f185','moon-o':'f186','archive':'f187','bug':'f188','vk':'f189','weibo':'f18a','renren':'f18b','pagelines':'f18c','stack-exchange':'f18d','arrow-circle-o-right':'f18e','arrow-circle-o-left':'f190','toggle-left,caret-square-o-left':'f191','dot-circle-o':'f192','wheelchair':'f193','vimeo-square':'f194','turkish-lira,try':'f195','plus-square-o':'f196','space-shuttle':'f197','slack':'f198','envelope-square':'f199','wordpress':'f19a','openid':'f19b','institution,bank,university':'f19c','mortar-board,graduation-cap':'f19d','yahoo':'f19e','google':'f1a0','reddit':'f1a1','reddit-square':'f1a2','stumbleupon-circle':'f1a3','stumbleupon':'f1a4','delicious':'f1a5','digg':'f1a6','pied-piper-pp':'f1a7','pied-piper-alt':'f1a8','drupal':'f1a9','joomla':'f1aa','language':'f1ab','fax':'f1ac','building':'f1ad','child':'f1ae','paw':'f1b0','spoon':'f1b1','cube':'f1b2','cubes':'f1b3','behance':'f1b4','behance-square':'f1b5','steam':'f1b6','steam-square':'f1b7','recycle':'f1b8','automobile,car':'f1b9','cab,taxi':'f1ba','tree':'f1bb','spotify':'f1bc','deviantart':'f1bd','soundcloud':'f1be','database':'f1c0','file-pdf-o':'f1c1','file-word-o':'f1c2','file-excel-o':'f1c3','file-powerpoint-o':'f1c4','file-photo-o,file-picture-o,file-image-o':'f1c5','file-zip-o,file-archive-o':'f1c6','file-sound-o,file-audio-o':'f1c7','file-movie-o,file-video-o':'f1c8','file-code-o':'f1c9','vine':'f1ca','codepen':'f1cb','jsfiddle':'f1cc','life-bouy,life-buoy,life-saver,support,life-ring':'f1cd','circle-o-notch':'f1ce','ra,resistance,rebel':'f1d0','ge,empire':'f1d1','git-square':'f1d2','git':'f1d3','y-combinator-square,yc-square,hacker-news':'f1d4','tencent-weibo':'f1d5','qq':'f1d6','wechat,weixin':'f1d7','send,paper-plane':'f1d8','send-o,paper-plane-o':'f1d9','history':'f1da','circle-thin':'f1db','header':'f1dc','paragraph':'f1dd','sliders':'f1de','share-alt':'f1e0','share-alt-square':'f1e1','bomb':'f1e2','soccer-ball-o,futbol-o':'f1e3','tty':'f1e4','binoculars':'f1e5','plug':'f1e6','slideshare':'f1e7','twitch':'f1e8','yelp':'f1e9','newspaper-o':'f1ea','wifi':'f1eb','calculator':'f1ec','paypal':'f1ed','google-wallet':'f1ee','cc-visa':'f1f0','cc-mastercard':'f1f1','cc-discover':'f1f2','cc-amex':'f1f3','cc-paypal':'f1f4','cc-stripe':'f1f5','bell-slash':'f1f6','bell-slash-o':'f1f7','trash':'f1f8','copyright':'f1f9','at':'f1fa','eyedropper':'f1fb','paint-brush':'f1fc','birthday-cake':'f1fd','area-chart':'f1fe','pie-chart':'f200','line-chart':'f201','lastfm':'f202','lastfm-square':'f203','toggle-off':'f204','toggle-on':'f205','bicycle':'f206','bus':'f207','ioxhost':'f208','angellist':'f209','cc':'f20a','shekel,sheqel,ils':'f20b','meanpath':'f20c','buysellads':'f20d','connectdevelop':'f20e','dashcube':'f210','forumbee':'f211','leanpub':'f212','sellsy':'f213','shirtsinbulk':'f214','simplybuilt':'f215','skyatlas':'f216','cart-plus':'f217','cart-arrow-down':'f218','diamond':'f219','ship':'f21a','user-secret':'f21b','motorcycle':'f21c','street-view':'f21d','heartbeat':'f21e','venus':'f221','mars':'f222','mercury':'f223','intersex,transgender':'f224','transgender-alt':'f225','venus-double':'f226','mars-double':'f227','venus-mars':'f228','mars-stroke':'f229','mars-stroke-v':'f22a','mars-stroke-h':'f22b','neuter':'f22c','genderless':'f22d','facebook-official':'f230','pinterest-p':'f231','whatsapp':'f232','server':'f233','user-plus':'f234','user-times':'f235','hotel,bed':'f236','viacoin':'f237','train':'f238','subway':'f239','medium':'f23a','yc,y-combinator':'f23b','optin-monster':'f23c','opencart':'f23d','expeditedssl':'f23e','battery-4,battery-full':'f240','battery-3,battery-three-quarters':'f241','battery-2,battery-half':'f242','battery-1,battery-quarter':'f243','battery-0,battery-empty':'f244','mouse-pointer':'f245','i-cursor':'f246','object-group':'f247','object-ungroup':'f248','sticky-note':'f249','sticky-note-o':'f24a','cc-jcb':'f24b','cc-diners-club':'f24c','clone':'f24d','balance-scale':'f24e','hourglass-o':'f250','hourglass-1,hourglass-start':'f251','hourglass-2,hourglass-half':'f252','hourglass-3,hourglass-end':'f253','hourglass':'f254','hand-grab-o,hand-rock-o':'f255','hand-stop-o,hand-paper-o':'f256','hand-scissors-o':'f257','hand-lizard-o':'f258','hand-spock-o':'f259','hand-pointer-o':'f25a','hand-peace-o':'f25b','trademark':'f25c','registered':'f25d','creative-commons':'f25e','gg':'f260','gg-circle':'f261','tripadvisor':'f262','odnoklassniki':'f263','odnoklassniki-square':'f264','get-pocket':'f265','wikipedia-w':'f266','safari':'f267','chrome':'f268','firefox':'f269','opera':'f26a','internet-explorer':'f26b','tv,television':'f26c','contao':'f26d','500px':'f26e','amazon':'f270','calendar-plus-o':'f271','calendar-minus-o':'f272','calendar-times-o':'f273','calendar-check-o':'f274','industry':'f275','map-pin':'f276','map-signs':'f277','map-o':'f278','map':'f279','commenting':'f27a','commenting-o':'f27b','houzz':'f27c','vimeo':'f27d','black-tie':'f27e','fonticons':'f280','reddit-alien':'f281','edge':'f282','credit-card-alt':'f283','codiepie':'f284','modx':'f285','fort-awesome':'f286','usb':'f287','product-hunt':'f288','mixcloud':'f289','scribd':'f28a','pause-circle':'f28b','pause-circle-o':'f28c','stop-circle':'f28d','stop-circle-o':'f28e','shopping-bag':'f290','shopping-basket':'f291','hashtag':'f292','bluetooth':'f293','bluetooth-b':'f294','percent':'f295','gitlab':'f296','wpbeginner':'f297','wpforms':'f298','envira':'f299','universal-access':'f29a','wheelchair-alt':'f29b','question-circle-o':'f29c','blind':'f29d','audio-description':'f29e','volume-control-phone':'f2a0','braille':'f2a1','assistive-listening-systems':'f2a2','asl-interpreting,american-sign-language-interpreting':'f2a3','deafness,hard-of-hearing,deaf':'f2a4','glide':'f2a5','glide-g':'f2a6','signing,sign-language':'f2a7','low-vision':'f2a8','viadeo':'f2a9','viadeo-square':'f2aa','snapchat':'f2ab','snapchat-ghost':'f2ac','snapchat-square':'f2ad','pied-piper':'f2ae','first-order':'f2b0','yoast':'f2b1','themeisle':'f2b2','google-plus-circle,google-plus-official':'f2b3','fa,font-awesome':'f2b4'};\n    }\n\n    function icon(d) {\n        var code;\n\n        if (options.iconMap && options.showIcons && options.icons) {\n            if (options.icons[d.labels[0]] && options.iconMap[options.icons[d.labels[0]]]) {\n                code = options.iconMap[options.icons[d.labels[0]]];\n            } else if (options.iconMap[d.labels[0]]) {\n                code = options.iconMap[d.labels[0]];\n            } else if (options.icons[d.labels[0]]) {\n                code = options.icons[d.labels[0]];\n            }\n        }\n\n        return code;\n    }\n\n    function image(d) {\n        var i, imagesForLabel, img, imgLevel, label, labelPropertyValue, property, value;\n\n        if (options.images) {\n            imagesForLabel = options.imageMap[d.labels[0]];\n\n            if (imagesForLabel) {\n                imgLevel = 0;\n\n                for (i = 0; i < imagesForLabel.length; i++) {\n                    labelPropertyValue = imagesForLabel[i].split('|');\n\n                    switch (labelPropertyValue.length) {\n                        case 3:\n                        value = labelPropertyValue[2];\n                        /* falls through */\n                        case 2:\n                        property = labelPropertyValue[1];\n                        /* falls through */\n                        case 1:\n                        label = labelPropertyValue[0];\n                    }\n\n                    if (d.labels[0] === label &&\n                        (!property || d.properties[property] !== undefined) &&\n                        (!value || d.properties[property] === value)) {\n                        if (labelPropertyValue.length > imgLevel) {\n                            img = options.images[imagesForLabel[i]];\n                            imgLevel = labelPropertyValue.length;\n                        }\n                    }\n                }\n            }\n        }\n\n        return img;\n    }\n\n    function init(_selector, _options) {\n        initIconMap();\n\n        merge(options, _options);\n\n        if (options.icons) {\n            options.showIcons = true;\n        }\n\n        if (!options.minCollision) {\n            options.minCollision = options.nodeRadius * 2;\n        }\n\n        initImageMap();\n\n        selector = _selector;\n        container = d3.select(selector);\n        container.attr('class', 'neo4jd3')\n                 .html('');\n\n        if (options.infoPanel) {\n            info = appendInfoPanel(container);\n        }\n\n        appendGraph(container);\n\n        simulation = initSimulation();\n\n        if (options.neo4jData) {\n            loadNeo4jData(options.neo4jData);\n        } else if (options.neo4jDataUrl) {\n            loadNeo4jDataFromUrl(options.neo4jDataUrl);\n        } else {\n            console.error('Error: both neo4jData and neo4jDataUrl are empty!');\n        }\n    }\n\n    function initIconMap() {\n        Object.keys(options.iconMap).forEach(function(key, index) {\n            var keys = key.split(','),\n                value = options.iconMap[key];\n\n            keys.forEach(function(key) {\n                options.iconMap[key] = value;\n            });\n        });\n    }\n\n    function initImageMap() {\n        var key, keys, selector;\n\n        for (key in options.images) {\n            if (options.images.hasOwnProperty(key)) {\n                keys = key.split('|');\n\n                if (!options.imageMap[keys[0]]) {\n                    options.imageMap[keys[0]] = [key];\n                } else {\n                    options.imageMap[keys[0]].push(key);\n                }\n            }\n        }\n    }\n\n    function initSimulation() {\n        var simulation = d3.forceSimulation()\n//                           .velocityDecay(0.8)\n//                           .force('x', d3.force().strength(0.002))\n//                           .force('y', d3.force().strength(0.002))\n                           .force('collide', d3.forceCollide().radius(function(d) {\n                               return options.minCollision;\n                           }).iterations(2))\n                           .force('charge', d3.forceManyBody())\n                           .force('link', d3.forceLink().id(function(d) {\n                               return d.id;\n                           }))\n                           .force('center', d3.forceCenter(svg.node().parentElement.parentElement.clientWidth / 2, svg.node().parentElement.parentElement.clientHeight / 2))\n                           .on('tick', function() {\n                               tick();\n                           })\n                           .on('end', function() {\n                               if (options.zoomFit && !justLoaded) {\n                                   justLoaded = true;\n                                   zoomFit(2);\n                               }\n                           });\n\n        return simulation;\n    }\n\n    function loadNeo4jData() {\n        nodes = [];\n        relationships = [];\n\n        updateWithNeo4jData(options.neo4jData);\n    }\n\n    function loadNeo4jDataFromUrl(neo4jDataUrl) {\n        nodes = [];\n        relationships = [];\n\n        d3.json(neo4jDataUrl, function(error, data) {\n            if (error) {\n                throw error;\n            }\n\n            updateWithNeo4jData(data);\n        });\n    }\n\n    function merge(target, source) {\n        Object.keys(source).forEach(function(property) {\n            target[property] = source[property];\n        });\n    }\n\n    function neo4jDataToD3Data(data) {\n        var graph = {\n            nodes: [],\n            relationships: []\n        };\n\n        data.results.forEach(function(result) {\n            result.data.forEach(function(data) {\n                data.graph.nodes.forEach(function(node) {\n                    if (!contains(graph.nodes, node.id)) {\n                        graph.nodes.push(node);\n                    }\n                });\n\n                data.graph.relationships.forEach(function(relationship) {\n                    relationship.source = relationship.startNode;\n                    relationship.target = relationship.endNode;\n                    graph.relationships.push(relationship);\n                });\n\n                data.graph.relationships.sort(function(a, b) {\n                    if (a.source > b.source) {\n                        return 1;\n                    } else if (a.source < b.source) {\n                        return -1;\n                    } else {\n                        if (a.target > b.target) {\n                            return 1;\n                        }\n\n                        if (a.target < b.target) {\n                            return -1;\n                        } else {\n                            return 0;\n                        }\n                    }\n                });\n\n                for (var i = 0; i < data.graph.relationships.length; i++) {\n                    if (i !== 0 && data.graph.relationships[i].source === data.graph.relationships[i-1].source && data.graph.relationships[i].target === data.graph.relationships[i-1].target) {\n                        data.graph.relationships[i].linknum = data.graph.relationships[i - 1].linknum + 1;\n                    } else {\n                        data.graph.relationships[i].linknum = 1;\n                    }\n                }\n            });\n        });\n\n        return graph;\n    }\n\n    function randomD3Data(d, maxNodesToGenerate) {\n        var data = {\n                nodes: [],\n                relationships: []\n            },\n            i,\n            label,\n            node,\n            numNodes = (maxNodesToGenerate * Math.random() << 0) + 1,\n            relationship,\n            s = size();\n\n        for (i = 0; i < numNodes; i++) {\n            label = randomLabel();\n\n            node = {\n                id: s.nodes + 1 + i,\n                labels: [label],\n                properties: {\n                    random: label\n                },\n                x: d.x,\n                y: d.y\n            };\n\n            data.nodes[data.nodes.length] = node;\n\n            relationship = {\n                id: s.relationships + 1 + i,\n                type: label.toUpperCase(),\n                startNode: d.id,\n                endNode: s.nodes + 1 + i,\n                properties: {\n                    from: Date.now()\n                },\n                source: d.id,\n                target: s.nodes + 1 + i,\n                linknum: s.relationships + 1 + i\n            };\n\n            data.relationships[data.relationships.length] = relationship;\n        }\n\n        return data;\n    }\n\n    function randomLabel() {\n        var icons = Object.keys(options.iconMap);\n        return icons[icons.length * Math.random() << 0];\n    }\n\n    function rotate(cx, cy, x, y, angle) {\n        var radians = (Math.PI / 180) * angle,\n            cos = Math.cos(radians),\n            sin = Math.sin(radians),\n            nx = (cos * (x - cx)) + (sin * (y - cy)) + cx,\n            ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;\n\n        return { x: nx, y: ny };\n    }\n\n    function rotatePoint(c, p, angle) {\n        return rotate(c.x, c.y, p.x, p.y, angle);\n    }\n\n    function rotation(source, target) {\n        return Math.atan2(target.y - source.y, target.x - source.x) * 180 / Math.PI;\n    }\n\n    function size() {\n        return {\n            nodes: nodes.length,\n            relationships: relationships.length\n        };\n    }\n/*\n    function smoothTransform(elem, translate, scale) {\n        var animationMilliseconds = 5000,\n            timeoutMilliseconds = 50,\n            steps = parseInt(animationMilliseconds / timeoutMilliseconds);\n\n        setTimeout(function() {\n            smoothTransformStep(elem, translate, scale, timeoutMilliseconds, 1, steps);\n        }, timeoutMilliseconds);\n    }\n\n    function smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step, steps) {\n        var progress = step / steps;\n\n        elem.attr('transform', 'translate(' + (translate[0] * progress) + ', ' + (translate[1] * progress) + ') scale(' + (scale * progress) + ')');\n\n        if (step < steps) {\n            setTimeout(function() {\n                smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step + 1, steps);\n            }, timeoutMilliseconds);\n        }\n    }\n*/\n    function stickNode(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n    }\n\n    function tick() {\n        tickNodes();\n        tickRelationships();\n    }\n\n    function tickNodes() {\n        if (node) {\n            node.attr('transform', function(d) {\n                return 'translate(' + d.x + ', ' + d.y + ')';\n            });\n        }\n    }\n\n    function tickRelationships() {\n        if (relationship) {\n            relationship.attr('transform', function(d) {\n                var angle = rotation(d.source, d.target);\n                return 'translate(' + d.source.x + ', ' + d.source.y + ') rotate(' + angle + ')';\n            });\n\n            tickRelationshipsTexts();\n            tickRelationshipsOutlines();\n            tickRelationshipsOverlays();\n        }\n    }\n\n    function tickRelationshipsOutlines() {\n        relationship.each(function(relationship) {\n            var rel = d3.select(this),\n                outline = rel.select('.outline'),\n                text = rel.select('.text'),\n                bbox = text.node().getBBox(),\n                padding = 3;\n\n            outline.attr('d', function(d) {\n                var center = { x: 0, y: 0 },\n                    angle = rotation(d.source, d.target),\n                    textBoundingBox = text.node().getBBox(),\n                    textPadding = 5,\n                    u = unitaryVector(d.source, d.target),\n                    textMargin = { x: (d.target.x - d.source.x - (textBoundingBox.width + textPadding) * u.x) * 0.5, y: (d.target.y - d.source.y - (textBoundingBox.width + textPadding) * u.y) * 0.5 },\n                    n = unitaryNormalVector(d.source, d.target),\n                    rotatedPointA1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x - n.x, y: 0 + (options.nodeRadius + 1) * u.y - n.y }, angle),\n                    rotatedPointB1 = rotatePoint(center, { x: textMargin.x - n.x, y: textMargin.y - n.y }, angle),\n                    rotatedPointC1 = rotatePoint(center, { x: textMargin.x, y: textMargin.y }, angle),\n                    rotatedPointD1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x, y: 0 + (options.nodeRadius + 1) * u.y }, angle),\n                    rotatedPointA2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x - n.x, y: d.target.y - d.source.y - textMargin.y - n.y }, angle),\n                    rotatedPointB2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y - u.y * options.arrowSize }, angle),\n                    rotatedPointC2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x + (n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y + (n.y - u.y) * options.arrowSize }, angle),\n                    rotatedPointD2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y }, angle),\n                    rotatedPointE2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x + (- n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y + (- n.y - u.y) * options.arrowSize }, angle),\n                    rotatedPointF2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - u.y * options.arrowSize }, angle),\n                    rotatedPointG2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x, y: d.target.y - d.source.y - textMargin.y }, angle);\n\n                return 'M ' + rotatedPointA1.x + ' ' + rotatedPointA1.y +\n                       ' L ' + rotatedPointB1.x + ' ' + rotatedPointB1.y +\n                       ' L ' + rotatedPointC1.x + ' ' + rotatedPointC1.y +\n                       ' L ' + rotatedPointD1.x + ' ' + rotatedPointD1.y +\n                       ' Z M ' + rotatedPointA2.x + ' ' + rotatedPointA2.y +\n                       ' L ' + rotatedPointB2.x + ' ' + rotatedPointB2.y +\n                       ' L ' + rotatedPointC2.x + ' ' + rotatedPointC2.y +\n                       ' L ' + rotatedPointD2.x + ' ' + rotatedPointD2.y +\n                       ' L ' + rotatedPointE2.x + ' ' + rotatedPointE2.y +\n                       ' L ' + rotatedPointF2.x + ' ' + rotatedPointF2.y +\n                       ' L ' + rotatedPointG2.x + ' ' + rotatedPointG2.y +\n                       ' Z';\n            });\n        });\n    }\n\n    function tickRelationshipsOverlays() {\n        relationshipOverlay.attr('d', function(d) {\n            var center = { x: 0, y: 0 },\n                angle = rotation(d.source, d.target),\n                n1 = unitaryNormalVector(d.source, d.target),\n                n = unitaryNormalVector(d.source, d.target, 50),\n                rotatedPointA = rotatePoint(center, { x: 0 - n.x, y: 0 - n.y }, angle),\n                rotatedPointB = rotatePoint(center, { x: d.target.x - d.source.x - n.x, y: d.target.y - d.source.y - n.y }, angle),\n                rotatedPointC = rotatePoint(center, { x: d.target.x - d.source.x + n.x - n1.x, y: d.target.y - d.source.y + n.y - n1.y }, angle),\n                rotatedPointD = rotatePoint(center, { x: 0 + n.x - n1.x, y: 0 + n.y - n1.y }, angle);\n\n            return 'M ' + rotatedPointA.x + ' ' + rotatedPointA.y +\n                   ' L ' + rotatedPointB.x + ' ' + rotatedPointB.y +\n                   ' L ' + rotatedPointC.x + ' ' + rotatedPointC.y +\n                   ' L ' + rotatedPointD.x + ' ' + rotatedPointD.y +\n                   ' Z';\n        });\n    }\n\n    function tickRelationshipsTexts() { \n        relationshipText.attr('transform', function(d) {\n            var angle = (rotation(d.source, d.target) + 360) % 360,\n                mirror = angle > 90 && angle < 270,\n                center = { x: 0, y: 0 },\n                n = unitaryNormalVector(d.source, d.target),\n                nWeight = mirror ? 2 : -3,\n                point = { x: (d.target.x - d.source.x) * 0.5 + n.x * nWeight, y: (d.target.y - d.source.y) * 0.5 + n.y * nWeight },\n                rotatedPoint = rotatePoint(center, point, angle);\n\n            return 'translate(' + rotatedPoint.x + ', ' + rotatedPoint.y + ')'\n       })\n    }\n\n    function toString(d) {\n        var s = d.labels ? d.labels[0] : d.type;\n\n        s += ' (<id>: ' + d.id;\n\n        Object.keys(d.properties).forEach(function(property) {\n            s += ', ' + property + ': ' + JSON.stringify(d.properties[property]);\n        });\n\n        s += ')';\n\n        return s;\n    }\n\n    function unitaryNormalVector(source, target, newLength) {\n        var center = { x: 0, y: 0 },\n            vector = unitaryVector(source, target, newLength);\n\n        return rotatePoint(center, vector, 90);\n    }\n\n    function unitaryVector(source, target, newLength) {\n        var length = Math.sqrt(Math.pow(target.x - source.x, 2) + Math.pow(target.y - source.y, 2)) / Math.sqrt(newLength || 1);\n\n        return {\n            x: (target.x - source.x) / length,\n            y: (target.y - source.y) / length,\n        };\n    }\n\n    function updateWithD3Data(d3Data) {\n        updateNodesAndRelationships(d3Data.nodes, d3Data.relationships);\n    }\n\n    function updateWithNeo4jData(neo4jData) {\n        var d3Data = neo4jDataToD3Data(neo4jData);\n        updateWithD3Data(d3Data);\n    }\n\n    function updateInfo(d) {\n        clearInfo();\n\n        if (d.labels) {\n            appendInfoElementClass('class', d.labels[0]);\n        } else {\n            appendInfoElementRelationship('class', d.type);\n        }\n\n        appendInfoElementProperty('property', '&lt;id&gt;', d.id);\n\n        Object.keys(d.properties).forEach(function(property) {\n            appendInfoElementProperty('property', property, JSON.stringify(d.properties[property]));\n        });\n    }\n\n    function updateNodes(n) {\n        Array.prototype.push.apply(nodes, n);\n\n        node = svgNodes.selectAll('.node')\n                       .data(nodes, function(d) { return d.id; });\n        var nodeEnter = appendNodeToGraph();\n        node = nodeEnter.merge(node);\n    }\n\n    function updateNodesAndRelationships(n, r) {\n        updateRelationships(r);\n        updateNodes(n);\n\n        simulation.nodes(nodes);\n        simulation.force('link').links(relationships);\n    }\n\n    function updateRelationships(r) {\n        Array.prototype.push.apply(relationships, r);\n\n        relationship = svgRelationships.selectAll('.relationship')\n                                       .data(relationships, function(d) { return d.id; });\n\n        var relationshipEnter = appendRelationshipToGraph();\n\n        relationship = relationshipEnter.relationship.merge(relationship);\n\n        relationshipOutline = svg.selectAll('.relationship .outline');\n        relationshipOutline = relationshipEnter.outline.merge(relationshipOutline);\n\n        relationshipOverlay = svg.selectAll('.relationship .overlay');\n        relationshipOverlay = relationshipEnter.overlay.merge(relationshipOverlay);\n\n        relationshipText = svg.selectAll('.relationship .text');\n        relationshipText = relationshipEnter.text.merge(relationshipText);\n    }\n\n    function version() {\n        return VERSION;\n    }\n\n    function zoomFit(transitionDuration) {\n        var bounds = svg.node().getBBox(),\n            parent = svg.node().parentElement.parentElement,\n            fullWidth = parent.clientWidth,\n            fullHeight = parent.clientHeight,\n            width = bounds.width,\n            height = bounds.height,\n            midX = bounds.x + width / 2,\n            midY = bounds.y + height / 2;\n\n        if (width === 0 || height === 0) {\n            return; // nothing to fit\n        }\n\n        svgScale = 0.85 / Math.max(width / fullWidth, height / fullHeight);\n        svgTranslate = [fullWidth / 2 - svgScale * midX, fullHeight / 2 - svgScale * midY];\n\n        svg.attr('transform', 'translate(' + svgTranslate[0] + ', ' + svgTranslate[1] + ') scale(' + svgScale + ')');\n//        smoothTransform(svgTranslate, svgScale);\n    }\n\n    init(_selector, _options);\n    console.log(\"here\")\n    return {\n        appendRandomDataToNode: appendRandomDataToNode,\n        neo4jDataToD3Data: neo4jDataToD3Data,\n        randomD3Data: randomD3Data,\n        size: size,\n        updateWithD3Data: updateWithD3Data,\n        updateWithNeo4jData: updateWithNeo4jData,\n        version: version\n    };\n}\n\nexport default Neo4jD3;\n"]}]}