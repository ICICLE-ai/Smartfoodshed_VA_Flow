{"remainingRequest":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/utils/KGutils.js","dependencies":[{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/utils/KGutils.js","mtime":1661241118791},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1660324544800},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660324545335},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661232574882}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3FpdXJ1aS9EZXNrdG9wL0lDSUNMRS9uZXdfZ3VpXzIwMjIvU21hcnRmb29kc2hlZF9WQV9GbG93L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3FpdXJ1aS9EZXNrdG9wL0lDSUNMRS9uZXdfZ3VpXzIwMjIvU21hcnRmb29kc2hlZF9WQV9GbG93L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgYXBpQ2xpZW50IH0gZnJvbSAnLi4vYXBpL2FwaUNsaWVudCc7CgpmdW5jdGlvbiBncmFwaERhdGFQYXJzaW5nKG5lbzRqRDNEYXRhT2JqLCBlbnRpdGllc0NvbnRhaW5lciwgcmVsYXRpb25zQ29udGFpbmVyKSB7CiAgdmFyIG5vZGVzID0gbmVvNGpEM0RhdGFPYmoucmVzdWx0c1swXS5kYXRhWzBdLmdyYXBoLm5vZGVzOwogIHZhciByZWxhdGlvbnMgPSBuZW80akQzRGF0YU9iai5yZXN1bHRzWzBdLmRhdGFbMF0uZ3JhcGgucmVsYXRpb25zaGlwczsKICBjb25zb2xlLmxvZygiZ2V0dGluZyBub2RlcyBhbmQgbGlua3MgYmVmb3JlIHBhcnNpbmciKTsgLy8gaW5pdGlhbGl6ZSBlbnRpdGllc0NvbnRhaW5lciBhbmQgcmVsYXRpb25zQ29udGFpbmVyCgogIGVudGl0aWVzQ29udGFpbmVyLnNwbGljZSgwLCBlbnRpdGllc0NvbnRhaW5lci5sZW5ndGgpOwogIHJlbGF0aW9uc0NvbnRhaW5lci5zcGxpY2UoMCwgcmVsYXRpb25zQ29udGFpbmVyLmxlbmd0aCk7CiAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgZW50aXRpZXNDb250YWluZXIucHVzaChub2RlLmlkKTsKICB9KTsKICByZWxhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocmVsYXRpb24pIHsKICAgIHJlbGF0aW9uc0NvbnRhaW5lci5wdXNoKHJlbGF0aW9uLmlkKTsKICB9KTsKfQoKZnVuY3Rpb24gZ3JhcGhOb2RlTGlua1JlbW92YWwoZ3JhcGhEYXRhLCBub2RlSWQpIHsKICB2YXIgbmV3R3JhcGhEYXRhID0gX29iamVjdFNwcmVhZCh7fSwgZ3JhcGhEYXRhKTsKCiAgdmFyIG5vZGVzID0gbmV3R3JhcGhEYXRhLnJlc3VsdHNbMF0uZGF0YVswXS5ncmFwaC5ub2RlczsKICB2YXIgcmVsYXRpb25zID0gbmV3R3JhcGhEYXRhLnJlc3VsdHNbMF0uZGF0YVswXS5ncmFwaC5yZWxhdGlvbnNoaXBzOwoKICBpZiAobm9kZUlkID09IG51bGwpIHsKICAgIGFsZXJ0KCJlbXB0eSBub2RlIGlkIHRvIGJlIHJlbW92ZSIpOwogIH0gLy8gcmVtb3ZlIG5vZGVzCgoKICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAobm9kZXNbaV0uaWQgPT0gbm9kZUlkKSB7CiAgICAgIG5vZGVzLnNwbGljZShpLCAxKTsgLy8gYXNzdW1lIG5vIGR1cGxpY2F0ZSBub2RlcwoKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICB2YXIgcmVsYXRpb25SZW1haW5pbmcgPSBbXTsKCiAgZm9yICh2YXIgaiA9IDA7IGogPCByZWxhdGlvbnMubGVuZ3RoOyBqKyspIHsKICAgIGlmIChyZWxhdGlvbnNbal0uc3RhcnROb2RlID09IG5vZGVJZCB8fCByZWxhdGlvbnNbal0uZW5kTm9kZSA9PSBub2RlSWQpIHsKICAgICAgY29uc29sZS5sb2coIlJFTU9WRUQhIC0gc3Rhck5vZGU6ICIgKyByZWxhdGlvbnNbal0uc3RhcnROb2RlICsgIiwgZW5kTm9kZTogIiArIHJlbGF0aW9uc1tqXS5lbmROb2RlKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlbGF0aW9uUmVtYWluaW5nLnB1c2gocmVsYXRpb25zW2pdKTsKICAgIH0KICB9CgogIG5ld0dyYXBoRGF0YS5yZXN1bHRzWzBdLmRhdGFbMF0uZ3JhcGgucmVsYXRpb25zaGlwcyA9IHJlbGF0aW9uUmVtYWluaW5nOwogIHJldHVybiBuZXdHcmFwaERhdGE7Cn0KCmZ1bmN0aW9uIGdyYXBoTm9kZUxpbmtFeHBhbmQoX3gsIF94MiwgX3gzLCBfeDQpIHsKICByZXR1cm4gX2dyYXBoTm9kZUxpbmtFeHBhbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dyYXBoTm9kZUxpbmtFeHBhbmQoKSB7CiAgX2dyYXBoTm9kZUxpbmtFeHBhbmQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZ3JhcGhEYXRhLCBub2RlSWQsIHJlbGF0aW9uLCB0aHJlc2hvbGQpIHsKICAgIHZhciBuZXdHcmFwaERhdGEsIG5vZGVzLCByZWxhdGlvbnMsIG5vZGVMaXN0LCByZWxhdGlvbkxpc3QsIHBhc3NpbmdEYXRhLCB1cGRhdGVkR3JhcGhEYXRhOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBuZXdHcmFwaERhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBncmFwaERhdGEpOwogICAgICAgICAgICBub2RlcyA9IG5ld0dyYXBoRGF0YS5yZXN1bHRzWzBdLmRhdGFbMF0uZ3JhcGgubm9kZXM7CiAgICAgICAgICAgIHJlbGF0aW9ucyA9IG5ld0dyYXBoRGF0YS5yZXN1bHRzWzBdLmRhdGFbMF0uZ3JhcGgucmVsYXRpb25zaGlwczsKICAgICAgICAgICAgbm9kZUxpc3QgPSBbXTsKICAgICAgICAgICAgcmVsYXRpb25MaXN0ID0gW107CiAgICAgICAgICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKG5vZGUuaWQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVsYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHJlbGF0aW9uKSB7CiAgICAgICAgICAgICAgcmVsYXRpb25MaXN0LnB1c2gocmVsYXRpb24uaWQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcGFzc2luZ0RhdGEgPSB7CiAgICAgICAgICAgICAgbm9kZXM6IG5vZGVMaXN0LAogICAgICAgICAgICAgIHJlbGF0aW9uczogcmVsYXRpb25MaXN0LAogICAgICAgICAgICAgIGV4cGFuZF9ub2RlOiBub2RlSWQsCiAgICAgICAgICAgICAgcmVsYXRpb25zaGlwX25hbWU6IHJlbGF0aW9uLAogICAgICAgICAgICAgIHRocmVzaG9sZDogdGhyZXNob2xkCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgcmV0dXJuIGFwaUNsaWVudCgiL2V4cGFuZE5vZGVXaXRoUiIsIHBhc3NpbmdEYXRhKTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICB1cGRhdGVkR3JhcGhEYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2codXBkYXRlZEdyYXBoRGF0YSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHVwZGF0ZWRHcmFwaERhdGEpOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfZ3JhcGhOb2RlTGlua0V4cGFuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiByZXRyaWV2ZU5vZGVMaW5rV2l0aFR5cGUoX3g1LCBfeDYpIHsKICByZXR1cm4gX3JldHJpZXZlTm9kZUxpbmtXaXRoVHlwZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfcmV0cmlldmVOb2RlTGlua1dpdGhUeXBlKCkgewogIF9yZXRyaWV2ZU5vZGVMaW5rV2l0aFR5cGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGVudGl0eV90eXBlLCByZWxhdGlvbnNoaXBfdHlwZSkgewogICAgdmFyIGRhdGEsIHBhdGgsIHVwZGF0ZWRHcmFwaERhdGE7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAocmVsYXRpb25zaGlwX3R5cGUubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICBwYXRoID0gImdldEd3aXRoRW50aXR5VHlwZSI7CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICJlbnRpdHlfdHlwZSI6IGVudGl0eV90eXBlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwYXRoID0gImdldEd3aXRoUmVsYXRpb25zaGlwVHlwZSI7CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICJyZWxhdGlvbnNoaXBfdHlwZSI6IHJlbGF0aW9uc2hpcF90eXBlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coZW50aXR5X3R5cGUpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZWxhdGlvbnNoaXBfdHlwZSk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGFwaUNMaWVudChwYXRoLCBkYXRhKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHVwZGF0ZWRHcmFwaERhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2codXBkYXRlZEdyYXBoRGF0YSk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB1cGRhdGVkR3JhcGhEYXRhKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9yZXRyaWV2ZU5vZGVMaW5rV2l0aFR5cGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2VuZXJhdGlvbkVudGl0eVJlbGF0aW9ucyhpdGVtcykgewogIHZhciBub2RlcyA9IFtdOwogIHZhciByZWxhdGlvbnMgPSBbXTsKICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbS5yZWxhdGlvbl9pZCAhPSBudWxsKSB7CiAgICAgIHJlbGF0aW9ucy5wdXNoKGl0ZW0ucmVsYXRpb25faWQpOwogICAgfSBlbHNlIGlmIChpdGVtLmlkICE9IG51bGwpIHsKICAgICAgbm9kZXMucHVzaChpdGVtLmlkKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCJFcnJvciwgaXRlbSBkb2Vzbid0IGhhdmUgaWQgb3IgcmVsYXRpb25faWQiKTsKICAgIH0KICB9KTsKICByZXR1cm4gewogICAgbm9kZXM6IG5vZGVzLAogICAgcmVsYXRpb25zOiByZWxhdGlvbnMKICB9Owp9CgpmdW5jdGlvbiByZXRyaWV2ZUdyYXBoRnJvbVRhYmxlKF94NykgewogIHJldHVybiBfcmV0cmlldmVHcmFwaEZyb21UYWJsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfcmV0cmlldmVHcmFwaEZyb21UYWJsZSgpIHsKICBfcmV0cmlldmVHcmFwaEZyb21UYWJsZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocXVlcnlEYXRhKSB7CiAgICB2YXIgcmVzdWx0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCFxdWVyeURhdGEpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGFwaUNsaWVudC5wb3N0KCcvcmV0cmlldmVTdWJncmFwaCcsIHF1ZXJ5RGF0YSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudC5kYXRhOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzKTsKICB9KSk7CiAgcmV0dXJuIF9yZXRyaWV2ZUdyYXBoRnJvbVRhYmxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCB7IGdyYXBoRGF0YVBhcnNpbmcsIGdyYXBoTm9kZUxpbmtSZW1vdmFsLCBncmFwaE5vZGVMaW5rRXhwYW5kLCByZXRyaWV2ZU5vZGVMaW5rV2l0aFR5cGUsIGdlbmVyYXRpb25FbnRpdHlSZWxhdGlvbnMsIHJldHJpZXZlR3JhcGhGcm9tVGFibGUgfTs="},{"version":3,"sources":["/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/utils/KGutils.js"],"names":["apiClient","graphDataParsing","neo4jD3DataObj","entitiesContainer","relationsContainer","nodes","results","data","graph","relations","relationships","console","log","splice","length","forEach","node","push","id","relation","graphNodeLinkRemoval","graphData","nodeId","newGraphData","alert","i","relationRemaining","j","startNode","endNode","graphNodeLinkExpand","threshold","nodeList","relationList","passingData","expand_node","relationship_name","updatedGraphData","retrieveNodeLinkWithType","entity_type","relationship_type","path","apiCLient","generationEntityRelations","items","item","relation_id","retrieveGraphFromTable","queryData","post","result"],"mappings":"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","sourcesContent":["import { apiClient } from '../api/apiClient'\n\n\nfunction graphDataParsing(neo4jD3DataObj, entitiesContainer, relationsContainer) {\n\n    const nodes = neo4jD3DataObj.results[0].data[0].graph.nodes \n    const relations = neo4jD3DataObj.results[0].data[0].graph.relationships \n    console.log(\"getting nodes and links before parsing\")\n    // initialize entitiesContainer and relationsContainer\n   entitiesContainer.splice(0, entitiesContainer.length)\n   relationsContainer.splice(0, relationsContainer.length)\n\n   nodes.forEach(node => {\n       entitiesContainer.push(node.id)\n   })\n   relations.forEach(relation => {\n        relationsContainer.push(relation.id)\n   })\n}\n\nfunction graphNodeLinkRemoval(graphData, nodeId) { \n\n    const newGraphData = {...graphData}\n    const nodes = newGraphData.results[0].data[0].graph.nodes \n    const relations = newGraphData.results[0].data[0].graph.relationships  \n    if (nodeId == null) {\n        alert(\"empty node id to be remove\")\n    }\n    // remove nodes\n    for(let i = 0; i < nodes.length; i++){\n        if(nodes[i].id == nodeId){\n            nodes.splice(i, 1)\n            // assume no duplicate nodes\n            break\n        }\n    }\n    const relationRemaining = []\n    for(let j = 0; j < relations.length; j++){\n        \n        if(relations[j].startNode == nodeId || relations[j].endNode == nodeId){\n            console.log(\"REMOVED! - starNode: \" + relations[j].startNode + \", endNode: \" + relations[j].endNode)\n        }else{\n            relationRemaining.push(relations[j])\n        }\n    }\n    newGraphData.results[0].data[0].graph.relationships = relationRemaining \n    return newGraphData\n}\n\nasync function graphNodeLinkExpand(graphData, nodeId, relation, threshold) { \n    const newGraphData = {...graphData}\n    const nodes = newGraphData.results[0].data[0].graph.nodes \n    const relations = newGraphData.results[0].data[0].graph.relationships  \n    const nodeList = [] \n    const relationList = [] \n    nodes.forEach(node => {\n        nodeList.push(node.id)\n    })\n    relations.forEach(relation => {\n        relationList.push(relation.id)\n    })\n    \n    const passingData = {nodes: nodeList, relations: relationList, expand_node: nodeId, relationship_name:relation, threshold: threshold}\n    const updatedGraphData = await apiClient(\"/expandNodeWithR\", passingData)\n    console.log(updatedGraphData)\n    return updatedGraphData\n}\n\nasync function retrieveNodeLinkWithType(entity_type, relationship_type) { \n    let data; \n    let path; \n    if(relationship_type.length == 0){\n        path = \"getGwithEntityType\"\n        data = {\"entity_type\":entity_type}\n    } else {\n        path = \"getGwithRelationshipType\"\n        data = {\"relationship_type\":relationship_type}\n    }\n    console.log(entity_type) \n    console.log(relationship_type)\n    const updatedGraphData = await apiCLient(path, data)\n    console.log(updatedGraphData)\n    return updatedGraphData\n}\n\nfunction generationEntityRelations(items){\n    let nodes = []\n    let relations = [] \n    items.forEach(item => {\n        if(item.relation_id != null){\n            relations.push(item.relation_id)\n        }else if(item.id != null) {\n            nodes.push(item.id)\n        }else{\n            console.log(\"Error, item doesn't have id or relation_id\")\n        }\n    })\n    return {nodes, relations}\n}\n\nasync function retrieveGraphFromTable(queryData) {\n    if (queryData) {\n        const result = ((await apiClient.post('/retrieveSubgraph',queryData))).data\n        console.log(result)\n        return result\n    }\n    return null\n}\n\nexport {graphDataParsing, graphNodeLinkRemoval, graphNodeLinkExpand, retrieveNodeLinkWithType, generationEntityRelations, retrieveGraphFromTable}"]}]}