{"remainingRequest":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/babel-loader@8.2.5_5ouqwanl7jnotevpn4w6qovjqm/node_modules/babel-loader/lib/index.js!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/components/OntologyComp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/components/OntologyComp.vue","mtime":1660325132782},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1660324544800},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1660324597580},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/babel-loader@8.2.5_5ouqwanl7jnotevpn4w6qovjqm/node_modules/babel-loader/lib/index.js","mtime":1660324598487},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1660324597580},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/.pnpm/vue-loader@15.10.0_rm23m4wqnartkrat7nvkqiuwja/node_modules/vue-loader/lib/index.js","mtime":1660324597951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFJpZ2h0Q2xpY2tNZW51IGZyb20gJ0AvY29tcG9uZW50cy9SaWdodENsaWNrTWVudSc7CmltcG9ydCBPbnRvbG9neUxvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvT250b2xvZ3lMb2FkZXInOwppbXBvcnQgKiBhcyBOZW80amQzIGZyb20gJ0AvanMvTmVvNGpEMyc7CmltcG9ydCBJbm91dHB1dEJ0bnMgZnJvbSAnQC9jb21wb25lbnRzL0lub3V0cHV0QnRucyc7CmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0ICogYXMgZDN0aXAgZnJvbSAnQC91dGlscy9kMy10aXAnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnaXRlbVByb3BzJ10sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbml0aWFsWDogdW5kZWZpbmVkLAogICAgICBpbml0aWFsWTogdW5kZWZpbmVkLAogICAgICBkYXRhU3RhdHVzOiB1bmRlZmluZWQsCiAgICAgIHJlc2l6ZVg6IHVuZGVmaW5lZCwKICAgICAgcmVzaXplWTogdW5kZWZpbmVkLAogICAgICAvLyBkcmFnZ2FibGU6IHRydWUsCiAgICAgIHdpZHRoOiA1MDAsCiAgICAgIGhlaWdodDogNTAwLAogICAgICByZXNpemVXaWR0aDogMCwKICAgICAgLy8KICAgICAgcmVzaXplSGVpZ2h0OiAwLAogICAgICBtYXJnaW5Ub3A6IDAsCiAgICAgIG1hcmdpbkxlZnQ6IDAsCiAgICAgIHRvcE1hcmdpbjogd2luZG93LmlubmVySGVpZ2h0IC8gMiwKICAgICAgbGVmdE1hcmdpbjogd2luZG93LmlubmVyV2lkdGggLyAyLAogICAgICByZXNpemluZ1N0YXR1czogZmFsc2UsCiAgICAgIHNob3dSaWdodENsaWNrTWVudTogZmFsc2UsCiAgICAgIHJpZ2h0TWVudVg6IDAsCiAgICAgIHJpZ2h0TWVudVk6IDAsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHRpdGxlOiAnUmVtb3ZlIG5vZGUnCiAgICAgIH1dLAogICAgICBjb250YWluZXI6ICcuZ2xvYmFsdmlldy1jb21wb25lbnRzLWxpc3QnLAogICAgICByaWdodEJ0bjogdHJ1ZSwKICAgICAgdG9wQnRuOiBmYWxzZSwKICAgICAgbGVmdEJ0bjogZmFsc2UsCiAgICAgIGxvYWRpbmdTdGF0dXM6IGZhbHNlLAogICAgICBvbk9wZXJhdGlvbjogZmFsc2UsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIG9udG9sb2d5RGF0YTogbnVsbCwKICAgICAgY29udGV4dENvbW1hbmRzOiBbewogICAgICAgIGljb246ICJtZGktY29nLW91dGxpbmUiLAogICAgICAgIGNvbW1hbmQ6ICJTZWxlY3QgT250b2xvZ3kiCiAgICAgIH1dLAogICAgICAvLyBjb2xvcnM6IFsiIzU0MzAwNSIsICIjOGM1MTBhIiwgIiNiZjgxMmQiLCAiI2RmYzI3ZCIsICIjZjZlOGMzIiwiI2Y1ZjVmNSIsIiNjN2VhZTUiLCIjODBjZGMxIiwiIzM1OTc4ZiIsIiMwMTY2NWUiLCIjMDAzYzMwIl0sIAogICAgICBjb2xvcnM6IFsnI2E2Y2VlMycsICcjMWY3OGI0JywgJyNiMmRmOGEnLCAnIzMzYTAyYycsICcjZmI5YTk5JywgJyNlMzFhMWMnLCAnI2ZkYmY2ZicsICcjZmY3ZjAwJywgJyNjYWIyZDYnLCAnIzZhM2Q5YScsICcjZmZmZjk5JywgJyNiMTU5MjgnXQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjYXJkRG91YmxlQ2xpY2soKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgY29udGV4dEJ1dHRvbkNsaWNrZWQoYnV0dG9uKSB7CiAgICAgIGlmIChidXR0b24gPT0gIlNlbGVjdCBPbnRvbG9neSIpIHsKICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgZHJhZ1Byb3h5KGUpIHsKICAgICAgdGhpcy5kcmFnU3RhcnRIYW5kbGVyKGUpOwogICAgfSwKCiAgICBkcmFnU3RhcnQoZSkgewogICAgICAvLyBpZighdGhpcy5pbml0aWFsWCl7CiAgICAgIC8vICAgdGhpcy5pbml0aWFsWCA9IGUuY2xpZW50WDsgCiAgICAgIC8vICAgdGhpcy5pbml0aWFsWSA9IGUuY2xpZW50WTsKICAgICAgLy8gfQogICAgICAvLyBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdpdGVtLWlkJywgZS50YXJnZXQuaWQpOwogICAgICAvLyBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdpbml0aWFsWCcsIHRoaXMuaW5pdGlhbFgpOwogICAgICAvLyBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdpbml0aWFsWScsIHRoaXMuaW5pdGlhbFkpOwogICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2UudGFyZ2V0LmlkfWApOwogICAgICBjb25zdCBpbml0aWFsTGVmdCA9IHBhcnNlSW50KGVsLnN0eWxlLmxlZnQuc3BsaXQoJ3B4JylbMF0pIC0gZS5jbGllbnRYOwogICAgICBjb25zdCBpbml0aWFsVG9wID0gcGFyc2VJbnQoZWwuc3R5bGUudG9wLnNwbGl0KCdweCcpWzBdKSAtIGUuY2xpZW50WTsKICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnaXRlbS1pZCcsIGUudGFyZ2V0LmlkKTsKICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnaW5pdGlhbExlZnQnLCBpbml0aWFsTGVmdCk7CiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2luaXRpYWxUb3AnLCBpbml0aWFsVG9wKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUN1cnJlbnREcmFnZ2luZ1ZNJywgdGhpcyk7CiAgICB9LAoKICAgIGFkZExpbmsoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VMaW5rRHJhd2luZ1N0YXR1cycsIHRydWUpOwogICAgfSwKCiAgICBmaW5pc2hMaW5rKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhbmdlTGlua0RyYXdpbmdTdGF0dXMnLCBmYWxzZSk7CiAgICB9LAoKICAgIC8vIEhhbmRsZXIgZm9yIGRpdiByZXNpemluZwogICAgbW91c2VEb3duSGFuZGxlcihlKSB7CiAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VSZXNpemVyU3RhdHVzJywgdHJ1ZSk7CiAgICAgIHRoaXMucmVzaXplWCA9IGUuY2xpZW50WDsKICAgICAgdGhpcy5yZXNpemVZID0gZS5jbGllbnRZOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwSGFuZGxlcik7CiAgICAgIHRoaXMucmVzaXppbmdTdGF0dXMgPSB0cnVlOwogICAgfSwKCiAgICAvLyBIYW5kbGVyIGZvciBtb3ZpbmcgbW91c2UgdG8gcmVzaXplIAogICAgbW91c2VNb3ZlSGFuZGxlcihlKSB7CiAgICAgIGNvbnN0IGR4ID0gZS5jbGllbnRYIC0gdGhpcy5yZXNpemVYOwogICAgICBjb25zdCBkeSA9IGUuY2xpZW50WSAtIHRoaXMucmVzaXplWTsKICAgICAgdGhpcy53aWR0aCA9IHRoaXMucmVzaXplV2lkdGggKyBkeDsKICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJlc2l6ZUhlaWdodCArIGR5OwogICAgfSwKCiAgICAvLyBIYW5kbGVyIGZvciBtb3VzZSB1cCBhbmQgcmVtb3ZlIHRoZSBFdmVudExpc3RlbmVyCiAgICBtb3VzZVVwSGFuZGxlcihlKSB7CiAgICAgIHRoaXMucmVzaXplV2lkdGggPSB0aGlzLndpZHRoOwogICAgICB0aGlzLnJlc2l6ZUhlaWdodCA9IHRoaXMuaGVpZ2h0OwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwSGFuZGxlcik7CiAgICAgIHRoaXMucmVzaXppbmdTdGF0dXMgPSBmYWxzZTsgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZVJlc2l6ZXJTdGF0dXMnLCBmYWxzZSkKICAgIH0sCgogICAgcmlnaHRDbGlja01lbnVTaG93KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLnNob3dSaWdodENsaWNrTWVudSA9IHRydWU7CiAgICAgIHRoaXMucmlnaHRNZW51WCA9IGUuY2xpZW50WDsKICAgICAgdGhpcy5yaWdodE1lbnVZID0gZS5jbGllbnRZOwogICAgfSwKCiAgICBsb2FkZXJBY3Rpb24oZSkgewogICAgICBpZiAoZS5zdGF0dXMgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgZGVsZXRlIGUuc3RhdHVzOwogICAgICAgIGUuc2VsZWN0ZWQuY2FyZElkID0gdGhpcy5pdGVtUHJvcHMuaWQ7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ29udG9sb2d5L2FkZE9udG9sb2d5JywgZS5zZWxlY3RlZCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICB9LAoKICAgIGRyYXdOZW80amQzKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coInN0YXJ0IGRyYXcgb250b2xvZ3khISEiKTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIGNvbnNvbGUubG9nKGBvbnRvbG9neXZpZXctY2FudmFzLSR7dGhpcy5pdGVtUHJvcHMuaWR9YCk7CiAgICAgIHZhciBlbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjb250b2xvZ3l2aWV3LWNhbnZhcy0ke3RoaXMuaXRlbVByb3BzLmlkfWApOwogICAgICBjb25zb2xlLmxvZyhlbGUpOwogICAgICBsZXQgbmVvNGpkMyA9IE5lbzRqZDMuZGVmYXVsdChgI29udG9sb2d5dmlldy1jYW52YXMtJHt0aGlzLml0ZW1Qcm9wcy5pZH1gLCB7CiAgICAgICAgbmVvNGpEYXRhOiBkYXRhLAogICAgICAgIG5vZGVSYWRpdXM6IDMwLAogICAgICAgIGluZm9QYW5lbDogZmFsc2UKICAgICAgfSk7CiAgICB9LAoKICAgIGRvdWJsZUNsaWNrVG9Mb2FkKCkgewogICAgICBpZiAoIXRoaXMuZGF0YVN0YXR1cykgewogICAgICAgIHRoaXMuY2FyZERvdWJsZUNsaWNrKCk7CiAgICAgIH0KICAgIH0sCgogICAgZHJhdygpIHsKICAgICAgaWYgKCF0aGlzLml0ZW1Qcm9wcy52aXNfdHNuZSkgewogICAgICAgIGFsZXJ0KCdObyB2aXMgZGF0YSBidXQgc3RpbGwgdHJpZ2dlcmVkISBjaGVjayBHTG9iYWxWaWV3Q29tcC52dWUnKTsKICAgICAgfQoKICAgICAgbGV0IHRpcCA9IGQzdGlwKCkuYXR0cignY2xhc3MnLCAnZDMtdGlwJykub2Zmc2V0KFstMTAsIDBdKS5odG1sKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICI8c3Ryb25nPlRpdGxlOiA8L3N0cm9uZz48c3BhbiBjbGFzcz0nZGV0YWlscyc+IiArIGQudGl0bGUgKyAiPGJyPjwvc3Bhbj4iOwogICAgICB9KTsKICAgICAgbGV0IHZpc0RhdGEgPSB0aGlzLml0ZW1Qcm9wcy52aXNfdHNuZS50c25lLmRhdGE7CiAgICAgIGxldCB2aXNBcmVhID0gdGhpcy5pdGVtUHJvcHMudmlzX3RzbmUudHNuZS5hcmVhOwogICAgICBjb25zb2xlLmxvZygncHJpbnQgdmlzIGRhdGEnKTsKICAgICAgY29uc29sZS5sb2codmlzRGF0YSk7CiAgICAgIGNvbnNvbGUubG9nKCdwcmludCB2aXMgYXJlYScpOwogICAgICBjb25zb2xlLmxvZyh2aXNBcmVhKTsKICAgICAgY29uc3QgY2FudmFzQ29udGFpbmVyID0gZDMuc2VsZWN0KGAuZ2xvYmFsdmlldy1jYW52YXMtJHt0aGlzLml0ZW1Qcm9wcy5pZH1gKTsKICAgICAgY29uc3QgY2FudmFzR3JvdXAgPSBjYW52YXNDb250YWluZXIuc2VsZWN0QWxsKCdnJykuZGF0YShbMF0pOwogICAgICBjb25zdCBjYW52YXNFbnRlciA9IGNhbnZhc0dyb3VwLmVudGVyKCkuYXBwZW5kKCdnJyk7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc0dyb3VwLm1lcmdlKGNhbnZhc0VudGVyKTsKICAgICAgY29uc3QgY2xhc3NDb2xvcnMgPSB0aGlzLmNvbG9yczsKICAgICAgY29uc3QgYXJlYUxpbmUgPSBkMy5saW5lKCkueChkID0+IGRbMF0pLnkoZCA9PiBkWzFdKS5jdXJ2ZShkMy5jdXJ2ZUNhdG11bGxSb21DbG9zZWQpOwogICAgICBjb25zb2xlLmxvZyhjbGFzc0NvbG9ycyk7CiAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aDsKICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIGNvbnN0IHhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKGQzLmV4dGVudCh2aXNEYXRhLCBkID0+IGQuZW1iZWRkaW5nWzBdKSkucmFuZ2UoWzAsIHdpZHRoXSk7CiAgICAgIGNvbnN0IHlTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKGQzLmV4dGVudCh2aXNEYXRhLCBkID0+IGQuZW1iZWRkaW5nWzFdKSkucmFuZ2UoWzAsIGhlaWdodF0pOwogICAgICBjb25zdCBoID0gY2FudmFzLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNzIiwgInBvbHlodWxsLTAxIikuc3R5bGUoInN0cm9rZSIsICJncmF5Iikuc3R5bGUoInN0cm9rZS13aWR0aCIsICIzcHgiKS5zdHlsZSgiZmlsbC1vcGFjaXR5IiwgIjAuMyIpLnN0eWxlKCJmaWxsIiwgImxpZ2h0Ymx1ZSIpOwogICAgICBjb25zdCBjaXJjbGVHcm91cCA9IGNhbnZhcy5zZWxlY3RBbGwoJ2NpcmNsZScpLmRhdGEodmlzRGF0YSk7IC8vCgogICAgICBjb25zdCBjaXJjbGVHcm91cEVudGVyID0gY2lyY2xlR3JvdXAuZW50ZXIoKS5hcHBlbmQoJ2NpcmNsZScpOwogICAgICBjaXJjbGVHcm91cEVudGVyLm1lcmdlKGNpcmNsZUdyb3VwKS5hdHRyKCdjeCcsIGQgPT4geFNjYWxlKGQuZW1iZWRkaW5nWzBdKSkuYXR0cignY3knLCBkID0+IHlTY2FsZShkLmVtYmVkZGluZ1sxXSkpLmF0dHIoJ3InLCBkID0+IHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfSkuYXR0cignZmlsbCcsIGQgPT4gewogICAgICAgIC8vIGlmKGRbJ3FfMSddKXsKICAgICAgICAvLyAgIHJldHVybiBjbGFzc0NvbG9yc1s1XQogICAgICAgIC8vIH0KICAgICAgICAvLyBpZihkWydxXzE3J10pewogICAgICAgIC8vICAgcmV0dXJuIGNsYXNzQ29sb3JzWzZdCiAgICAgICAgLy8gfQogICAgICAgIHJldHVybiAnc3RlZWxibHVlJzsKICAgICAgfSkub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgdGlwLnNob3coZCk7CiAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3InLCAxLjUpLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKTsKICAgICAgfSkub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHsKICAgICAgICB0aXAuaGlkZShkKTsKICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cigncicsIDEpLnN0eWxlKCdzdHJva2UnLCBudWxsKTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiB6b29tZWQoKSB7CiAgICAgICAgY29uc29sZS5sb2coMTExKTsKICAgICAgICBjb25zdCB7CiAgICAgICAgICB0cmFuc2Zvcm0KICAgICAgICB9ID0gZDMuZXZlbnQ7CiAgICAgICAgY2FudmFzLmF0dHIoInRyYW5zZm9ybSIsIHRyYW5zZm9ybSk7CiAgICAgIH0KCiAgICAgIGNhbnZhc0NvbnRhaW5lci5vbignZGJsY2xpY2snLCAoKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coMTExKTsKICAgICAgICBjYW52YXNDb250YWluZXIuY2FsbChkMy56b29tKCkuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pLnNjYWxlRXh0ZW50KFsxLCA4XSkub24oInpvb20iLCB6b29tZWQpKTsKICAgICAgICBjYW52YXNDb250YWluZXIuc3R5bGUoJ2JvcmRlcicsICcxcHggc29saWQgcmVkJyk7CiAgICAgIH0pOwogICAgICBjYW52YXNDb250YWluZXIub24oJ21vdXNlbGVhdmUnLCAoKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ21vdXNlb3V0Jyk7CiAgICAgICAgY29uc29sZS5sb2coY2FudmFzQ29udGFpbmVyKTsKICAgICAgICBjYW52YXNDb250YWluZXIub24oJy56b29tJywgbnVsbCk7CiAgICAgICAgY2FudmFzQ29udGFpbmVyLnN0eWxlKCdib3JkZXInLCBudWxsKTsKICAgICAgfSk7IC8vIGNhbnZhc0NvbnRhaW5lci5jYWxsKGQzLnpvb20oKQogICAgICAvLyAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSkKICAgICAgLy8gICAuc2NhbGVFeHRlbnQoWzEsIDhdKQogICAgICAvLyAgIC5vbigiem9vbSIsIHpvb21lZCkpOwoKICAgICAgY2FudmFzQ29udGFpbmVyLmNhbGwodGlwKTsKICAgICAgY29uc3QgcG9pbnRzVGVtcCA9IHZpc0RhdGEuc2xpY2UoMTAwMCwgMTAxMCk7IC8vIGNvbnNvbGUubG9nKCJDaGVjayBIZXJlISIpOwogICAgICAvLyBjb25zb2xlLmxvZyhwb2ludHNUZW1wKTsKCiAgICAgIGNvbnN0IGh1bGxDdXJ2ZSA9IGh1bGwocG9pbnRzVGVtcC5tYXAob2JqID0+IFt4U2NhbGUob2JqLmVtYmVkZGluZ1swXSksIHlTY2FsZShvYmouZW1iZWRkaW5nWzFdKV0pKTsKICAgICAgaC5hdHRyKCJkIiwgYE0ke2h1bGxDdXJ2ZS5qb2luKCJMIil9WmApOwoKICAgICAgZnVuY3Rpb24gaHVsbChwb2ludHMpIHsKICAgICAgICAvLyBObyBzZW5zZSBpbiByZW5kZXJpbmcgYSBodWxsIGZvciBmZXdlciB0aGFuIHR3byBwb2ludHMKICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDIpIHJldHVybjsgLy8gcG9seWdvbkh1bGwgc2VlbXMgdG8gcmVxdWlyZSBhIG1pbmltdW0gb2YgdGhyZWUgcG9pbnRzLCBidXQgd29ya3MKICAgICAgICAvLyBqdXN0IGZpbmUgaWYgdHdvIG9mIHRoZSBwb2ludHMgYXJlIGlkZW50aWNhbCwgc28gd2UgY2FuIHBhdGNoIG92ZXIKICAgICAgICAvLyB0aGUgcHJvYmxlbSBvZiBhIHR3byBwb2ludCBjbHVzdGVyIGJ5IGR1cGxpY2F0aW5nIHRoZSBmaXJzdCBwb2ludC4KCiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAzKSByZXR1cm4gZDMucG9seWdvbkh1bGwoW3BvaW50c1swXSwgLi4ucG9pbnRzXSk7CiAgICAgICAgcmV0dXJuIGQzLnBvbHlnb25IdWxsKHBvaW50cyk7CiAgICAgIH0KICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIC8vIEluaXRpYWxpemUgaW5pdGlhbCBwb3NpdGlvbgogICAgdGhpcy5tYXJnaW5Ub3AgPSB0aGlzLnRvcE1hcmdpbiAtIHRoaXMuaGVpZ2h0IC8gMjsKICAgIHRoaXMubWFyZ2luTGVmdCA9IHRoaXMubGVmdE1hcmdpbiAtIHRoaXMud2lkdGggLyAyOyAvLyBJbml0aWFsaXplIHJlc2l6ZVdpZHRoIGFuZCByZXNpemVIZWlnaHQKCiAgICB0aGlzLnJlc2l6ZVdpZHRoID0gdGhpcy53aWR0aDsKICAgIHRoaXMucmVzaXplSGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwU3RhdGUoWydkcmF3TGluaycsICdyZXNpemVyJ10pLAoKICAgIGRyYWdnYWJsZSgpIHsKICAgICAgcmV0dXJuICEodGhpcy5kcmF3TGluayB8fCB0aGlzLnJlc2l6aW5nU3RhdHVzKTsKICAgIH0KCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSaWdodENsaWNrTWVudSwKICAgIElub3V0cHV0QnRucywKICAgIE9udG9sb2d5TG9hZGVyCiAgfSwKICB3YXRjaDogewogICAgJ2l0ZW1Qcm9wcy5kYXRhJzogZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICB0aGlzLmxvYWRpbmdTdGF0dXMgPSB0cnVlOwogICAgICAgIHRoaXMuZGF0YVN0YXR1cyA9IHRydWU7IC8vIG1lYW5zIGxvYWRpbmcgCgogICAgICAgIHRoaXMubG9hZGluZ1N0YXR1cyA9IGZhbHNlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMuZHJhd05lbzRqZDModGhpcy5pdGVtUHJvcHMuZGF0YS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvYWRpbmdTdGF0dXMgPSBmYWxzZTsKICAgICAgICB0aGlzLmRhdGFTdGF0dXMgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vICdpdGVtUHJvcHMudmlzX3RzbmUnOiBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCl7CiAgICAvLyAgIGNvbnNvbGUubG9nKCd2aXNEYXRhIG5ld1ZhbCwgb2xkVmFsJyk7IC8vCiAgICAvLyAgIGNvbnNvbGUubG9nKG5ld1ZhbCk7IC8vCiAgICAvLyAgIGNvbnNvbGUubG9nKG9sZFZhbCk7CiAgICAvLyAgIGlmKG5ld1ZhbCAmJiBuZXdWYWwudHNuZSl7CiAgICAvLyAgICAgdGhpcy5sb2FkaW5nU3RhdHVzID0gZmFsc2UKICAgIC8vICAgICB0aGlzLmRhdGFTdGF0dXMgPSB0cnVlIC8vIG5vIGxvbmdlciBsb2FkaW5nCiAgICAvLyAgICAgY29uc29sZS5sb2coJ2hlcmUnKQogICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YVN0YXR1cyk7CiAgICAvLyAgICAgdGhpcy5kcmF3KCk7CiAgICAvLyAgIH1lbHNlewogICAgLy8gICAgIHRoaXMubG9hZGluZ1N0YXR1cyA9IGZhbHNlCiAgICAvLyAgICAgdGhpcy5kYXRhU3RhdHVzID0gZmFsc2U7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICB3aWR0aDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5pdGVtUHJvcHMuZGF0YSkgewogICAgICAgIGQzLnNlbGVjdCgnLm5lbzRqZDMtZ3JhcGgnKS5yZW1vdmUoKTsKICAgICAgICB0aGlzLmRyYXdOZW80amQzKHRoaXMuaXRlbVByb3BzLmRhdGEuZGF0YSk7CiAgICAgIH0KICAgIH0sCiAgICBoZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuaXRlbVByb3BzLmRhdGEpIHsKICAgICAgICBkMy5zZWxlY3QoJy5uZW80amQzLWdyYXBoJykucmVtb3ZlKCk7CiAgICAgICAgdGhpcy5kcmF3TmVvNGpkMyh0aGlzLml0ZW1Qcm9wcy5kYXRhLmRhdGEpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA,QACA,WADA,CADA;;EAIAC;IACA;MACAC,mBADA;MAEAC,mBAFA;MAGAC,qBAHA;MAIAC,kBAJA;MAKAC,kBALA;MAMA;MACAC,UAPA;MAQAC,WARA;MASAC,cATA;MASA;MACAC,eAVA;MAWAC,YAXA;MAYAC,aAZA;MAaAC,iCAbA;MAcAC,iCAdA;MAeAC,qBAfA;MAiBAC,yBAjBA;MAkBAC,aAlBA;MAmBAC,aAnBA;MAqBAC,QACA;QAAAC;MAAA,CADA,CArBA;MAyBAC,wCAzBA;MA2BAC,cA3BA;MA6BAC,aA7BA;MA+BAC,cA/BA;MAiCAC,oBAjCA;MAmCAC,kBAnCA;MAqCAC,aArCA;MAsCAC,kBAtCA;MAuCAC,kBACA;QAAAC;QAAAC;MAAA,CADA,CAvCA;MA0CA;MACAC;IA3CA;EA6CA,CAlDA;;EAmDAC;IACAC;MACA;IACA,CAHA;;IAKAC;MACA;QACA;MACA;IACA,CATA;;IAUAC;MACA;IACA,CAZA;;IAcAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACAA;MACAA;MACA;IACA,CA7BA;;IA+BAC;MACA;IACA,CAjCA;;IAmCAC;MACA;IACA,CArCA;;IAuCA;IACAC;MAEA;MACA;MACA;MACAC;MACAA;MACA;IAEA,CAjDA;;IAmDA;IACAC;MACA;MACA;MACA;MACA;IAEA,CA1DA;;IA4DA;IACAC;MACA;MACA;MACAF;MACAA;MACA,4BALA,CAMA;IACA,CApEA;;IAsEAG;MACAP;MACA;MACA;MACA;IACA,CA3EA;;IA8EAQ;MACA;QACA;QACAR;QACA;MAEA;;MACA;IACA,CAtFA;;IAwFAS;MAEAC;MACAA;MACAA;MACA;MACAA;MACA;QACAC,eADA;QAEAC,cAFA;QAGAC;MAHA;IAOA,CAtGA;;IAwGAC;MACA;QACA;MACA;IACA,CA5GA;;IA8GAC;MACA;QACAC;MACA;;MAGA,kBACAC,IADA,CACA,OADA,EACA,QADA,EAEAC,MAFA,CAEA,QAFA,EAGAC,IAHA,CAGA;QACA;MACA,CALA;MAOA;MACA;MAEAT;MACAA;MAEAA;MACAA;MACA;MACA;MACA;MAEA;MAEA;MACA,2BACAU,CADA,CACAC,SADA,EAEAC,CAFA,CAEAD,SAFA,EAGAE,KAHA,CAGAC,wBAHA;MAIAd;MAGA;MACA;MACA,gCACAe,MADA,CACAD,uCADA,EAEAE,KAFA,CAEA,UAFA;MAIA,gCACAD,MADA,CACAD,uCADA,EAEAE,KAFA,CAEA,WAFA;MAOA;MACA,6DAjDA,CAiDA;;MACA;MAEAC,oCACAV,IADA,CACA,IADA,EACAI,2BADA,EAEAJ,IAFA,CAEA,IAFA,EAEAI,2BAFA,EAGAJ,IAHA,CAGA,GAHA,EAGAI;QACA;MACA,CALA,EAMAJ,IANA,CAMA,MANA,EAMAI;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,CAdA,EAeAO,EAfA,CAeA,WAfA,EAeA;QACAC;QACAL,gBACAP,IADA,CACA,GADA,EACA,GADA,EAEAa,KAFA,CAEA,QAFA,EAEA,OAFA;MAIA,CArBA,EAsBAF,EAtBA,CAsBA,UAtBA,EAsBA;QACAC;QACAL,gBACAP,IADA,CACA,GADA,EACA,CADA,EAEAa,KAFA,CAEA,QAFA,EAEA,IAFA;MAIA,CA5BA;;MAiCA;QACApB;QACA;UAAAqB;QAAA;QACAC;MACA;;MAGAC;QACAvB;QACAuB,+BACAC,MADA,CACA,yBADA,EAEAC,WAFA,CAEA,MAFA,EAGAP,EAHA,CAGA,MAHA,EAGAQ,MAHA;QAKAH;MACA,CARA;MAUAA;QACAvB;QACAA;QACAuB;QACAA;MACA,CALA,EAtGA,CA4GA;MACA;MACA;MACA;;MAEAA;MAEA,6CAnHA,CAoHA;MACA;;MACA;MACAI;;MAEA;QACA;QACA,8BAFA,CAIA;QACA;QACA;;QACA;QAEA;MACA;IAEA;;EAnPA,CAnDA;;EA6SAC;IACA;IACA;IACA,mDAHA,CAKA;;IACA;IACA;EACA,CArTA;;EAuTAC,YACA,oCADA;;IAEAC;MACA;IACA;;EAJA,CAvTA;EA8TAC;IACAC,cADA;IAEAC,YAFA;IAGAC;EAHA,CA9TA;EAoUAC;IACA;MACA;QACA;QACA,uBAFA,CAEA;;QACA;QACA;UACA;QACA,CAFA;MAGA,CAPA,MAOA;QACA;QACA;MACA;IACA,CAbA;IAeA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA5E;MACA;QACAuD;QACA;MACA;IAEA,CArCA;IAuCAtD;MACA;QACAsD;QACA;MACA;IACA;EA5CA;AApUA","names":["props","data","initialX","initialY","dataStatus","resizeX","resizeY","width","height","resizeWidth","resizeHeight","marginTop","marginLeft","topMargin","leftMargin","resizingStatus","showRightClickMenu","rightMenuX","rightMenuY","items","title","container","rightBtn","topBtn","leftBtn","loadingStatus","onOperation","dialog","ontologyData","contextCommands","icon","command","colors","methods","cardDoubleClick","contextButtonClicked","dragProxy","dragStart","e","addLink","finishLink","mouseDownHandler","document","mouseMoveHandler","mouseUpHandler","rightClickMenuShow","loaderAction","drawNeo4jd3","console","neo4jData","nodeRadius","infoPanel","doubleClickToLoad","draw","alert","attr","offset","html","x","d","y","curve","d3","domain","range","circleGroupEnter","on","tip","style","transform","canvas","canvasContainer","extent","scaleExtent","zoomed","h","created","computed","draggable","components","RightClickMenu","InoutputBtns","OntologyLoader","watch"],"sourceRoot":"src/components","sources":["OntologyComp.vue"],"sourcesContent":["<template>\n  <div>\n  <v-hover\n    v-slot=\"{ hover }\"\n  >\n    <v-card\n      :elevation=\"hover? 12 : 5\"\n      class=\"card-ontology\"\n      @mousedown=\"dragProxy\"\n      outlined\n      :id=\"itemProps.id\"\n      ref=\"cardComp\"\n      @contextmenu = \"rightClickMenuShow\"\n      @dblclick.stop=\"doubleClickToLoad\"\n      :style=\"{top: marginTop + 'px', left: marginLeft +'px', width: `${width}px`, height: `${height}px`, position: 'absolute'}\"\n    > \n      <v-card\n        loading\n        v-if=\"loadingStatus\"\n        :width=\"width\"\n        :height=\"height\"\n      ></v-card>\n      <v-card-text \n        v-if=\"!dataStatus\" \n        class=\"card-name\"\n      >\n        No Ontology Yet\n      </v-card-text>\n      <div \n        class=\"canvas-container\"\n        v-if=\"dataStatus\"\n        :id=\"`ontologyview-canvas-${itemProps.id}`\" \n        :style=\"{width: width + 'px', height: height + 'px'}\" \n      >\n        <!-- <svg\n          :class=\"`ontologyview-canvas-${itemProps.id}`\" \n         \n          :viewBox=\"[0, 0, width, height]\"\n        >\n\n        </svg> -->\n        <!-- <div\n          :class=\"`ontologyview-canvas-${itemProps.id}`\" \n          :style=\"{width: width + 'px', height: height + 'px'}\"\n        >\n\n        </div> -->\n      </div>\n      <v-card-actions>\n        <InoutputBtns\n          :resizingStatus=\"resizingStatus\"\n          :width=\"width\"\n          :height=\"height\"\n          :marginLeft=\"marginLeft\"\n          :marginTop=\"marginTop\"  \n          :componentId=\"itemProps.id\"\n          :hover=\"hover\"\n        />\n      </v-card-actions>\n\n      <div \n        class=\"resizer resizer-r\"\n        @mousedown=\"mouseDownHandler\"\n      ></div>\n      <div \n        class=\"resizer resizer-b\"\n        @mousedown=\"mouseDownHandler\"\n      ></div>\n\n    </v-card>\n  </v-hover>\n\n  <v-dialog\n    v-model=\"dialog\"\n    max-width=\"800\"\n  >\n    <OntologyLoader\n      @loaderAction=\"loaderAction\"\n    />\n  </v-dialog>\n\n  <v-menu\n    v-model=\"showRightClickMenu\"\n    :position-x=\"rightMenuX\"\n    :position-y=\"rightMenuY\"\n    absolute\n    offset-y\n  >\n    <RightClickMenu \n      :vue=\"this\" \n      :container=\"container\" \n      :itemProps=\"itemProps\"\n      :store=\"itemProps.id.split('-')[1]\"\n      :commands=\"contextCommands\"\n      @contextButtonClicked=\"contextButtonClicked\"\n    /> \n  </v-menu>\n\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex'\nimport RightClickMenu from '@/components/RightClickMenu'\nimport OntologyLoader from '@/components/OntologyLoader'\nimport * as Neo4jd3 from '@/js/Neo4jD3'\nimport InoutputBtns from '@/components/InoutputBtns'\nimport * as d3 from 'd3'\nimport * as d3tip from '@/utils/d3-tip'\n\nexport default {\n  props: [\n    'itemProps'\n  ],\n  data(){\n    return {\n      initialX: undefined,\n      initialY: undefined,\n      dataStatus: undefined,\n      resizeX: undefined,\n      resizeY: undefined,\n      // draggable: true,\n      width: 500,\n      height: 500, \n      resizeWidth: 0, //\n      resizeHeight: 0,\n      marginTop: 0,\n      marginLeft: 0,\n      topMargin: window.innerHeight / 2,\n      leftMargin: window.innerWidth / 2,\n      resizingStatus: false,\n\n      showRightClickMenu: false,\n      rightMenuX: 0,\n      rightMenuY: 0,\n\n      items: [\n        { title: 'Remove node' },\n      ],\n\n      container: '.globalview-components-list',\n\n      rightBtn: true,\n\n      topBtn: false,\n\n      leftBtn: false,\n\n      loadingStatus: false,\n\n      onOperation: false, \n\n      dialog: false, \n      ontologyData: null, \n      contextCommands: [\n        {icon: \"mdi-cog-outline\", command: \"Select Ontology\"}, \n      ],\n      // colors: [\"#543005\", \"#8c510a\", \"#bf812d\", \"#dfc27d\", \"#f6e8c3\",\"#f5f5f5\",\"#c7eae5\",\"#80cdc1\",\"#35978f\",\"#01665e\",\"#003c30\"], \n      colors: ['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a','#ffff99','#b15928']\n    }\n  },\n  methods:{\n    cardDoubleClick(){\n      this.dialog = true;\n    },\n\n    contextButtonClicked(button){\n      if(button == \"Select Ontology\"){\n        this.dialog = true; \n      }\n    },\n    dragProxy(e) {\n      this.dragStartHandler(e)\n    },\n\n    dragStart(e){\n      // if(!this.initialX){\n      //   this.initialX = e.clientX; \n      //   this.initialY = e.clientY;\n      // }\n      // e.dataTransfer.setData('item-id', e.target.id);\n      // e.dataTransfer.setData('initialX', this.initialX);\n      // e.dataTransfer.setData('initialY', this.initialY);\n      const el = document.querySelector(`#${e.target.id}`); \n      const initialLeft = parseInt(el.style.left.split('px')[0]) - e.clientX;\n      const initialTop = parseInt(el.style.top.split('px')[0]) - e.clientY;\n      e.dataTransfer.setData('item-id', e.target.id);\n      e.dataTransfer.setData('initialLeft', initialLeft);\n      e.dataTransfer.setData('initialTop', initialTop);\n      this.$store.dispatch('changeCurrentDraggingVM', this);\n    }, \n\n    addLink(){\n      this.$store.dispatch('changeLinkDrawingStatus', true);\n    },\n\n    finishLink(){\n      this.$store.dispatch('changeLinkDrawingStatus', false);\n    },\n\n    // Handler for div resizing\n    mouseDownHandler(e){\n      \n      // this.$store.dispatch('changeResizerStatus', true);\n      this.resizeX = e.clientX; \n      this.resizeY = e.clientY;\n      document.addEventListener('mousemove', this.mouseMoveHandler); \n      document.addEventListener('mouseup', this.mouseUpHandler); \n      this.resizingStatus = true\n      \n    }, \n\n    // Handler for moving mouse to resize \n    mouseMoveHandler(e){\n      const dx = e.clientX - this.resizeX; \n      const dy = e.clientY - this.resizeY; \n      this.width = this.resizeWidth + dx;\n      this.height = this.resizeHeight + dy;\n      \n    }, \n\n    // Handler for mouse up and remove the EventListener\n    mouseUpHandler(e){\n      this.resizeWidth = this.width; \n      this.resizeHeight = this.height; \n      document.removeEventListener('mousemove', this.mouseMoveHandler); \n      document.removeEventListener('mouseup', this.mouseUpHandler)\n      this.resizingStatus = false\n      // this.$store.dispatch('changeResizerStatus', false)\n    },\n\n    rightClickMenuShow(e){\n      e.preventDefault();\n      this.showRightClickMenu = true;\n      this.rightMenuX = e.clientX;\n      this.rightMenuY = e.clientY;\n    }, \n\n\n    loaderAction(e){\n      if(e.status == \"success\"){\n        delete e.status\n        e.selected.cardId = this.itemProps.id\n        this.$store.dispatch('ontology/addOntology', e.selected)\n\n      }\n      this.dialog = false;\n    }, \n\n    drawNeo4jd3(data){\n\n      console.log(\"start draw ontology!!!\")\n      console.log(data)\n      console.log(`ontologyview-canvas-${this.itemProps.id}`)\n      var ele = document.querySelector(`#ontologyview-canvas-${this.itemProps.id}`);\n      console.log(ele);\n      let neo4jd3 = Neo4jd3.default(`#ontologyview-canvas-${this.itemProps.id}`, {\n        neo4jData: data,\n        nodeRadius: 30,\n        infoPanel: false,\n      \n      });\n\n    },\n    \n    doubleClickToLoad(){\n      if(!this.dataStatus){\n        this.cardDoubleClick()\n      }\n    },\n\n    draw(){\n      if(!this.itemProps.vis_tsne){\n        alert('No vis data but still triggered! check GLobalViewComp.vue')\n      }\n\n      \n      let tip = d3tip()\n            .attr('class', 'd3-tip')\n            .offset([-10, 0])\n            .html(function(d) {\n              return \"<strong>Title: </strong><span class='details'>\" + d.title + \"<br></span>\";\n            })\n\n      let visData = this.itemProps.vis_tsne.tsne.data; \n      let visArea = this.itemProps.vis_tsne.tsne.area;\n      \n      console.log('print vis data');\n      console.log(visData);\n\n      console.log('print vis area');\n      console.log(visArea);\n      const canvasContainer = d3.select(`.globalview-canvas-${this.itemProps.id}`);\n      const canvasGroup = canvasContainer.selectAll('g').data([0]);\n      const canvasEnter = canvasGroup.enter().append('g')\n\n      const canvas = canvasGroup.merge(canvasEnter);\n\n      const classColors = this.colors;\n      const areaLine = d3.line()\n        .x(d => d[0])\n        .y(d => d[1])\n        .curve(d3.curveCatmullRomClosed);\n      console.log(classColors);\n\n\n      const width = this.width\n      const height = this.height\n      const xScale = d3.scaleLinear()\n                      .domain(d3.extent(visData, d=>d.embedding[0]))\n                      .range([0, width])\n      \n      const yScale = d3.scaleLinear()\n                      .domain(d3.extent(visData, d=>d.embedding[1]))\n                      .range([0, height])\n\n\n\n\n      const h = canvas.append(\"path\").attr(\"class\", \"polyhull-01\").style(\"stroke\", \"gray\").style(\"stroke-width\",\"3px\").style(\"fill-opacity\", \"0.3\").style(\"fill\", \"lightblue\");\n      const circleGroup = canvas.selectAll('circle').data(visData); //\n      const circleGroupEnter = circleGroup.enter().append('circle')\n     \n      circleGroupEnter.merge(circleGroup)\n        .attr('cx', d=>xScale(d.embedding[0]))\n        .attr('cy', d=>yScale(d.embedding[1]))\n        .attr('r', d=>{\n          return 1\n        })\n        .attr('fill', d=>{\n          // if(d['q_1']){\n          //   return classColors[5]\n          // }\n          // if(d['q_17']){\n          //   return classColors[6]\n          // }\n          return 'steelblue'\n        })\n        .on('mouseover', function(d){\n          tip.show(d);\n          d3.select(this)\n            .attr('r', 1.5)\n            .style('stroke', 'black')\n            \n        })\n        .on('mouseout', function(d){\n          tip.hide(d);\n          d3.select(this)\n            .attr('r', 1)\n            .style('stroke', null)\n            \n        })\n\n      \n      \n\n      function zoomed() {\n        console.log(111);\n        const {transform} = d3.event;\n        canvas.attr(\"transform\", transform);\n      }\n\n\n      canvasContainer.on('dblclick', ()=>{\n        console.log(111)\n        canvasContainer.call(d3.zoom()\n          .extent([[0, 0], [width, height]])\n          .scaleExtent([1, 8])\n          .on(\"zoom\", zoomed));\n\n        canvasContainer.style('border', '1px solid red')\n      })\n\n      canvasContainer.on('mouseleave', ()=>{\n        console.log('mouseout');\n        console.log(canvasContainer)\n        canvasContainer.on('.zoom', null);\n        canvasContainer.style('border', null)\n      })\n      // canvasContainer.call(d3.zoom()\n      //   .extent([[0, 0], [width, height]])\n      //   .scaleExtent([1, 8])\n      //   .on(\"zoom\", zoomed));\n\n      canvasContainer.call(tip);\n\n      const pointsTemp = visData.slice(1000, 1010); \n      // console.log(\"Check Here!\");\n      // console.log(pointsTemp);\n      const hullCurve = hull(pointsTemp.map(obj => [xScale(obj.embedding[0]), yScale(obj.embedding[1])])); \n      h.attr(\"d\", `M${hullCurve.join(\"L\")}Z`)\n\n      function hull(points) {\n        // No sense in rendering a hull for fewer than two points\n        if (points.length < 2) return;\n\n        // polygonHull seems to require a minimum of three points, but works\n        // just fine if two of the points are identical, so we can patch over\n        // the problem of a two point cluster by duplicating the first point.\n        if (points.length < 3) return d3.polygonHull([points[0], ...points]);\n\n        return d3.polygonHull(points);\n      }\n\n    },\n\n\n    \n\n  },\n\n  created(){\n    // Initialize initial position\n    this.marginTop = this.topMargin - this.height/2; \n    this.marginLeft = this.leftMargin - this.width/2;\n\n    // Initialize resizeWidth and resizeHeight\n    this.resizeWidth = this.width;\n    this.resizeHeight = this.height; \n  },\n\n  computed:{\n    ...mapState(['drawLink','resizer']),\n    draggable(){\n      return !(this.drawLink || this.resizingStatus);\n    }\n  },\n\n  components: {\n    RightClickMenu,\n    InoutputBtns, \n    OntologyLoader,\n  },\n\n  watch: {\n    'itemProps.data': function(newVal, oldVal){\n      if(newVal){\n        this.loadingStatus = true\n        this.dataStatus = true // means loading \n        this.loadingStatus = false;\n        this.$nextTick(function(){\n          this.drawNeo4jd3(this.itemProps.data.data)\n        })\n      }else{\n        this.loadingStatus = false\n        this.dataStatus = false\n      }\n    }, \n\n    // 'itemProps.vis_tsne': function(newVal, oldVal){\n    //   console.log('visData newVal, oldVal'); //\n    //   console.log(newVal); //\n    //   console.log(oldVal);\n    //   if(newVal && newVal.tsne){\n    //     this.loadingStatus = false\n    //     this.dataStatus = true // no longer loading\n    //     console.log('here')\n    //     console.log(this.dataStatus);\n    //     this.draw();\n    //   }else{\n    //     this.loadingStatus = false\n    //     this.dataStatus = false;\n    //   }\n    // },\n\n    width: function (){\n      if(this.itemProps.data){\n        d3.select('.neo4jd3-graph').remove()\n        this.drawNeo4jd3(this.itemProps.data.data)\n      }\n      \n    }, \n\n    height: function(){\n      if(this.itemProps.data){\n        d3.select('.neo4jd3-graph').remove()\n        this.drawNeo4jd3(this.itemProps.data.data)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped> \n  .card-name{\n    text-align: center;\n    display: flex; \n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    height: 100%;\n  }\n\n  /* .card-actions{\n    position: absolute;\n    transform: translate(300px, -150px);\n    padding: 0;\n  } */\n\n  .resizer{\n    position: absolute;\n  }\n\n  .resizer-r {\n    cursor: col-resize;\n    height: 100%;\n    right: 0;\n    top: 0;\n    width: 5px;\n  }\n\n  /* Placed at the bottom side */\n  .resizer-b {\n    bottom: 0;\n    cursor: row-resize;\n    height: 5px;\n    left: 0;\n    width: 100%;\n  }\n\n  .card-ontology:hover{\n    cursor: pointer;\n  }\n</style>"]}]}