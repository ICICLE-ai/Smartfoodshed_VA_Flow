{"remainingRequest":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/store/modules/viewer/vegacharter.js","dependencies":[{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/store/modules/viewer/vegacharter.js","mtime":1666790788331},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1660324544800},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660324545335},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661232574882}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3FpdXJ1aS9EZXNrdG9wL0lDSUNMRS9uZXdfZ3VpXzIwMjIvU21hcnRmb29kc2hlZF9WQV9GbG93L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvcWl1cnVpL0Rlc2t0b3AvSUNJQ0xFL25ld19ndWlfMjAyMi9TbWFydGZvb2RzaGVkX1ZBX0Zsb3cvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IHsgZ2V0Q29tcG9uZW50VHlwZSB9IGZyb20gJ0AvdXRpbHMvaGVscCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGJhc2VfcmVxdWVzdF91cmwgfSBmcm9tICdAL3V0aWxzL2Jhc2VfdXJsJzsKCmZ1bmN0aW9uIGNyZWF0ZU5ld1ZlZ2FSZW5kZXIoaWQpIHsKICByZXR1cm4gewogICAgaWQ6ICJjYXJkLXZlZ2FjaGFydGVyLSIuY29uY2F0KGlkKSwKICAgIGlucHV0RGF0YTogbnVsbCwKICAgIC8vIHNlbGVjdGVkVmVnYVJlbmRlcjogbnVsbCwgCiAgICBzb3VyY2VMaW5rOiBbXSwKICAgIC8vCiAgICB0YXJnZXRMaW5rOiBbXSwKICAgIG1hcmdpbkxlZnQ6IG51bGwsCiAgICBtYXJnaW5Ub3A6IG51bGwsCiAgICB3aWR0aDogbnVsbCwKICAgIGhlaWdodDogbnVsbCwKICAgIGRhdGE6IFtdLAogICAgaW5mbzoge30gLy8gYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCBkaWZmZXJlbnQgdHlwZSBvZiBkYXRhIGNvbHVtbnMgCgogIH07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBuZXh0QXZhaWxhYmxlSW5kZXg6IDAsCiAgICBjYXJkczogW10sCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL3ZpZXdlci92ZWdhY2hhcnRlcicpOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfREFUQTogZnVuY3Rpb24gU0VUX0RBVEEoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZCwKICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICBpbmZvID0gX3JlZi5pbmZvOwogICAgICBjb25zb2xlLmxvZygnaW5zaWRlIHNldCBkYXRhJywgaWQsIGRhdGEsIGluZm8pOwoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSAiIi5jb25jYXQoaWQpKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5kYXRhID0gZGF0YTsKICAgICAgICAgIHN0YXRlLmNhcmRzW2ldLmluZm8gPSBpbmZvOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIEFERF9DT01QT05FTlQ6IGZ1bmN0aW9uIEFERF9DT01QT05FTlQoc3RhdGUpIHsKICAgICAgdmFyIG5leHRJbmRleCA9IHN0YXRlLm5leHRBdmFpbGFibGVJbmRleDsKICAgICAgc3RhdGUubmV4dEF2YWlsYWJsZUluZGV4ICs9IDE7CiAgICAgIHN0YXRlLmNhcmRzLnB1c2goY3JlYXRlTmV3VmVnYVJlbmRlcihuZXh0SW5kZXgpKTsKICAgIH0sCiAgICBERUxFVEVfQ09NUE9ORU5UOiBmdW5jdGlvbiBERUxFVEVfQ09NUE9ORU5UKHN0YXRlLCBpZCkgewogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09ICIiLmNvbmNhdChpZCkpIHsKICAgICAgICAgIHN0YXRlLmNhcmRzLnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFVQREFURV9QT1M6IGZ1bmN0aW9uIFVQREFURV9QT1Moc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciBpZCA9IF9yZWYyLmlkLAogICAgICAgICAgbWFyZ2luTGVmdCA9IF9yZWYyLm1hcmdpbkxlZnQsCiAgICAgICAgICBtYXJnaW5Ub3AgPSBfcmVmMi5tYXJnaW5Ub3A7CgogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGlkKSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5tYXJnaW5Ub3AgPSBtYXJnaW5Ub3A7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5tYXJnaW5MZWZ0ID0gbWFyZ2luTGVmdDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBBRERfU09VUkNFX0xJTks6IGZ1bmN0aW9uIEFERF9TT1VSQ0VfTElOSyhzdGF0ZSwgbGlua0RhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ2FkZGxpbmshISEnKTsKICAgICAgY29uc29sZS5sb2cobGlua0RhdGEpOwoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSBsaW5rRGF0YS5zb3VyY2UpIHsKICAgICAgICAgIHN0YXRlLmNhcmRzW2ldLnNvdXJjZUxpbmsucHVzaChsaW5rRGF0YSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgQUREX1RBUkdFVF9MSU5LOiBmdW5jdGlvbiBBRERfVEFSR0VUX0xJTksoc3RhdGUsIGxpbmtEYXRhKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuY2FyZHMpIHsKICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0uaWQgPT0gbGlua0RhdGEudGFyZ2V0KSB7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rLnB1c2gobGlua0RhdGEpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFVQREFURV9TT1VSQ0U6IGZ1bmN0aW9uIFVQREFURV9TT1VSQ0Uoc3RhdGUsIGxpbmtEYXRhKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuY2FyZHMpIHsKICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0uaWQgPT0gbGlua0RhdGEuc291cmNlKSB7CiAgICAgICAgICBmb3IgKHZhciBqIGluIHN0YXRlLmNhcmRzW2ldLnNvdXJjZUxpbmspIHsKICAgICAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLnNvdXJjZUxpbmtbal0uaWQgPT0gbGlua0RhdGEuaWQpIHsKICAgICAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rW2pdID0gbGlua0RhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBVUERBVEVfVEFSR0VUOiBmdW5jdGlvbiBVUERBVEVfVEFSR0VUKHN0YXRlLCBsaW5rRGF0YSkgewogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGxpbmtEYXRhLnRhcmdldCkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rW2pdLmlkID09IGxpbmtEYXRhLmlkKSB7CiAgICAgICAgICAgICAgLy8gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS50YXJnZXRQb3MgPSBsaW5rRGF0YS50YXJnZXRQb3M7CiAgICAgICAgICAgICAgLy8gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS5zb3VyY2VQb3MgPSBsaW5rRGF0YS5zb3VyY2VQb3M7CiAgICAgICAgICAgICAgLy8gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS5kID0gbGlua0RhdGEuZDsKICAgICAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS50YXJnZXRMaW5rW2pdID0gbGlua0RhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBVUERBVEVfU0laRTogZnVuY3Rpb24gVVBEQVRFX1NJWkUoc3RhdGUsIF9yZWYzKSB7CiAgICAgIHZhciBpZCA9IF9yZWYzLmlkLAogICAgICAgICAgd2lkdGggPSBfcmVmMy53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IF9yZWYzLmhlaWdodDsKCiAgICAgIGZvciAodmFyIGkgaW4gc3RhdGUuY2FyZHMpIHsKICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0uaWQgPT0gaWQpIHsKICAgICAgICAgIHN0YXRlLmNhcmRzW2ldLndpZHRoID0gd2lkdGg7CiAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgUkVNT1ZFX1NPVVJDRUxJTks6IGZ1bmN0aW9uIFJFTU9WRV9TT1VSQ0VMSU5LKHN0YXRlLCBsaW5rRGF0YSkgewogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGxpbmtEYXRhLnNvdXJjZSkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rW2pdLmlkID09IGxpbmtEYXRhLmlkKSB7CiAgICAgICAgICAgICAgLy8gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS50YXJnZXRQb3MgPSBsaW5rRGF0YS50YXJnZXRQb3M7CiAgICAgICAgICAgICAgLy8gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS5zb3VyY2VQb3MgPSBsaW5rRGF0YS5zb3VyY2VQb3M7CiAgICAgICAgICAgICAgLy8gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS5kID0gbGlua0RhdGEuZDsKICAgICAgICAgICAgICBzdGF0ZS5jYXJkc1tpXS5zb3VyY2VMaW5rLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIFJFTU9WRV9UQVJHRVRMSU5LOiBmdW5jdGlvbiBSRU1PVkVfVEFSR0VUTElOSyhzdGF0ZSwgbGlua0RhdGEpIHsKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSBsaW5rRGF0YS50YXJnZXQpIHsKICAgICAgICAgIGZvciAodmFyIGogaW4gc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGluaykgewogICAgICAgICAgICBpZiAoc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGlua1tqXS5pZCA9PSBsaW5rRGF0YS5pZCkgewogICAgICAgICAgICAgIC8vIHN0YXRlLmNhcmRzW2ldLnRhcmdldExpbmtbal0udGFyZ2V0UG9zID0gbGlua0RhdGEudGFyZ2V0UG9zOwogICAgICAgICAgICAgIC8vIHN0YXRlLmNhcmRzW2ldLnRhcmdldExpbmtbal0uc291cmNlUG9zID0gbGlua0RhdGEuc291cmNlUG9zOwogICAgICAgICAgICAgIC8vIHN0YXRlLmNhcmRzW2ldLnRhcmdldExpbmtbal0uZCA9IGxpbmtEYXRhLmQ7CiAgICAgICAgICAgICAgc3RhdGUuY2FyZHNbaV0udGFyZ2V0TGluay5zcGxpY2UoaiwgMSk7CiAgICAgICAgICAgICAgc3RhdGUuY2FyZHNbaV0uaW5wdXREYXRhID0gdW5kZWZpbmVkOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgU0VUX0lOUFVUREFUQTogZnVuY3Rpb24gU0VUX0lOUFVUREFUQShzdGF0ZSwgX3JlZjQpIHsKICAgICAgdmFyIGxpbmsgPSBfcmVmNC5saW5rLAogICAgICAgICAgaW5wdXREYXRhID0gX3JlZjQuaW5wdXREYXRhOwogICAgICBjb25zb2xlLmxvZygnaW5zaWRlIHNldCBpbnB1dGRhdGEnLCBsaW5rLCBpbnB1dERhdGEpOwoKICAgICAgZm9yICh2YXIgaSBpbiBzdGF0ZS5jYXJkcykgewogICAgICAgIGlmIChzdGF0ZS5jYXJkc1tpXS5pZCA9PSBsaW5rLnRhcmdldCkgewogICAgICAgICAgc3RhdGUuY2FyZHNbaV0uaW5wdXREYXRhID0gaW5wdXREYXRhOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgdXBkYXRlUG9zOiBmdW5jdGlvbiB1cGRhdGVQb3MoX3JlZjUsIF9yZWY2KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIHZhciBpZCA9IF9yZWY2LmlkLAogICAgICAgICAgbWFyZ2luVG9wID0gX3JlZjYubWFyZ2luVG9wLAogICAgICAgICAgbWFyZ2luTGVmdCA9IF9yZWY2Lm1hcmdpbkxlZnQ7CiAgICAgIGNvbW1pdCgnVVBEQVRFX1BPUycsIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgbWFyZ2luVG9wOiBtYXJnaW5Ub3AsCiAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdAogICAgICB9KTsKICAgIH0sCiAgICBhZGRDb21wOiBmdW5jdGlvbiBhZGRDb21wKF9yZWY3KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgIGNvbnNvbGUubG9nKCd0ZXN0Jyk7CiAgICAgIGNvbW1pdCgnQUREX0NPTVBPTkVOVCcpOwogICAgfSwKICAgIGRlbGV0ZUNvbXA6IGZ1bmN0aW9uIGRlbGV0ZUNvbXAoX3JlZjgsIGlkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY4LnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaDsKICAgICAgdmFyIHRvRGVsZXRlZENvbXAgPSBzdGF0ZS5jYXJkcy5maWx0ZXIoZnVuY3Rpb24gKGNhcmQpIHsKICAgICAgICByZXR1cm4gY2FyZC5pZCA9PSBpZDsKICAgICAgfSlbMF07CgogICAgICB2YXIgdG9EZWxldGVTb3VyY2VMaW5rID0gX3RvQ29uc3VtYWJsZUFycmF5KHRvRGVsZXRlZENvbXAuc291cmNlTGluayk7CgogICAgICB2YXIgdG9EZWxldGVUYXJnZXRMaW5rID0gX3RvQ29uc3VtYWJsZUFycmF5KHRvRGVsZXRlZENvbXAudGFyZ2V0TGluayk7CgogICAgICB0b0RlbGV0ZVNvdXJjZUxpbmsuZm9yRWFjaChmdW5jdGlvbiAobGluaykgewogICAgICAgIGNvbnNvbGUubG9nKGxpbmspOwogICAgICAgIGRpc3BhdGNoKCdsaW5rL2RlbGV0ZUNvbXAnLCBsaW5rLmlkLCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0b0RlbGV0ZVRhcmdldExpbmsuZm9yRWFjaChmdW5jdGlvbiAobGluaykgewogICAgICAgIGRpc3BhdGNoKCdsaW5rL2RlbGV0ZUNvbXAnLCBsaW5rLmlkLCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBjb21taXQoJ0RFTEVURV9DT01QT05FTlQnLCBpZCk7CiAgICB9LAogICAgYWRkTGluazogZnVuY3Rpb24gYWRkTGluayhfcmVmOSwgZGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjkuY29tbWl0OwogICAgICBjb25zb2xlLmxvZygndHV5YW1laSB0ZXN0LCBhZGQgbGluaycpOwoKICAgICAgaWYgKGRhdGEuc3RhdHVzID09ICJzb3VyY2UiKSB7CiAgICAgICAgY29tbWl0KCdBRERfU09VUkNFX0xJTksnLCBkYXRhKTsKICAgICAgICBkaXNwYXRjaCgnb3V0cHV0SGFuZGxlcicsIGxpbmtEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoJ0FERF9UQVJHRVRfTElOSycsIGRhdGEpOyAvL2Rpc3BhdGNoKCdpbnB1dEhhbmRsZXInLCBsaW5rRGF0YSkKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUxpbms6IGZ1bmN0aW9uIHVwZGF0ZUxpbmsoX3JlZjEwLCBsaW5rRGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjEwLmNvbW1pdDsKCiAgICAgIGlmIChsaW5rRGF0YS5zdGF0dXMgPT0gJ3NvdXJjZScpIHsKICAgICAgICBjb21taXQoJ1VQREFURV9TT1VSQ0UnLCBsaW5rRGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCdVUERBVEVfVEFSR0VUJywgbGlua0RhdGEpOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlTGluazogZnVuY3Rpb24gcmVtb3ZlTGluayhfcmVmMTEsIGxpbmtEYXRhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTEuY29tbWl0OwoKICAgICAgaWYgKGxpbmtEYXRhLnN0YXR1cyA9PSAnc291cmNlJykgewogICAgICAgIGNvbW1pdCgnUkVNT1ZFX1NPVVJDRUxJTksnLCBsaW5rRGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCdSRU1PVkVfVEFSR0VUTElOSycsIGxpbmtEYXRhKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVNpemU6IGZ1bmN0aW9uIHVwZGF0ZVNpemUoX3JlZjEyLCBfcmVmMTMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxMi5jb21taXQ7CiAgICAgIHZhciBpZCA9IF9yZWYxMy5pZCwKICAgICAgICAgIHdpZHRoID0gX3JlZjEzLndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gX3JlZjEzLmhlaWdodDsKICAgICAgY29tbWl0KCdVUERBVEVfU0laRScsIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgd2lkdGg6IHdpZHRoLAogICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgIH0pOwogICAgfSwKICAgIC8vIElucHV0IEhhbmRsZXIgd2lsbCBiZSB0cmlnZ2VyZWQgYnkgb3RoZXIgY29tcG9uZW50cwogICAgLy8gV2hlbiBzb3VyY2UgQ29tcG9uZW50CiAgICBpbnB1dEhhbmRsZXI6IGZ1bmN0aW9uIGlucHV0SGFuZGxlcihfcmVmMTQsIF9yZWYxNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBsaW5rLCBpbnB1dERhdGEsIHNvdXJjZUNvbXBUeXBlLCB0YXJnZXRDb21wVHlwZSwgcGF0aCwgcmVzdWx0LCB0ZW1wX2RhdGUsIHRlbXBfaW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTQuY29tbWl0LCBzdGF0ZSA9IF9yZWYxNC5zdGF0ZTsKICAgICAgICAgICAgICAgIGxpbmsgPSBfcmVmMTUubGluaywgaW5wdXREYXRhID0gX3JlZjE1LmlucHV0RGF0YTsKICAgICAgICAgICAgICAgIHNvdXJjZUNvbXBUeXBlID0gZ2V0Q29tcG9uZW50VHlwZShsaW5rLnNvdXJjZSk7CiAgICAgICAgICAgICAgICB0YXJnZXRDb21wVHlwZSA9IGdldENvbXBvbmVudFR5cGUobGluay50YXJnZXQpOwoKICAgICAgICAgICAgICAgIGlmICghaW5wdXREYXRhKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfSU5QVVREQVRBJywgewogICAgICAgICAgICAgICAgICBsaW5rOiBsaW5rLAogICAgICAgICAgICAgICAgICBpbnB1dERhdGE6IGlucHV0RGF0YQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBwYXRoID0gYmFzZV9yZXF1ZXN0X3VybCArICdnZW5WZWdhJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QocGF0aCwgewogICAgICAgICAgICAgICAgICAnZGF0YSc6IGlucHV0RGF0YQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgICB0ZW1wX2RhdGUgPSByZXN1bHQuZGF0YVsnZGF0YSddOwogICAgICAgICAgICAgICAgdGVtcF9pbmZvID0gcmVzdWx0LmRhdGFbJ2luZm8nXTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnU0VUX0RBVEEnLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBsaW5rLnRhcmdldCwKICAgICAgICAgICAgICAgICAgZGF0YTogdGVtcF9kYXRlLAogICAgICAgICAgICAgICAgICBpbmZvOiB0ZW1wX2luZm8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG91dHB1dEhhbmRsZXI6IGZ1bmN0aW9uIG91dHB1dEhhbmRsZXIoX3JlZjE2LCBsaW5rRGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjE2LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjE2LnN0YXRlOwogICAgICB2YXIgdGFyZ2V0Q29tcFR5cGUgPSBnZXRDb21wb25lbnRUeXBlKGxpbmtEYXRhLnRhcmdldCk7CgogICAgICBmb3IgKHZhciBpIGluIHN0YXRlLmNhcmRzKSB7CiAgICAgICAgaWYgKHN0YXRlLmNhcmRzW2ldLmlkID09IGxpbmtEYXRhLnNvdXJjZSkgewogICAgICAgICAgZGlzcGF0Y2goIiIuY29uY2F0KHRhcmdldENvbXBUeXBlLCAiL2lucHV0SGFuZGxlciIpLCB7CiAgICAgICAgICAgIGxpbms6IGxpbmtEYXRhLAogICAgICAgICAgICBpbnB1dERhdGE6IHN0YXRlLmNhcmRzW2ldLmlucHV0RGF0YQogICAgICAgICAgfSwgewogICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/store/modules/viewer/vegacharter.js"],"names":["getComponentType","axios","base_request_url","createNewVegaRender","id","inputData","sourceLink","targetLink","marginLeft","marginTop","width","height","data","info","namespaced","state","nextAvailableIndex","cards","component","mutations","SET_DATA","console","log","i","ADD_COMPONENT","nextIndex","push","DELETE_COMPONENT","splice","UPDATE_POS","ADD_SOURCE_LINK","linkData","source","ADD_TARGET_LINK","target","UPDATE_SOURCE","j","UPDATE_TARGET","UPDATE_SIZE","REMOVE_SOURCELINK","REMOVE_TARGETLINK","undefined","SET_INPUTDATA","link","actions","updatePos","commit","addComp","deleteComp","dispatch","toDeletedComp","filter","card","toDeleteSourceLink","toDeleteTargetLink","forEach","root","addLink","status","updateLink","removeLink","updateSize","inputHandler","sourceCompType","targetCompType","path","post","result","temp_date","temp_info","outputHandler"],"mappings":"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","sourcesContent":["import {getComponentType} from '@/utils/help'\nimport axios from 'axios'\nimport { base_request_url } from '@/utils/base_url'\n\nfunction createNewVegaRender(id){\n  return {\n    id: `card-vegacharter-${id}`,\n    inputData: null, \n    // selectedVegaRender: null, \n    sourceLink: [], //\n    targetLink: [], \n    marginLeft: null, \n    marginTop: null, \n    width: null, \n    height: null,\n    data: [], \n    info: {} // additional information about different type of data columns \n  }\n}\n\nexport default {\n  namespaced: true,\n  state: {\n    nextAvailableIndex: 0,\n    cards: [],\n    component: () => import('@/components/viewer/vegacharter'), \n  }, \n  mutations: {\n    SET_DATA(state, {id, data, info}){\n      console.log('inside set data', id, data, info)\n      for(let i in state.cards){\n        if(state.cards[i].id==`${id}`){\n          state.cards[i].data = data\n          state.cards[i].info = info\n        }\n      }\n    },\n    ADD_COMPONENT(state){\n      const nextIndex = state.nextAvailableIndex;\n      state.nextAvailableIndex += 1\n      state.cards.push(createNewVegaRender(nextIndex));\n    },\n    DELETE_COMPONENT(state, id){\n      for(let i in state.cards){\n        if(state.cards[i].id == `${id}`){\n          state.cards.splice(i, 1);\n          break\n        }\n      }\n    }, \n    UPDATE_POS(state, {id, marginLeft, marginTop}) {\n      for(let i in state.cards){\n        if(state.cards[i].id == id){\n          state.cards[i].marginTop = marginTop \n          state.cards[i].marginLeft = marginLeft\n        }\n      }\n    }, \n    ADD_SOURCE_LINK(state, linkData){\n      console.log('addlink!!!');\n      console.log(linkData);\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          state.cards[i].sourceLink.push(linkData);\n        }\n      }\n    },\n    ADD_TARGET_LINK(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.target){\n          state.cards[i].targetLink.push(linkData);\n          return;\n        }\n      }\n    },\n    UPDATE_SOURCE(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          for(let j in state.cards[i].sourceLink){\n            if(state.cards[i].sourceLink[j].id == linkData.id){\n              state.cards[i].sourceLink[j] = linkData\n            }\n          }\n        }\n      }\n    },\n    UPDATE_TARGET(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.target){\n          for(let j in state.cards[i].targetLink){\n            if(state.cards[i].targetLink[j].id == linkData.id){\n              // state.cards[i].targetLink[j].targetPos = linkData.targetPos;\n              // state.cards[i].targetLink[j].sourcePos = linkData.sourcePos;\n              // state.cards[i].targetLink[j].d = linkData.d;\n              state.cards[i].targetLink[j] = linkData\n            }\n          }\n        }\n      }\n    },\n    UPDATE_SIZE(state, {id, width, height}) {\n      for(let i in state.cards){\n        if(state.cards[i].id == id){\n          state.cards[i].width = width \n          state.cards[i].height = height\n        }\n      }\n    },\n    REMOVE_SOURCELINK(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          for(let j in state.cards[i].sourceLink){\n            if(state.cards[i].sourceLink[j].id == linkData.id){\n              // state.cards[i].targetLink[j].targetPos = linkData.targetPos;\n              // state.cards[i].targetLink[j].sourcePos = linkData.sourcePos;\n              // state.cards[i].targetLink[j].d = linkData.d;\n              state.cards[i].sourceLink.splice(j,1);\n            }\n          }\n        }\n      }\n    },\n    REMOVE_TARGETLINK(state, linkData){\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.target){\n          for(let j in state.cards[i].targetLink){\n            if(state.cards[i].targetLink[j].id == linkData.id){\n              // state.cards[i].targetLink[j].targetPos = linkData.targetPos;\n              // state.cards[i].targetLink[j].sourcePos = linkData.sourcePos;\n              // state.cards[i].targetLink[j].d = linkData.d;\n              state.cards[i].targetLink.splice(j, 1);\n              state.cards[i].inputData = undefined;\n            }\n          }\n        }\n      }\n    }, \n    SET_INPUTDATA(state, {link, inputData}){\n      console.log('inside set inputdata', link, inputData)\n      for(let i in state.cards){\n        if(state.cards[i].id == link.target){\n          state.cards[i].inputData = inputData;\n\n        }\n      }\n    }, \n  }, \n  actions: {\n    updatePos({commit}, {id, marginTop, marginLeft}) {\n      commit('UPDATE_POS', {id, marginTop, marginLeft})\n    }, \n    addComp({commit}, ){\n      console.log('test')\n      commit('ADD_COMPONENT');\n    },\n    deleteComp({commit, state, dispatch}, id){\n      const toDeletedComp = state.cards.filter(card => card.id == id)[0];\n      \n      const toDeleteSourceLink = [...toDeletedComp.sourceLink];\n      const toDeleteTargetLink = [...toDeletedComp.targetLink];\n      toDeleteSourceLink.forEach(link => {\n        console.log(link)\n        dispatch('link/deleteComp', link.id, {root: true})\n      })\n      toDeleteTargetLink.forEach(link => {\n        dispatch('link/deleteComp', link.id, {root: true})\n      })\n      commit('DELETE_COMPONENT', id);\n    }, \n    addLink({commit}, data){\n      console.log('tuyamei test, add link')\n      if(data.status == \"source\"){\n        commit('ADD_SOURCE_LINK', data)\n        dispatch('outputHandler', linkData)\n      }else{\n        commit('ADD_TARGET_LINK', data)\n        //dispatch('inputHandler', linkData)\n      }\n    },\n    updateLink({commit}, linkData){\n      if(linkData.status == 'source'){\n        commit('UPDATE_SOURCE', linkData)\n      }else{\n        commit('UPDATE_TARGET', linkData)\n      }\n    },\n    removeLink({commit}, linkData){\n      if(linkData.status == 'source'){\n        commit('REMOVE_SOURCELINK', linkData)\n      }else{ \n        commit('REMOVE_TARGETLINK', linkData)\n      }\n    },\n    \n    updateSize({commit}, {id, width, height}) {\n      commit('UPDATE_SIZE', {id, width, height})\n    }, \n    // Input Handler will be triggered by other components\n    // When source Component\n    async inputHandler({commit, state, }, {link, inputData}){\n      const sourceCompType = getComponentType(link.source);\n      const targetCompType = getComponentType(link.target);\n      if(inputData){\n        commit('SET_INPUTDATA', {link, inputData}) \n\n        let path = base_request_url + 'genVega'\n        let result = await axios.post(path, {'data':inputData})\n        console.log(result.data)\n        let temp_date = result.data['data']\n        let temp_info = result.data['info']\n        commit('SET_DATA', {id: link.target, data: temp_date, info: temp_info})\n      }\n    }, \n\n    outputHandler({commit, state, }, linkData){\n      const targetCompType = getComponentType(linkData.target);\n      for(let i in state.cards){\n        if(state.cards[i].id == linkData.source){\n          dispatch(`${targetCompType}/inputHandler`, {link: linkData, inputData: state.cards[i].inputData}, {root: true})\n          return;\n        }\n      }\n    },\n\n    \n    \n  }\n}"]}]}