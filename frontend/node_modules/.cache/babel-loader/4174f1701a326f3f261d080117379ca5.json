{"remainingRequest":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/js/Neo4jD3.js","dependencies":[{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/js/Neo4jD3.js","mtime":1666991099407},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/babel.config.js","mtime":1644077470344},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1644041617264},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661441977623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUubm93LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvVXNlcnMveWFtZWl0dS9EZXNrdG9wL0lDSVJDTEUvU21hcnRmb29kc2hlZF9WQV9GbG93L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKCi8qIGdsb2JhbCBkMywgZG9jdW1lbnQgKi8KCi8qIGpzaGludCBsYXRlZGVmOm5vZnVuYyAqLwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CgpmdW5jdGlvbiBOZW80akQzKF9zZWxlY3RvciwgX29wdGlvbnMpIHsKICB2YXIgY29udGFpbmVyLAogICAgICBncmFwaCwKICAgICAgaW5mbywKICAgICAgbm9kZSwKICAgICAgbm9kZXMsCiAgICAgIHJlbGF0aW9uc2hpcCwKICAgICAgcmVsYXRpb25zaGlwT3V0bGluZSwKICAgICAgcmVsYXRpb25zaGlwT3ZlcmxheSwKICAgICAgcmVsYXRpb25zaGlwVGV4dCwKICAgICAgcmVsYXRpb25zaGlwcywKICAgICAgc2VsZWN0b3IsCiAgICAgIHNpbXVsYXRpb24sCiAgICAgIHN2ZywKICAgICAgc3ZnTm9kZXMsCiAgICAgIHN2Z1JlbGF0aW9uc2hpcHMsCiAgICAgIHN2Z1NjYWxlLAogICAgICBzdmdUcmFuc2xhdGUsCiAgICAgIGNsYXNzZXMyY29sb3JzID0ge30sCiAgICAgIGp1c3RMb2FkZWQgPSBmYWxzZSwKICAgICAgbnVtQ2xhc3NlcyA9IDAsCiAgICAgIG9wdGlvbnMgPSB7CiAgICBhcnJvd1NpemU6IDQsCiAgICBjb2xvcnM6IGNvbG9ycygpLAogICAgaGlnaGxpZ2h0OiB1bmRlZmluZWQsCiAgICBpY29uTWFwOiBmb250QXdlc29tZUljb25zKCksCiAgICBpY29uczogdW5kZWZpbmVkLAogICAgaW1hZ2VNYXA6IHt9LAogICAgaW1hZ2VzOiB1bmRlZmluZWQsCiAgICBpbmZvUGFuZWw6IHRydWUsCiAgICBtaW5Db2xsaXNpb246IHVuZGVmaW5lZCwKICAgIG5lbzRqRGF0YTogdW5kZWZpbmVkLAogICAgbmVvNGpEYXRhVXJsOiB1bmRlZmluZWQsCiAgICBub2RlT3V0bGluZUZpbGxDb2xvcjogdW5kZWZpbmVkLAogICAgbm9kZVJhZGl1czogMjUsCiAgICByZWxhdGlvbnNoaXBDb2xvcjogJyNhNWFiYjYnLAogICAgem9vbUZpdDogZmFsc2UKICB9LAogICAgICBWRVJTSU9OID0gJzAuMC4xJzsKCiAgZnVuY3Rpb24gYXBwZW5kR3JhcGgoY29udGFpbmVyKSB7CiAgICBzdmcgPSBjb250YWluZXIuYXBwZW5kKCdzdmcnKS5hdHRyKCd3aWR0aCcsICcxMDAlJykuYXR0cignaGVpZ2h0JywgJzEwMCUnKS5hdHRyKCdjbGFzcycsICduZW80amQzLWdyYXBoJykub24oJ2RibGNsaWNrLnpvb20nLCBudWxsKS5hcHBlbmQoJ2cnKS5hdHRyKCd3aWR0aCcsICcxMDAlJykuYXR0cignaGVpZ2h0JywgJzEwMCUnKTsKICAgIHN2Z1JlbGF0aW9uc2hpcHMgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAncmVsYXRpb25zaGlwcycpOwogICAgc3ZnTm9kZXMgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbm9kZXMnKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZEltYWdlVG9Ob2RlKG5vZGUpIHsKICAgIHJldHVybiBub2RlLmFwcGVuZCgnaW1hZ2UnKS5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/ICcyNHB4JyA6ICczMHB4JzsKICAgIH0pLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaWNvbihkKSA/ICc1cHgnIDogJy0xNXB4JzsKICAgIH0pLmF0dHIoJ3hsaW5rOmhyZWYnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gaW1hZ2UoZCk7CiAgICB9KS5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGljb24oZCkgPyAnNXB4JyA6ICctMTZweCc7CiAgICB9KS5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBpY29uKGQpID8gJzI0cHgnIDogJzMwcHgnOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRJbmZvUGFuZWwoY29udGFpbmVyKSB7CiAgICByZXR1cm4gY29udGFpbmVyLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbmVvNGpkMy1pbmZvJyk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRJbmZvRWxlbWVudChjbHMsIGlzTm9kZSwgcHJvcGVydHksIHZhbHVlKSB7CiAgICB2YXIgZWxlbSA9IGluZm8uYXBwZW5kKCdhJyk7CiAgICBlbGVtLmF0dHIoJ2hyZWYnLCAnIycpLmF0dHIoJ2NsYXNzJywgY2xzKS5odG1sKCc8c3Ryb25nPicgKyBwcm9wZXJ0eSArICc8L3N0cm9uZz4nICsgKHZhbHVlID8gJzogJyArIHZhbHVlIDogJycpKTsKCiAgICBpZiAoIXZhbHVlKSB7CiAgICAgIGVsZW0uc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yID8gb3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvciA6IGlzTm9kZSA/IGNsYXNzMmNvbG9yKHByb3BlcnR5KSA6IGRlZmF1bHRDb2xvcigpOwogICAgICB9KS5zdHlsZSgnYm9yZGVyLWNvbG9yJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gb3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvciA/IGNsYXNzMmRhcmtlbkNvbG9yKG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IpIDogaXNOb2RlID8gY2xhc3MyZGFya2VuQ29sb3IocHJvcGVydHkpIDogZGVmYXVsdERhcmtlbkNvbG9yKCk7CiAgICAgIH0pLnN0eWxlKCdjb2xvcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgPyBjbGFzczJkYXJrZW5Db2xvcihvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yKSA6ICcjZmZmJzsKICAgICAgfSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRJbmZvRWxlbWVudENsYXNzKGNscywgbm9kZSkgewogICAgYXBwZW5kSW5mb0VsZW1lbnQoY2xzLCB0cnVlLCBub2RlKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZEluZm9FbGVtZW50UHJvcGVydHkoY2xzLCBwcm9wZXJ0eSwgdmFsdWUpIHsKICAgIGFwcGVuZEluZm9FbGVtZW50KGNscywgZmFsc2UsIHByb3BlcnR5LCB2YWx1ZSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRJbmZvRWxlbWVudFJlbGF0aW9uc2hpcChjbHMsIHJlbGF0aW9uc2hpcCkgewogICAgYXBwZW5kSW5mb0VsZW1lbnQoY2xzLCBmYWxzZSwgcmVsYXRpb25zaGlwKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZE5vZGUoKSB7CiAgICAvLyBleGlzdCByZW1vdmVkIG5vZGVzCiAgICBub2RlLmV4aXQoKS5yZW1vdmUoKTsKICAgIHJldHVybiBub2RlLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkgewogICAgICB2YXIgaGlnaGxpZ2h0LAogICAgICAgICAgaSwKICAgICAgICAgIGNsYXNzZXMgPSAnbm9kZScsCiAgICAgICAgICBsYWJlbCA9IGQubGFiZWxzWzBdOwoKICAgICAgaWYgKGljb24oZCkpIHsKICAgICAgICBjbGFzc2VzICs9ICcgbm9kZS1pY29uJzsKICAgICAgfQoKICAgICAgaWYgKGltYWdlKGQpKSB7CiAgICAgICAgY2xhc3NlcyArPSAnIG5vZGUtaW1hZ2UnOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5oaWdobGlnaHQpIHsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5oaWdobGlnaHQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGhpZ2hsaWdodCA9IG9wdGlvbnMuaGlnaGxpZ2h0W2ldOwoKICAgICAgICAgIGlmIChkLmxhYmVsc1swXSA9PT0gaGlnaGxpZ2h0WyJjbGFzcyJdICYmIGQucHJvcGVydGllc1toaWdobGlnaHQucHJvcGVydHldID09PSBoaWdobGlnaHQudmFsdWUpIHsKICAgICAgICAgICAgY2xhc3NlcyArPSAnIG5vZGUtaGlnaGxpZ2h0ZWQnOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBjbGFzc2VzOwogICAgfSkuYXR0cignaWQnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gIm5vZGUtIi5jb25jYXQoZC5pZCk7CiAgICB9KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICBkLmZ4ID0gZC5meSA9IG51bGw7CgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlQ2xpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZUNsaWNrKGQsIGkpOwogICAgICB9CiAgICB9KS5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkgewogICAgICBzdGlja05vZGUoZCk7CgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlRG91YmxlQ2xpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZURvdWJsZUNsaWNrKGQpOwogICAgICB9CiAgICB9KS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgIGlmIChpbmZvKSB7CiAgICAgICAgdXBkYXRlSW5mbyhkKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uTm9kZU1vdXNlRW50ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uTm9kZU1vdXNlRW50ZXIoZCk7CiAgICAgIH0KICAgIH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGQpIHsKICAgICAgaWYgKGluZm8pIHsKICAgICAgICBjbGVhckluZm8oZCk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vbk5vZGVNb3VzZUxlYXZlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgb3B0aW9ucy5vbk5vZGVNb3VzZUxlYXZlKGQpOwogICAgICB9CiAgICB9KS5jYWxsKGQzLmRyYWcoKS5vbignc3RhcnQnLCBkcmFnU3RhcnRlZCkub24oJ2RyYWcnLCBkcmFnZ2VkKS5vbignZW5kJywgZHJhZ0VuZGVkKSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmROb2RlVG9HcmFwaCgpIHsKICAgIHZhciBuID0gYXBwZW5kTm9kZSgpOwogICAgYXBwZW5kUmluZ1RvTm9kZShuKTsKICAgIGFwcGVuZE91dGxpbmVUb05vZGUobik7CiAgICBhcHBlbmRMYWJlbHRvTm9kZShuKTsKCiAgICBpZiAob3B0aW9ucy5pY29ucykgewogICAgICBhcHBlbmRUZXh0VG9Ob2RlKG4pOwogICAgfQoKICAgIGlmIChvcHRpb25zLmltYWdlcykgewogICAgICBhcHBlbmRJbWFnZVRvTm9kZShuKTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZExhYmVsdG9Ob2RlKG5vZGUpIHsKICAgIG5vZGUuZWFjaChmdW5jdGlvbiAoZCkgewogICAgICAvLyBsZXQgbWFwcGluZyA9IGRbJ3Byb3BlcnRpZXMnXVsnbWFwcGluZyddCiAgICAgIHZhciB0ZXh0X25vZGVzID0gZFsnaWQnXTsKICAgICAgdmFyIHNlbGVjdGlvbiA9IGQzLnNlbGVjdCh0aGlzKTsKICAgICAgc2VsZWN0aW9uLmFwcGVuZCgndGV4dCcpLmF0dHIoJ3gnLCAnMCcpLmF0dHIoJ3knLCAnMCcpLnN0eWxlKCdmb250LXNpemUnLCAnOHB4Jykuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLnN0eWxlKCdmaWxsJywgJyM1QTQyMjEnKS5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpLnN0eWxlKCdmb250LXdlaWdodCcsICdib2xkJykudGV4dCh0ZXh0X25vZGVzKTsKICAgIH0pOyAvLyBjb25zdCB0ZXh0X25vZGVzID0gdGV4dERpc3BsYXkoKQogIH0KCiAgZnVuY3Rpb24gdGV4dERpc3BsYXkodGV4dCkgewogICAgdmFyIHRocmVzaG9sZCA9IDk7CiAgICB2YXIgcmVzID0gW107CgogICAgaWYgKHRleHQpIHsKICAgICAgdmFyIHRleHRfdG9rZW5zID0gdGV4dC5zcGxpdCgnICcpOwogICAgICB2YXIgdG1wID0gJyc7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGV4dF90b2tlbnMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgaWYgKHRtcC5sZW5ndGggPiB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICByZXMucHVzaCh0b2tlbi5zbGljZSgwLCA5KSArICcuLicpOwogICAgICAgICAgICAgIHRtcCA9ICcnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodG1wLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgaWYgKHRva2VuLmxlbmd0aCA8PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgIHRtcCArPSB0b2tlbjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVzLnB1c2godG9rZW4uc2xpY2UoMCwgOSkgKyAnLi4nKTsKICAgICAgICAgICAgICAgIHRtcCA9ICcnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodG1wLmxlbmd0aCArIDEgKyB0b2tlbi5sZW5ndGggPD0gdGhyZXNob2xkKSB7CiAgICAgICAgICAgICAgICB0bXAgKz0gJyAnICsgdG9rZW47CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRtcCk7CiAgICAgICAgICAgICAgICB0bXAgPSB0b2tlbjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICBpZiAodG9rZW4ubGVuZ3RoIDw9IHRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgdG1wICs9IHRva2VuOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXMucHVzaCh0b2tlbi5zbGljZSgwLCA5KSArICcuLicpOwogICAgICAgICAgICAgICAgdG1wID0gJyc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmICh0bXAubGVuZ3RoICsgMSArIHRva2VuLmxlbmd0aCA8PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgIHRtcCArPSAnICcgKyB0b2tlbjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVzLnB1c2godG1wKTsKICAgICAgICAgICAgICAgIHRtcCA9IHRva2VuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIGlmICh0bXAubGVuZ3RoID4gMCkgewogICAgICAgIGlmICh0bXAubGVuZ3RoID4gdGhyZXNob2xkKSB7CiAgICAgICAgICByZXMucHVzaCh0bXAuc2xpY2UoMCwgOCkgKyAnLi4nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzLnB1c2godG1wKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJlcyA9IFsnTm9uZSddOwogICAgfQoKICAgIHJldHVybiByZXM7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRPdXRsaW5lVG9Ob2RlKG5vZGUpIHsKICAgIHJldHVybiBub2RlLmFwcGVuZCgnY2lyY2xlJykuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gIm91dGxpbmUgbm9kZXR5cGVfIi5jb25jYXQoZC5wcm9wZXJ0aWVzLmVudGl0eV90eXBlID8gZC5wcm9wZXJ0aWVzLmVudGl0eV90eXBlIDogJ3VuZGVmaW5lZCcpOwogICAgfSkuYXR0cigncicsIG9wdGlvbnMubm9kZVJhZGl1cykuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5jb2xvcjsgLy8gcmV0dXJuICcjNzhiM2QwJwogICAgICAvLyAgICByZXR1cm4gb3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvciA/IG9wdGlvbnMubm9kZU91dGxpbmVGaWxsQ29sb3IgOiBjbGFzczJjb2xvcihkLmxhYmVsc1swXSk7CiAgICB9KSAvLyAuc3R5bGUoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7CiAgICAvLyAgIC8vIHJldHVybiAnIzM1OGViOCcKICAgIC8vICAgcmV0dXJuIGRbJ3N0cm9rZV9jb2xvciddCiAgICAvLyAgIC8vICAgIHJldHVybiBvcHRpb25zLm5vZGVPdXRsaW5lRmlsbENvbG9yID8gY2xhc3MyZGFya2VuQ29sb3Iob3B0aW9ucy5ub2RlT3V0bGluZUZpbGxDb2xvcikgOiBjbGFzczJkYXJrZW5Db2xvcihkLmxhYmVsc1swXSk7CiAgICAvLyB9KQogICAgLmFwcGVuZCgndGl0bGUnKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCd0ZWVlZWUnLCBkKQogICAgICByZXR1cm4gZC5wcm9wZXJ0aWVzLmxhYmVsOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRSaW5nVG9Ob2RlKG5vZGUpIHsKICAgIHJldHVybiBub2RlLmFwcGVuZCgnY2lyY2xlJykuYXR0cignY2xhc3MnLCAncmluZycpLmF0dHIoJ3InLCBvcHRpb25zLm5vZGVSYWRpdXMgKiAxLjE2KTsgLy8gLmFwcGVuZCgndGl0bGUnKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAvLyAgIHJldHVybiB0b1N0cmluZyhkLmxhYmVsKQogICAgLy8gfSkKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFRleHRUb05vZGUobm9kZSkgewogICAgcmV0dXJuIG5vZGUuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gJ3RleHQnICsgKGljb24oZCkgPyAnIGljb24nIDogJycpOwogICAgfSkuYXR0cignc3Ryb2tlJywgJ3doaXRlJykuYXR0cignZm9udC1zaXplJywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGljb24oZCkgPyBvcHRpb25zLm5vZGVSYWRpdXMgKyAncHgnIDogJzEwcHgnOwogICAgfSkuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGljb24oZCkgPyBwYXJzZUludChNYXRoLnJvdW5kKG9wdGlvbnMubm9kZVJhZGl1cyAqIDAuMzIpKSArICdweCcgOiAnNHB4JzsKICAgIH0pLmh0bWwoZnVuY3Rpb24gKGQpIHsKICAgICAgdmFyIF9pY29uID0gaWNvbihkKTsKCiAgICAgIHJldHVybiBfaWNvbiA/ICcmI3gnICsgX2ljb24gOiBkLmlkOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRSYW5kb21EYXRhVG9Ob2RlKGQsIG1heE5vZGVzVG9HZW5lcmF0ZSkgewogICAgdmFyIGRhdGEgPSByYW5kb21EM0RhdGEoZCwgbWF4Tm9kZXNUb0dlbmVyYXRlKTsKICAgIHVwZGF0ZVdpdGhOZW80akRhdGEoZGF0YSk7CiAgfQoKICBmdW5jdGlvbiBhcHBlbmRSZWxhdGlvbnNoaXAoKSB7CiAgICAvLyBleGlzdCByZW1vdmVkIHJlbGF0aW9uc2hpcHMKICAgIHJlbGF0aW9uc2hpcC5leGl0KCkucmVtb3ZlKCk7CiAgICByZXR1cm4gcmVsYXRpb25zaGlwLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAncmVsYXRpb25zaGlwJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHsKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uUmVsYXRpb25zaGlwQ2xpY2sgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBvcHRpb25zLm9uUmVsYXRpb25zaGlwQ2xpY2soZCk7CiAgICAgIH0KICAgIH0pLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGQpIHsKICAgICAgaWYgKGluZm8pIHsKICAgICAgICB1cGRhdGVJbmZvKGQpOwogICAgICB9CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZE91dGxpbmVUb1JlbGF0aW9uc2hpcChyKSB7CiAgICByZXR1cm4gci5hcHBlbmQoJ3BhdGgnKS5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAib3V0bGluZSBub2RldHlwZV8iLmNvbmNhdChkLnByb3BlcnRpZXMucmVsYXRpb25zaGlwX3R5cGUgPyBkLnByb3BlcnRpZXMucmVsYXRpb25zaGlwX3R5cGUgOiAndW5kZWZpbmVkJyk7CiAgICB9KS5hdHRyKCdmaWxsJywgJyNhNWFiYjYnKS5hdHRyKCdzdHJva2UnLCAnbm9uZScpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kT3ZlcmxheVRvUmVsYXRpb25zaGlwKHIpIHsKICAgIHJldHVybiByLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2NsYXNzJywgJ292ZXJsYXknKTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFRleHRUb1JlbGF0aW9uc2hpcChyKSB7CiAgICByZXR1cm4gci5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICd0ZXh0JykuYXR0cignZmlsbCcsICcjMDAwMDAwJykuYXR0cignZm9udC1zaXplJywgJzEwcHgnKS5hdHRyKCdwb2ludGVyLWV2ZW50cycsICdub25lJykuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJykuYXR0cignY29sb3InLCAnd2hpdGUnKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGQpCiAgICAgIHZhciBtYXBwaW5nID0gZFsncHJvcGVydGllcyddWydtYXBwaW5nJ107CiAgICAgIHJldHVybiBkWydwcm9wZXJ0aWVzJ11bbWFwcGluZ107CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGFwcGVuZFJlbGF0aW9uc2hpcFRvR3JhcGgoKSB7CiAgICB2YXIgcmVsYXRpb25zaGlwID0gYXBwZW5kUmVsYXRpb25zaGlwKCksCiAgICAgICAgdGV4dCA9IGFwcGVuZFRleHRUb1JlbGF0aW9uc2hpcChyZWxhdGlvbnNoaXApLAogICAgICAgIG91dGxpbmUgPSBhcHBlbmRPdXRsaW5lVG9SZWxhdGlvbnNoaXAocmVsYXRpb25zaGlwKSwKICAgICAgICBvdmVybGF5ID0gYXBwZW5kT3ZlcmxheVRvUmVsYXRpb25zaGlwKHJlbGF0aW9uc2hpcCk7CiAgICByZXR1cm4gewogICAgICBvdXRsaW5lOiBvdXRsaW5lLAogICAgICBvdmVybGF5OiBvdmVybGF5LAogICAgICByZWxhdGlvbnNoaXA6IHJlbGF0aW9uc2hpcCwKICAgICAgdGV4dDogdGV4dAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGNsYXNzMmNvbG9yKGNscykgewogICAgdmFyIGNvbG9yID0gY2xhc3NlczJjb2xvcnNbY2xzXTsKCiAgICBpZiAoIWNvbG9yKSB7CiAgICAgIC8vICAgICAgICAgICAgY29sb3IgPSBvcHRpb25zLmNvbG9yc1tNYXRoLm1pbihudW1DbGFzc2VzLCBvcHRpb25zLmNvbG9ycy5sZW5ndGggLSAxKV07CiAgICAgIGNvbG9yID0gb3B0aW9ucy5jb2xvcnNbbnVtQ2xhc3NlcyAlIG9wdGlvbnMuY29sb3JzLmxlbmd0aF07CiAgICAgIGNsYXNzZXMyY29sb3JzW2Nsc10gPSBjb2xvcjsKICAgICAgbnVtQ2xhc3NlcysrOwogICAgfQoKICAgIHJldHVybiBjb2xvcjsKICB9CgogIGZ1bmN0aW9uIGNsYXNzMmRhcmtlbkNvbG9yKGNscykgewogICAgcmV0dXJuIGQzLnJnYihjbGFzczJjb2xvcihjbHMpKS5kYXJrZXIoMSk7CiAgfQoKICBmdW5jdGlvbiBjbGVhckluZm8oKSB7CiAgICBpbmZvLmh0bWwoJycpOwogIH0KCiAgZnVuY3Rpb24gY29sb3IoKSB7CiAgICByZXR1cm4gb3B0aW9ucy5jb2xvcnNbb3B0aW9ucy5jb2xvcnMubGVuZ3RoICogTWF0aC5yYW5kb20oKSA8PCAwXTsKICB9CgogIGZ1bmN0aW9uIGNvbG9ycygpIHsKICAgIC8vIGQzLnNjaGVtZUNhdGVnb3J5MTAsCiAgICAvLyBkMy5zY2hlbWVDYXRlZ29yeTIwLAogICAgcmV0dXJuIFsnIzY4YmRmNicsIC8vIGxpZ2h0IGJsdWUKICAgICcjNmRjZTllJywgLy8gZ3JlZW4gIzEKICAgICcjZmFhZmMyJywgLy8gbGlnaHQgcGluawogICAgJyNmMmJhZjYnLCAvLyBwdXJwbGUKICAgICcjZmY5MjhjJywgLy8gbGlnaHQgcmVkCiAgICAnI2ZjZWE3ZScsIC8vIGxpZ2h0IHllbGxvdwogICAgJyNmZmM3NjYnLCAvLyBsaWdodCBvcmFuZ2UKICAgICcjNDA1ZjllJywgLy8gbmF2eSBibHVlCiAgICAnI2E1YWJiNicsIC8vIGRhcmsgZ3JheQogICAgJyM3OGNlY2InLCAvLyBncmVlbiAjMiwKICAgICcjYjg4Y2JiJywgLy8gZGFyayBwdXJwbGUKICAgICcjY2VkMmQ5JywgLy8gbGlnaHQgZ3JheQogICAgJyNlODQ2NDYnLCAvLyBkYXJrIHJlZAogICAgJyNmYTVmODYnLCAvLyBkYXJrIHBpbmsKICAgICcjZmZhYjFhJywgLy8gZGFyayBvcmFuZ2UKICAgICcjZmNkYTE5JywgLy8gZGFyayB5ZWxsb3cKICAgICcjNzk3YjgwJywgLy8gYmxhY2sKICAgICcjYzlkOTZmJywgLy8gcGlzdGFjY2hpbwogICAgJyM0Nzk5MWYnLCAvLyBncmVlbiAjMwogICAgJyM3MGVkZWUnLCAvLyB0dXJxdW9pc2UKICAgICcjZmY3NWVhJyAvLyBwaW5rCiAgICBdOwogIH0KCiAgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGlkKSB7CiAgICB2YXIgZmlsdGVyID0gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgIHJldHVybiBlbGVtLmlkID09PSBpZDsKICAgIH0pOwogICAgcmV0dXJuIGZpbHRlci5sZW5ndGggPiAwOwogIH0KCiAgZnVuY3Rpb24gZGVmYXVsdENvbG9yKCkgewogICAgcmV0dXJuIG9wdGlvbnMucmVsYXRpb25zaGlwQ29sb3I7CiAgfQoKICBmdW5jdGlvbiBkZWZhdWx0RGFya2VuQ29sb3IoKSB7CiAgICByZXR1cm4gZDMucmdiKG9wdGlvbnMuY29sb3JzW29wdGlvbnMuY29sb3JzLmxlbmd0aCAtIDFdKS5kYXJrZXIoMSk7CiAgfQoKICBmdW5jdGlvbiBkcmFnRW5kZWQoZCkgewogICAgaWYgKCFkMy5ldmVudC5hY3RpdmUpIHsKICAgICAgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgIH0KCiAgICBpZiAodHlwZW9mIG9wdGlvbnMub25Ob2RlRHJhZ0VuZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBvcHRpb25zLm9uTm9kZURyYWdFbmQoZCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkcmFnZ2VkKGQpIHsKICAgIHN0aWNrTm9kZShkKTsKICB9CgogIGZ1bmN0aW9uIGRyYWdTdGFydGVkKGQpIHsKICAgIGlmICghZDMuZXZlbnQuYWN0aXZlKSB7CiAgICAgIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4zKS5yZXN0YXJ0KCk7CiAgICB9CgogICAgZC5meCA9IGQueDsKICAgIGQuZnkgPSBkLnk7CgogICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uTm9kZURyYWdTdGFydCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBvcHRpb25zLm9uTm9kZURyYWdTdGFydChkKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGV4dGVuZChvYmoxLCBvYmoyKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXJnZShvYmosIG9iajEpOwogICAgbWVyZ2Uob2JqLCBvYmoyKTsKICAgIHJldHVybiBvYmo7CiAgfQoKICBmdW5jdGlvbiBmb250QXdlc29tZUljb25zKCkgewogICAgcmV0dXJuIHsKICAgICAgJ2dsYXNzJzogJ2YwMDAnLAogICAgICAnbXVzaWMnOiAnZjAwMScsCiAgICAgICdzZWFyY2gnOiAnZjAwMicsCiAgICAgICdlbnZlbG9wZS1vJzogJ2YwMDMnLAogICAgICAnaGVhcnQnOiAnZjAwNCcsCiAgICAgICdzdGFyJzogJ2YwMDUnLAogICAgICAnc3Rhci1vJzogJ2YwMDYnLAogICAgICAndXNlcic6ICdmMDA3JywKICAgICAgJ2ZpbG0nOiAnZjAwOCcsCiAgICAgICd0aC1sYXJnZSc6ICdmMDA5JywKICAgICAgJ3RoJzogJ2YwMGEnLAogICAgICAndGgtbGlzdCc6ICdmMDBiJywKICAgICAgJ2NoZWNrJzogJ2YwMGMnLAogICAgICAncmVtb3ZlLGNsb3NlLHRpbWVzJzogJ2YwMGQnLAogICAgICAnc2VhcmNoLXBsdXMnOiAnZjAwZScsCiAgICAgICdzZWFyY2gtbWludXMnOiAnZjAxMCcsCiAgICAgICdwb3dlci1vZmYnOiAnZjAxMScsCiAgICAgICdzaWduYWwnOiAnZjAxMicsCiAgICAgICdnZWFyLGNvZyc6ICdmMDEzJywKICAgICAgJ3RyYXNoLW8nOiAnZjAxNCcsCiAgICAgICdob21lJzogJ2YwMTUnLAogICAgICAnZmlsZS1vJzogJ2YwMTYnLAogICAgICAnY2xvY2stbyc6ICdmMDE3JywKICAgICAgJ3JvYWQnOiAnZjAxOCcsCiAgICAgICdkb3dubG9hZCc6ICdmMDE5JywKICAgICAgJ2Fycm93LWNpcmNsZS1vLWRvd24nOiAnZjAxYScsCiAgICAgICdhcnJvdy1jaXJjbGUtby11cCc6ICdmMDFiJywKICAgICAgJ2luYm94JzogJ2YwMWMnLAogICAgICAncGxheS1jaXJjbGUtbyc6ICdmMDFkJywKICAgICAgJ3JvdGF0ZS1yaWdodCxyZXBlYXQnOiAnZjAxZScsCiAgICAgICdyZWZyZXNoJzogJ2YwMjEnLAogICAgICAnbGlzdC1hbHQnOiAnZjAyMicsCiAgICAgICdsb2NrJzogJ2YwMjMnLAogICAgICAnZmxhZyc6ICdmMDI0JywKICAgICAgJ2hlYWRwaG9uZXMnOiAnZjAyNScsCiAgICAgICd2b2x1bWUtb2ZmJzogJ2YwMjYnLAogICAgICAndm9sdW1lLWRvd24nOiAnZjAyNycsCiAgICAgICd2b2x1bWUtdXAnOiAnZjAyOCcsCiAgICAgICdxcmNvZGUnOiAnZjAyOScsCiAgICAgICdiYXJjb2RlJzogJ2YwMmEnLAogICAgICAndGFnJzogJ2YwMmInLAogICAgICAndGFncyc6ICdmMDJjJywKICAgICAgJ2Jvb2snOiAnZjAyZCcsCiAgICAgICdib29rbWFyayc6ICdmMDJlJywKICAgICAgJ3ByaW50JzogJ2YwMmYnLAogICAgICAnY2FtZXJhJzogJ2YwMzAnLAogICAgICAnZm9udCc6ICdmMDMxJywKICAgICAgJ2JvbGQnOiAnZjAzMicsCiAgICAgICdpdGFsaWMnOiAnZjAzMycsCiAgICAgICd0ZXh0LWhlaWdodCc6ICdmMDM0JywKICAgICAgJ3RleHQtd2lkdGgnOiAnZjAzNScsCiAgICAgICdhbGlnbi1sZWZ0JzogJ2YwMzYnLAogICAgICAnYWxpZ24tY2VudGVyJzogJ2YwMzcnLAogICAgICAnYWxpZ24tcmlnaHQnOiAnZjAzOCcsCiAgICAgICdhbGlnbi1qdXN0aWZ5JzogJ2YwMzknLAogICAgICAnbGlzdCc6ICdmMDNhJywKICAgICAgJ2RlZGVudCxvdXRkZW50JzogJ2YwM2InLAogICAgICAnaW5kZW50JzogJ2YwM2MnLAogICAgICAndmlkZW8tY2FtZXJhJzogJ2YwM2QnLAogICAgICAncGhvdG8saW1hZ2UscGljdHVyZS1vJzogJ2YwM2UnLAogICAgICAncGVuY2lsJzogJ2YwNDAnLAogICAgICAnbWFwLW1hcmtlcic6ICdmMDQxJywKICAgICAgJ2FkanVzdCc6ICdmMDQyJywKICAgICAgJ3RpbnQnOiAnZjA0MycsCiAgICAgICdlZGl0LHBlbmNpbC1zcXVhcmUtbyc6ICdmMDQ0JywKICAgICAgJ3NoYXJlLXNxdWFyZS1vJzogJ2YwNDUnLAogICAgICAnY2hlY2stc3F1YXJlLW8nOiAnZjA0NicsCiAgICAgICdhcnJvd3MnOiAnZjA0NycsCiAgICAgICdzdGVwLWJhY2t3YXJkJzogJ2YwNDgnLAogICAgICAnZmFzdC1iYWNrd2FyZCc6ICdmMDQ5JywKICAgICAgJ2JhY2t3YXJkJzogJ2YwNGEnLAogICAgICAncGxheSc6ICdmMDRiJywKICAgICAgJ3BhdXNlJzogJ2YwNGMnLAogICAgICAnc3RvcCc6ICdmMDRkJywKICAgICAgJ2ZvcndhcmQnOiAnZjA0ZScsCiAgICAgICdmYXN0LWZvcndhcmQnOiAnZjA1MCcsCiAgICAgICdzdGVwLWZvcndhcmQnOiAnZjA1MScsCiAgICAgICdlamVjdCc6ICdmMDUyJywKICAgICAgJ2NoZXZyb24tbGVmdCc6ICdmMDUzJywKICAgICAgJ2NoZXZyb24tcmlnaHQnOiAnZjA1NCcsCiAgICAgICdwbHVzLWNpcmNsZSc6ICdmMDU1JywKICAgICAgJ21pbnVzLWNpcmNsZSc6ICdmMDU2JywKICAgICAgJ3RpbWVzLWNpcmNsZSc6ICdmMDU3JywKICAgICAgJ2NoZWNrLWNpcmNsZSc6ICdmMDU4JywKICAgICAgJ3F1ZXN0aW9uLWNpcmNsZSc6ICdmMDU5JywKICAgICAgJ2luZm8tY2lyY2xlJzogJ2YwNWEnLAogICAgICAnY3Jvc3NoYWlycyc6ICdmMDViJywKICAgICAgJ3RpbWVzLWNpcmNsZS1vJzogJ2YwNWMnLAogICAgICAnY2hlY2stY2lyY2xlLW8nOiAnZjA1ZCcsCiAgICAgICdiYW4nOiAnZjA1ZScsCiAgICAgICdhcnJvdy1sZWZ0JzogJ2YwNjAnLAogICAgICAnYXJyb3ctcmlnaHQnOiAnZjA2MScsCiAgICAgICdhcnJvdy11cCc6ICdmMDYyJywKICAgICAgJ2Fycm93LWRvd24nOiAnZjA2MycsCiAgICAgICdtYWlsLWZvcndhcmQsc2hhcmUnOiAnZjA2NCcsCiAgICAgICdleHBhbmQnOiAnZjA2NScsCiAgICAgICdjb21wcmVzcyc6ICdmMDY2JywKICAgICAgJ3BsdXMnOiAnZjA2NycsCiAgICAgICdtaW51cyc6ICdmMDY4JywKICAgICAgJ2FzdGVyaXNrJzogJ2YwNjknLAogICAgICAnZXhjbGFtYXRpb24tY2lyY2xlJzogJ2YwNmEnLAogICAgICAnZ2lmdCc6ICdmMDZiJywKICAgICAgJ2xlYWYnOiAnZjA2YycsCiAgICAgICdmaXJlJzogJ2YwNmQnLAogICAgICAnZXllJzogJ2YwNmUnLAogICAgICAnZXllLXNsYXNoJzogJ2YwNzAnLAogICAgICAnd2FybmluZyxleGNsYW1hdGlvbi10cmlhbmdsZSc6ICdmMDcxJywKICAgICAgJ3BsYW5lJzogJ2YwNzInLAogICAgICAnY2FsZW5kYXInOiAnZjA3MycsCiAgICAgICdyYW5kb20nOiAnZjA3NCcsCiAgICAgICdjb21tZW50JzogJ2YwNzUnLAogICAgICAnbWFnbmV0JzogJ2YwNzYnLAogICAgICAnY2hldnJvbi11cCc6ICdmMDc3JywKICAgICAgJ2NoZXZyb24tZG93bic6ICdmMDc4JywKICAgICAgJ3JldHdlZXQnOiAnZjA3OScsCiAgICAgICdzaG9wcGluZy1jYXJ0JzogJ2YwN2EnLAogICAgICAnZm9sZGVyJzogJ2YwN2InLAogICAgICAnZm9sZGVyLW9wZW4nOiAnZjA3YycsCiAgICAgICdhcnJvd3Mtdic6ICdmMDdkJywKICAgICAgJ2Fycm93cy1oJzogJ2YwN2UnLAogICAgICAnYmFyLWNoYXJ0LW8sYmFyLWNoYXJ0JzogJ2YwODAnLAogICAgICAndHdpdHRlci1zcXVhcmUnOiAnZjA4MScsCiAgICAgICdmYWNlYm9vay1zcXVhcmUnOiAnZjA4MicsCiAgICAgICdjYW1lcmEtcmV0cm8nOiAnZjA4MycsCiAgICAgICdrZXknOiAnZjA4NCcsCiAgICAgICdnZWFycyxjb2dzJzogJ2YwODUnLAogICAgICAnY29tbWVudHMnOiAnZjA4NicsCiAgICAgICd0aHVtYnMtby11cCc6ICdmMDg3JywKICAgICAgJ3RodW1icy1vLWRvd24nOiAnZjA4OCcsCiAgICAgICdzdGFyLWhhbGYnOiAnZjA4OScsCiAgICAgICdoZWFydC1vJzogJ2YwOGEnLAogICAgICAnc2lnbi1vdXQnOiAnZjA4YicsCiAgICAgICdsaW5rZWRpbi1zcXVhcmUnOiAnZjA4YycsCiAgICAgICd0aHVtYi10YWNrJzogJ2YwOGQnLAogICAgICAnZXh0ZXJuYWwtbGluayc6ICdmMDhlJywKICAgICAgJ3NpZ24taW4nOiAnZjA5MCcsCiAgICAgICd0cm9waHknOiAnZjA5MScsCiAgICAgICdnaXRodWItc3F1YXJlJzogJ2YwOTInLAogICAgICAndXBsb2FkJzogJ2YwOTMnLAogICAgICAnbGVtb24tbyc6ICdmMDk0JywKICAgICAgJ3Bob25lJzogJ2YwOTUnLAogICAgICAnc3F1YXJlLW8nOiAnZjA5NicsCiAgICAgICdib29rbWFyay1vJzogJ2YwOTcnLAogICAgICAncGhvbmUtc3F1YXJlJzogJ2YwOTgnLAogICAgICAndHdpdHRlcic6ICdmMDk5JywKICAgICAgJ2ZhY2Vib29rLWYsZmFjZWJvb2snOiAnZjA5YScsCiAgICAgICdnaXRodWInOiAnZjA5YicsCiAgICAgICd1bmxvY2snOiAnZjA5YycsCiAgICAgICdjcmVkaXQtY2FyZCc6ICdmMDlkJywKICAgICAgJ2ZlZWQscnNzJzogJ2YwOWUnLAogICAgICAnaGRkLW8nOiAnZjBhMCcsCiAgICAgICdidWxsaG9ybic6ICdmMGExJywKICAgICAgJ2JlbGwnOiAnZjBmMycsCiAgICAgICdjZXJ0aWZpY2F0ZSc6ICdmMGEzJywKICAgICAgJ2hhbmQtby1yaWdodCc6ICdmMGE0JywKICAgICAgJ2hhbmQtby1sZWZ0JzogJ2YwYTUnLAogICAgICAnaGFuZC1vLXVwJzogJ2YwYTYnLAogICAgICAnaGFuZC1vLWRvd24nOiAnZjBhNycsCiAgICAgICdhcnJvdy1jaXJjbGUtbGVmdCc6ICdmMGE4JywKICAgICAgJ2Fycm93LWNpcmNsZS1yaWdodCc6ICdmMGE5JywKICAgICAgJ2Fycm93LWNpcmNsZS11cCc6ICdmMGFhJywKICAgICAgJ2Fycm93LWNpcmNsZS1kb3duJzogJ2YwYWInLAogICAgICAnZ2xvYmUnOiAnZjBhYycsCiAgICAgICd3cmVuY2gnOiAnZjBhZCcsCiAgICAgICd0YXNrcyc6ICdmMGFlJywKICAgICAgJ2ZpbHRlcic6ICdmMGIwJywKICAgICAgJ2JyaWVmY2FzZSc6ICdmMGIxJywKICAgICAgJ2Fycm93cy1hbHQnOiAnZjBiMicsCiAgICAgICdncm91cCx1c2Vycyc6ICdmMGMwJywKICAgICAgJ2NoYWluLGxpbmsnOiAnZjBjMScsCiAgICAgICdjbG91ZCc6ICdmMGMyJywKICAgICAgJ2ZsYXNrJzogJ2YwYzMnLAogICAgICAnY3V0LHNjaXNzb3JzJzogJ2YwYzQnLAogICAgICAnY29weSxmaWxlcy1vJzogJ2YwYzUnLAogICAgICAncGFwZXJjbGlwJzogJ2YwYzYnLAogICAgICAnc2F2ZSxmbG9wcHktbyc6ICdmMGM3JywKICAgICAgJ3NxdWFyZSc6ICdmMGM4JywKICAgICAgJ25hdmljb24scmVvcmRlcixiYXJzJzogJ2YwYzknLAogICAgICAnbGlzdC11bCc6ICdmMGNhJywKICAgICAgJ2xpc3Qtb2wnOiAnZjBjYicsCiAgICAgICdzdHJpa2V0aHJvdWdoJzogJ2YwY2MnLAogICAgICAndW5kZXJsaW5lJzogJ2YwY2QnLAogICAgICAndGFibGUnOiAnZjBjZScsCiAgICAgICdtYWdpYyc6ICdmMGQwJywKICAgICAgJ3RydWNrJzogJ2YwZDEnLAogICAgICAncGludGVyZXN0JzogJ2YwZDInLAogICAgICAncGludGVyZXN0LXNxdWFyZSc6ICdmMGQzJywKICAgICAgJ2dvb2dsZS1wbHVzLXNxdWFyZSc6ICdmMGQ0JywKICAgICAgJ2dvb2dsZS1wbHVzJzogJ2YwZDUnLAogICAgICAnbW9uZXknOiAnZjBkNicsCiAgICAgICdjYXJldC1kb3duJzogJ2YwZDcnLAogICAgICAnY2FyZXQtdXAnOiAnZjBkOCcsCiAgICAgICdjYXJldC1sZWZ0JzogJ2YwZDknLAogICAgICAnY2FyZXQtcmlnaHQnOiAnZjBkYScsCiAgICAgICdjb2x1bW5zJzogJ2YwZGInLAogICAgICAndW5zb3J0ZWQsc29ydCc6ICdmMGRjJywKICAgICAgJ3NvcnQtZG93bixzb3J0LWRlc2MnOiAnZjBkZCcsCiAgICAgICdzb3J0LXVwLHNvcnQtYXNjJzogJ2YwZGUnLAogICAgICAnZW52ZWxvcGUnOiAnZjBlMCcsCiAgICAgICdsaW5rZWRpbic6ICdmMGUxJywKICAgICAgJ3JvdGF0ZS1sZWZ0LHVuZG8nOiAnZjBlMicsCiAgICAgICdsZWdhbCxnYXZlbCc6ICdmMGUzJywKICAgICAgJ2Rhc2hib2FyZCx0YWNob21ldGVyJzogJ2YwZTQnLAogICAgICAnY29tbWVudC1vJzogJ2YwZTUnLAogICAgICAnY29tbWVudHMtbyc6ICdmMGU2JywKICAgICAgJ2ZsYXNoLGJvbHQnOiAnZjBlNycsCiAgICAgICdzaXRlbWFwJzogJ2YwZTgnLAogICAgICAndW1icmVsbGEnOiAnZjBlOScsCiAgICAgICdwYXN0ZSxjbGlwYm9hcmQnOiAnZjBlYScsCiAgICAgICdsaWdodGJ1bGItbyc6ICdmMGViJywKICAgICAgJ2V4Y2hhbmdlJzogJ2YwZWMnLAogICAgICAnY2xvdWQtZG93bmxvYWQnOiAnZjBlZCcsCiAgICAgICdjbG91ZC11cGxvYWQnOiAnZjBlZScsCiAgICAgICd1c2VyLW1kJzogJ2YwZjAnLAogICAgICAnc3RldGhvc2NvcGUnOiAnZjBmMScsCiAgICAgICdzdWl0Y2FzZSc6ICdmMGYyJywKICAgICAgJ2JlbGwtbyc6ICdmMGEyJywKICAgICAgJ2NvZmZlZSc6ICdmMGY0JywKICAgICAgJ2N1dGxlcnknOiAnZjBmNScsCiAgICAgICdmaWxlLXRleHQtbyc6ICdmMGY2JywKICAgICAgJ2J1aWxkaW5nLW8nOiAnZjBmNycsCiAgICAgICdob3NwaXRhbC1vJzogJ2YwZjgnLAogICAgICAnYW1idWxhbmNlJzogJ2YwZjknLAogICAgICAnbWVka2l0JzogJ2YwZmEnLAogICAgICAnZmlnaHRlci1qZXQnOiAnZjBmYicsCiAgICAgICdiZWVyJzogJ2YwZmMnLAogICAgICAnaC1zcXVhcmUnOiAnZjBmZCcsCiAgICAgICdwbHVzLXNxdWFyZSc6ICdmMGZlJywKICAgICAgJ2FuZ2xlLWRvdWJsZS1sZWZ0JzogJ2YxMDAnLAogICAgICAnYW5nbGUtZG91YmxlLXJpZ2h0JzogJ2YxMDEnLAogICAgICAnYW5nbGUtZG91YmxlLXVwJzogJ2YxMDInLAogICAgICAnYW5nbGUtZG91YmxlLWRvd24nOiAnZjEwMycsCiAgICAgICdhbmdsZS1sZWZ0JzogJ2YxMDQnLAogICAgICAnYW5nbGUtcmlnaHQnOiAnZjEwNScsCiAgICAgICdhbmdsZS11cCc6ICdmMTA2JywKICAgICAgJ2FuZ2xlLWRvd24nOiAnZjEwNycsCiAgICAgICdkZXNrdG9wJzogJ2YxMDgnLAogICAgICAnbGFwdG9wJzogJ2YxMDknLAogICAgICAndGFibGV0JzogJ2YxMGEnLAogICAgICAnbW9iaWxlLXBob25lLG1vYmlsZSc6ICdmMTBiJywKICAgICAgJ2NpcmNsZS1vJzogJ2YxMGMnLAogICAgICAncXVvdGUtbGVmdCc6ICdmMTBkJywKICAgICAgJ3F1b3RlLXJpZ2h0JzogJ2YxMGUnLAogICAgICAnc3Bpbm5lcic6ICdmMTEwJywKICAgICAgJ2NpcmNsZSc6ICdmMTExJywKICAgICAgJ21haWwtcmVwbHkscmVwbHknOiAnZjExMicsCiAgICAgICdnaXRodWItYWx0JzogJ2YxMTMnLAogICAgICAnZm9sZGVyLW8nOiAnZjExNCcsCiAgICAgICdmb2xkZXItb3Blbi1vJzogJ2YxMTUnLAogICAgICAnc21pbGUtbyc6ICdmMTE4JywKICAgICAgJ2Zyb3duLW8nOiAnZjExOScsCiAgICAgICdtZWgtbyc6ICdmMTFhJywKICAgICAgJ2dhbWVwYWQnOiAnZjExYicsCiAgICAgICdrZXlib2FyZC1vJzogJ2YxMWMnLAogICAgICAnZmxhZy1vJzogJ2YxMWQnLAogICAgICAnZmxhZy1jaGVja2VyZWQnOiAnZjExZScsCiAgICAgICd0ZXJtaW5hbCc6ICdmMTIwJywKICAgICAgJ2NvZGUnOiAnZjEyMScsCiAgICAgICdtYWlsLXJlcGx5LWFsbCxyZXBseS1hbGwnOiAnZjEyMicsCiAgICAgICdzdGFyLWhhbGYtZW1wdHksc3Rhci1oYWxmLWZ1bGwsc3Rhci1oYWxmLW8nOiAnZjEyMycsCiAgICAgICdsb2NhdGlvbi1hcnJvdyc6ICdmMTI0JywKICAgICAgJ2Nyb3AnOiAnZjEyNScsCiAgICAgICdjb2RlLWZvcmsnOiAnZjEyNicsCiAgICAgICd1bmxpbmssY2hhaW4tYnJva2VuJzogJ2YxMjcnLAogICAgICAncXVlc3Rpb24nOiAnZjEyOCcsCiAgICAgICdpbmZvJzogJ2YxMjknLAogICAgICAnZXhjbGFtYXRpb24nOiAnZjEyYScsCiAgICAgICdzdXBlcnNjcmlwdCc6ICdmMTJiJywKICAgICAgJ3N1YnNjcmlwdCc6ICdmMTJjJywKICAgICAgJ2VyYXNlcic6ICdmMTJkJywKICAgICAgJ3B1enpsZS1waWVjZSc6ICdmMTJlJywKICAgICAgJ21pY3JvcGhvbmUnOiAnZjEzMCcsCiAgICAgICdtaWNyb3Bob25lLXNsYXNoJzogJ2YxMzEnLAogICAgICAnc2hpZWxkJzogJ2YxMzInLAogICAgICAnY2FsZW5kYXItbyc6ICdmMTMzJywKICAgICAgJ2ZpcmUtZXh0aW5ndWlzaGVyJzogJ2YxMzQnLAogICAgICAncm9ja2V0JzogJ2YxMzUnLAogICAgICAnbWF4Y2RuJzogJ2YxMzYnLAogICAgICAnY2hldnJvbi1jaXJjbGUtbGVmdCc6ICdmMTM3JywKICAgICAgJ2NoZXZyb24tY2lyY2xlLXJpZ2h0JzogJ2YxMzgnLAogICAgICAnY2hldnJvbi1jaXJjbGUtdXAnOiAnZjEzOScsCiAgICAgICdjaGV2cm9uLWNpcmNsZS1kb3duJzogJ2YxM2EnLAogICAgICAnaHRtbDUnOiAnZjEzYicsCiAgICAgICdjc3MzJzogJ2YxM2MnLAogICAgICAnYW5jaG9yJzogJ2YxM2QnLAogICAgICAndW5sb2NrLWFsdCc6ICdmMTNlJywKICAgICAgJ2J1bGxzZXllJzogJ2YxNDAnLAogICAgICAnZWxsaXBzaXMtaCc6ICdmMTQxJywKICAgICAgJ2VsbGlwc2lzLXYnOiAnZjE0MicsCiAgICAgICdyc3Mtc3F1YXJlJzogJ2YxNDMnLAogICAgICAncGxheS1jaXJjbGUnOiAnZjE0NCcsCiAgICAgICd0aWNrZXQnOiAnZjE0NScsCiAgICAgICdtaW51cy1zcXVhcmUnOiAnZjE0NicsCiAgICAgICdtaW51cy1zcXVhcmUtbyc6ICdmMTQ3JywKICAgICAgJ2xldmVsLXVwJzogJ2YxNDgnLAogICAgICAnbGV2ZWwtZG93bic6ICdmMTQ5JywKICAgICAgJ2NoZWNrLXNxdWFyZSc6ICdmMTRhJywKICAgICAgJ3BlbmNpbC1zcXVhcmUnOiAnZjE0YicsCiAgICAgICdleHRlcm5hbC1saW5rLXNxdWFyZSc6ICdmMTRjJywKICAgICAgJ3NoYXJlLXNxdWFyZSc6ICdmMTRkJywKICAgICAgJ2NvbXBhc3MnOiAnZjE0ZScsCiAgICAgICd0b2dnbGUtZG93bixjYXJldC1zcXVhcmUtby1kb3duJzogJ2YxNTAnLAogICAgICAndG9nZ2xlLXVwLGNhcmV0LXNxdWFyZS1vLXVwJzogJ2YxNTEnLAogICAgICAndG9nZ2xlLXJpZ2h0LGNhcmV0LXNxdWFyZS1vLXJpZ2h0JzogJ2YxNTInLAogICAgICAnZXVybyxldXInOiAnZjE1MycsCiAgICAgICdnYnAnOiAnZjE1NCcsCiAgICAgICdkb2xsYXIsdXNkJzogJ2YxNTUnLAogICAgICAncnVwZWUsaW5yJzogJ2YxNTYnLAogICAgICAnY255LHJtYix5ZW4sanB5JzogJ2YxNTcnLAogICAgICAncnVibGUscm91YmxlLHJ1Yic6ICdmMTU4JywKICAgICAgJ3dvbixrcncnOiAnZjE1OScsCiAgICAgICdiaXRjb2luLGJ0Yyc6ICdmMTVhJywKICAgICAgJ2ZpbGUnOiAnZjE1YicsCiAgICAgICdmaWxlLXRleHQnOiAnZjE1YycsCiAgICAgICdzb3J0LWFscGhhLWFzYyc6ICdmMTVkJywKICAgICAgJ3NvcnQtYWxwaGEtZGVzYyc6ICdmMTVlJywKICAgICAgJ3NvcnQtYW1vdW50LWFzYyc6ICdmMTYwJywKICAgICAgJ3NvcnQtYW1vdW50LWRlc2MnOiAnZjE2MScsCiAgICAgICdzb3J0LW51bWVyaWMtYXNjJzogJ2YxNjInLAogICAgICAnc29ydC1udW1lcmljLWRlc2MnOiAnZjE2MycsCiAgICAgICd0aHVtYnMtdXAnOiAnZjE2NCcsCiAgICAgICd0aHVtYnMtZG93bic6ICdmMTY1JywKICAgICAgJ3lvdXR1YmUtc3F1YXJlJzogJ2YxNjYnLAogICAgICAneW91dHViZSc6ICdmMTY3JywKICAgICAgJ3hpbmcnOiAnZjE2OCcsCiAgICAgICd4aW5nLXNxdWFyZSc6ICdmMTY5JywKICAgICAgJ3lvdXR1YmUtcGxheSc6ICdmMTZhJywKICAgICAgJ2Ryb3Bib3gnOiAnZjE2YicsCiAgICAgICdzdGFjay1vdmVyZmxvdyc6ICdmMTZjJywKICAgICAgJ2luc3RhZ3JhbSc6ICdmMTZkJywKICAgICAgJ2ZsaWNrcic6ICdmMTZlJywKICAgICAgJ2Fkbic6ICdmMTcwJywKICAgICAgJ2JpdGJ1Y2tldCc6ICdmMTcxJywKICAgICAgJ2JpdGJ1Y2tldC1zcXVhcmUnOiAnZjE3MicsCiAgICAgICd0dW1ibHInOiAnZjE3MycsCiAgICAgICd0dW1ibHItc3F1YXJlJzogJ2YxNzQnLAogICAgICAnbG9uZy1hcnJvdy1kb3duJzogJ2YxNzUnLAogICAgICAnbG9uZy1hcnJvdy11cCc6ICdmMTc2JywKICAgICAgJ2xvbmctYXJyb3ctbGVmdCc6ICdmMTc3JywKICAgICAgJ2xvbmctYXJyb3ctcmlnaHQnOiAnZjE3OCcsCiAgICAgICdhcHBsZSc6ICdmMTc5JywKICAgICAgJ3dpbmRvd3MnOiAnZjE3YScsCiAgICAgICdhbmRyb2lkJzogJ2YxN2InLAogICAgICAnbGludXgnOiAnZjE3YycsCiAgICAgICdkcmliYmJsZSc6ICdmMTdkJywKICAgICAgJ3NreXBlJzogJ2YxN2UnLAogICAgICAnZm91cnNxdWFyZSc6ICdmMTgwJywKICAgICAgJ3RyZWxsbyc6ICdmMTgxJywKICAgICAgJ2ZlbWFsZSc6ICdmMTgyJywKICAgICAgJ21hbGUnOiAnZjE4MycsCiAgICAgICdnaXR0aXAsZ3JhdGlwYXknOiAnZjE4NCcsCiAgICAgICdzdW4tbyc6ICdmMTg1JywKICAgICAgJ21vb24tbyc6ICdmMTg2JywKICAgICAgJ2FyY2hpdmUnOiAnZjE4NycsCiAgICAgICdidWcnOiAnZjE4OCcsCiAgICAgICd2ayc6ICdmMTg5JywKICAgICAgJ3dlaWJvJzogJ2YxOGEnLAogICAgICAncmVucmVuJzogJ2YxOGInLAogICAgICAncGFnZWxpbmVzJzogJ2YxOGMnLAogICAgICAnc3RhY2stZXhjaGFuZ2UnOiAnZjE4ZCcsCiAgICAgICdhcnJvdy1jaXJjbGUtby1yaWdodCc6ICdmMThlJywKICAgICAgJ2Fycm93LWNpcmNsZS1vLWxlZnQnOiAnZjE5MCcsCiAgICAgICd0b2dnbGUtbGVmdCxjYXJldC1zcXVhcmUtby1sZWZ0JzogJ2YxOTEnLAogICAgICAnZG90LWNpcmNsZS1vJzogJ2YxOTInLAogICAgICAnd2hlZWxjaGFpcic6ICdmMTkzJywKICAgICAgJ3ZpbWVvLXNxdWFyZSc6ICdmMTk0JywKICAgICAgJ3R1cmtpc2gtbGlyYSx0cnknOiAnZjE5NScsCiAgICAgICdwbHVzLXNxdWFyZS1vJzogJ2YxOTYnLAogICAgICAnc3BhY2Utc2h1dHRsZSc6ICdmMTk3JywKICAgICAgJ3NsYWNrJzogJ2YxOTgnLAogICAgICAnZW52ZWxvcGUtc3F1YXJlJzogJ2YxOTknLAogICAgICAnd29yZHByZXNzJzogJ2YxOWEnLAogICAgICAnb3BlbmlkJzogJ2YxOWInLAogICAgICAnaW5zdGl0dXRpb24sYmFuayx1bml2ZXJzaXR5JzogJ2YxOWMnLAogICAgICAnbW9ydGFyLWJvYXJkLGdyYWR1YXRpb24tY2FwJzogJ2YxOWQnLAogICAgICAneWFob28nOiAnZjE5ZScsCiAgICAgICdnb29nbGUnOiAnZjFhMCcsCiAgICAgICdyZWRkaXQnOiAnZjFhMScsCiAgICAgICdyZWRkaXQtc3F1YXJlJzogJ2YxYTInLAogICAgICAnc3R1bWJsZXVwb24tY2lyY2xlJzogJ2YxYTMnLAogICAgICAnc3R1bWJsZXVwb24nOiAnZjFhNCcsCiAgICAgICdkZWxpY2lvdXMnOiAnZjFhNScsCiAgICAgICdkaWdnJzogJ2YxYTYnLAogICAgICAncGllZC1waXBlci1wcCc6ICdmMWE3JywKICAgICAgJ3BpZWQtcGlwZXItYWx0JzogJ2YxYTgnLAogICAgICAnZHJ1cGFsJzogJ2YxYTknLAogICAgICAnam9vbWxhJzogJ2YxYWEnLAogICAgICAnbGFuZ3VhZ2UnOiAnZjFhYicsCiAgICAgICdmYXgnOiAnZjFhYycsCiAgICAgICdidWlsZGluZyc6ICdmMWFkJywKICAgICAgJ2NoaWxkJzogJ2YxYWUnLAogICAgICAncGF3JzogJ2YxYjAnLAogICAgICAnc3Bvb24nOiAnZjFiMScsCiAgICAgICdjdWJlJzogJ2YxYjInLAogICAgICAnY3ViZXMnOiAnZjFiMycsCiAgICAgICdiZWhhbmNlJzogJ2YxYjQnLAogICAgICAnYmVoYW5jZS1zcXVhcmUnOiAnZjFiNScsCiAgICAgICdzdGVhbSc6ICdmMWI2JywKICAgICAgJ3N0ZWFtLXNxdWFyZSc6ICdmMWI3JywKICAgICAgJ3JlY3ljbGUnOiAnZjFiOCcsCiAgICAgICdhdXRvbW9iaWxlLGNhcic6ICdmMWI5JywKICAgICAgJ2NhYix0YXhpJzogJ2YxYmEnLAogICAgICAndHJlZSc6ICdmMWJiJywKICAgICAgJ3Nwb3RpZnknOiAnZjFiYycsCiAgICAgICdkZXZpYW50YXJ0JzogJ2YxYmQnLAogICAgICAnc291bmRjbG91ZCc6ICdmMWJlJywKICAgICAgJ2RhdGFiYXNlJzogJ2YxYzAnLAogICAgICAnZmlsZS1wZGYtbyc6ICdmMWMxJywKICAgICAgJ2ZpbGUtd29yZC1vJzogJ2YxYzInLAogICAgICAnZmlsZS1leGNlbC1vJzogJ2YxYzMnLAogICAgICAnZmlsZS1wb3dlcnBvaW50LW8nOiAnZjFjNCcsCiAgICAgICdmaWxlLXBob3RvLW8sZmlsZS1waWN0dXJlLW8sZmlsZS1pbWFnZS1vJzogJ2YxYzUnLAogICAgICAnZmlsZS16aXAtbyxmaWxlLWFyY2hpdmUtbyc6ICdmMWM2JywKICAgICAgJ2ZpbGUtc291bmQtbyxmaWxlLWF1ZGlvLW8nOiAnZjFjNycsCiAgICAgICdmaWxlLW1vdmllLW8sZmlsZS12aWRlby1vJzogJ2YxYzgnLAogICAgICAnZmlsZS1jb2RlLW8nOiAnZjFjOScsCiAgICAgICd2aW5lJzogJ2YxY2EnLAogICAgICAnY29kZXBlbic6ICdmMWNiJywKICAgICAgJ2pzZmlkZGxlJzogJ2YxY2MnLAogICAgICAnbGlmZS1ib3V5LGxpZmUtYnVveSxsaWZlLXNhdmVyLHN1cHBvcnQsbGlmZS1yaW5nJzogJ2YxY2QnLAogICAgICAnY2lyY2xlLW8tbm90Y2gnOiAnZjFjZScsCiAgICAgICdyYSxyZXNpc3RhbmNlLHJlYmVsJzogJ2YxZDAnLAogICAgICAnZ2UsZW1waXJlJzogJ2YxZDEnLAogICAgICAnZ2l0LXNxdWFyZSc6ICdmMWQyJywKICAgICAgJ2dpdCc6ICdmMWQzJywKICAgICAgJ3ktY29tYmluYXRvci1zcXVhcmUseWMtc3F1YXJlLGhhY2tlci1uZXdzJzogJ2YxZDQnLAogICAgICAndGVuY2VudC13ZWlibyc6ICdmMWQ1JywKICAgICAgJ3FxJzogJ2YxZDYnLAogICAgICAnd2VjaGF0LHdlaXhpbic6ICdmMWQ3JywKICAgICAgJ3NlbmQscGFwZXItcGxhbmUnOiAnZjFkOCcsCiAgICAgICdzZW5kLW8scGFwZXItcGxhbmUtbyc6ICdmMWQ5JywKICAgICAgJ2hpc3RvcnknOiAnZjFkYScsCiAgICAgICdjaXJjbGUtdGhpbic6ICdmMWRiJywKICAgICAgJ2hlYWRlcic6ICdmMWRjJywKICAgICAgJ3BhcmFncmFwaCc6ICdmMWRkJywKICAgICAgJ3NsaWRlcnMnOiAnZjFkZScsCiAgICAgICdzaGFyZS1hbHQnOiAnZjFlMCcsCiAgICAgICdzaGFyZS1hbHQtc3F1YXJlJzogJ2YxZTEnLAogICAgICAnYm9tYic6ICdmMWUyJywKICAgICAgJ3NvY2Nlci1iYWxsLW8sZnV0Ym9sLW8nOiAnZjFlMycsCiAgICAgICd0dHknOiAnZjFlNCcsCiAgICAgICdiaW5vY3VsYXJzJzogJ2YxZTUnLAogICAgICAncGx1Zyc6ICdmMWU2JywKICAgICAgJ3NsaWRlc2hhcmUnOiAnZjFlNycsCiAgICAgICd0d2l0Y2gnOiAnZjFlOCcsCiAgICAgICd5ZWxwJzogJ2YxZTknLAogICAgICAnbmV3c3BhcGVyLW8nOiAnZjFlYScsCiAgICAgICd3aWZpJzogJ2YxZWInLAogICAgICAnY2FsY3VsYXRvcic6ICdmMWVjJywKICAgICAgJ3BheXBhbCc6ICdmMWVkJywKICAgICAgJ2dvb2dsZS13YWxsZXQnOiAnZjFlZScsCiAgICAgICdjYy12aXNhJzogJ2YxZjAnLAogICAgICAnY2MtbWFzdGVyY2FyZCc6ICdmMWYxJywKICAgICAgJ2NjLWRpc2NvdmVyJzogJ2YxZjInLAogICAgICAnY2MtYW1leCc6ICdmMWYzJywKICAgICAgJ2NjLXBheXBhbCc6ICdmMWY0JywKICAgICAgJ2NjLXN0cmlwZSc6ICdmMWY1JywKICAgICAgJ2JlbGwtc2xhc2gnOiAnZjFmNicsCiAgICAgICdiZWxsLXNsYXNoLW8nOiAnZjFmNycsCiAgICAgICd0cmFzaCc6ICdmMWY4JywKICAgICAgJ2NvcHlyaWdodCc6ICdmMWY5JywKICAgICAgJ2F0JzogJ2YxZmEnLAogICAgICAnZXllZHJvcHBlcic6ICdmMWZiJywKICAgICAgJ3BhaW50LWJydXNoJzogJ2YxZmMnLAogICAgICAnYmlydGhkYXktY2FrZSc6ICdmMWZkJywKICAgICAgJ2FyZWEtY2hhcnQnOiAnZjFmZScsCiAgICAgICdwaWUtY2hhcnQnOiAnZjIwMCcsCiAgICAgICdsaW5lLWNoYXJ0JzogJ2YyMDEnLAogICAgICAnbGFzdGZtJzogJ2YyMDInLAogICAgICAnbGFzdGZtLXNxdWFyZSc6ICdmMjAzJywKICAgICAgJ3RvZ2dsZS1vZmYnOiAnZjIwNCcsCiAgICAgICd0b2dnbGUtb24nOiAnZjIwNScsCiAgICAgICdiaWN5Y2xlJzogJ2YyMDYnLAogICAgICAnYnVzJzogJ2YyMDcnLAogICAgICAnaW94aG9zdCc6ICdmMjA4JywKICAgICAgJ2FuZ2VsbGlzdCc6ICdmMjA5JywKICAgICAgJ2NjJzogJ2YyMGEnLAogICAgICAnc2hla2VsLHNoZXFlbCxpbHMnOiAnZjIwYicsCiAgICAgICdtZWFucGF0aCc6ICdmMjBjJywKICAgICAgJ2J1eXNlbGxhZHMnOiAnZjIwZCcsCiAgICAgICdjb25uZWN0ZGV2ZWxvcCc6ICdmMjBlJywKICAgICAgJ2Rhc2hjdWJlJzogJ2YyMTAnLAogICAgICAnZm9ydW1iZWUnOiAnZjIxMScsCiAgICAgICdsZWFucHViJzogJ2YyMTInLAogICAgICAnc2VsbHN5JzogJ2YyMTMnLAogICAgICAnc2hpcnRzaW5idWxrJzogJ2YyMTQnLAogICAgICAnc2ltcGx5YnVpbHQnOiAnZjIxNScsCiAgICAgICdza3lhdGxhcyc6ICdmMjE2JywKICAgICAgJ2NhcnQtcGx1cyc6ICdmMjE3JywKICAgICAgJ2NhcnQtYXJyb3ctZG93bic6ICdmMjE4JywKICAgICAgJ2RpYW1vbmQnOiAnZjIxOScsCiAgICAgICdzaGlwJzogJ2YyMWEnLAogICAgICAndXNlci1zZWNyZXQnOiAnZjIxYicsCiAgICAgICdtb3RvcmN5Y2xlJzogJ2YyMWMnLAogICAgICAnc3RyZWV0LXZpZXcnOiAnZjIxZCcsCiAgICAgICdoZWFydGJlYXQnOiAnZjIxZScsCiAgICAgICd2ZW51cyc6ICdmMjIxJywKICAgICAgJ21hcnMnOiAnZjIyMicsCiAgICAgICdtZXJjdXJ5JzogJ2YyMjMnLAogICAgICAnaW50ZXJzZXgsdHJhbnNnZW5kZXInOiAnZjIyNCcsCiAgICAgICd0cmFuc2dlbmRlci1hbHQnOiAnZjIyNScsCiAgICAgICd2ZW51cy1kb3VibGUnOiAnZjIyNicsCiAgICAgICdtYXJzLWRvdWJsZSc6ICdmMjI3JywKICAgICAgJ3ZlbnVzLW1hcnMnOiAnZjIyOCcsCiAgICAgICdtYXJzLXN0cm9rZSc6ICdmMjI5JywKICAgICAgJ21hcnMtc3Ryb2tlLXYnOiAnZjIyYScsCiAgICAgICdtYXJzLXN0cm9rZS1oJzogJ2YyMmInLAogICAgICAnbmV1dGVyJzogJ2YyMmMnLAogICAgICAnZ2VuZGVybGVzcyc6ICdmMjJkJywKICAgICAgJ2ZhY2Vib29rLW9mZmljaWFsJzogJ2YyMzAnLAogICAgICAncGludGVyZXN0LXAnOiAnZjIzMScsCiAgICAgICd3aGF0c2FwcCc6ICdmMjMyJywKICAgICAgJ3NlcnZlcic6ICdmMjMzJywKICAgICAgJ3VzZXItcGx1cyc6ICdmMjM0JywKICAgICAgJ3VzZXItdGltZXMnOiAnZjIzNScsCiAgICAgICdob3RlbCxiZWQnOiAnZjIzNicsCiAgICAgICd2aWFjb2luJzogJ2YyMzcnLAogICAgICAndHJhaW4nOiAnZjIzOCcsCiAgICAgICdzdWJ3YXknOiAnZjIzOScsCiAgICAgICdtZWRpdW0nOiAnZjIzYScsCiAgICAgICd5Yyx5LWNvbWJpbmF0b3InOiAnZjIzYicsCiAgICAgICdvcHRpbi1tb25zdGVyJzogJ2YyM2MnLAogICAgICAnb3BlbmNhcnQnOiAnZjIzZCcsCiAgICAgICdleHBlZGl0ZWRzc2wnOiAnZjIzZScsCiAgICAgICdiYXR0ZXJ5LTQsYmF0dGVyeS1mdWxsJzogJ2YyNDAnLAogICAgICAnYmF0dGVyeS0zLGJhdHRlcnktdGhyZWUtcXVhcnRlcnMnOiAnZjI0MScsCiAgICAgICdiYXR0ZXJ5LTIsYmF0dGVyeS1oYWxmJzogJ2YyNDInLAogICAgICAnYmF0dGVyeS0xLGJhdHRlcnktcXVhcnRlcic6ICdmMjQzJywKICAgICAgJ2JhdHRlcnktMCxiYXR0ZXJ5LWVtcHR5JzogJ2YyNDQnLAogICAgICAnbW91c2UtcG9pbnRlcic6ICdmMjQ1JywKICAgICAgJ2ktY3Vyc29yJzogJ2YyNDYnLAogICAgICAnb2JqZWN0LWdyb3VwJzogJ2YyNDcnLAogICAgICAnb2JqZWN0LXVuZ3JvdXAnOiAnZjI0OCcsCiAgICAgICdzdGlja3ktbm90ZSc6ICdmMjQ5JywKICAgICAgJ3N0aWNreS1ub3RlLW8nOiAnZjI0YScsCiAgICAgICdjYy1qY2InOiAnZjI0YicsCiAgICAgICdjYy1kaW5lcnMtY2x1Yic6ICdmMjRjJywKICAgICAgJ2Nsb25lJzogJ2YyNGQnLAogICAgICAnYmFsYW5jZS1zY2FsZSc6ICdmMjRlJywKICAgICAgJ2hvdXJnbGFzcy1vJzogJ2YyNTAnLAogICAgICAnaG91cmdsYXNzLTEsaG91cmdsYXNzLXN0YXJ0JzogJ2YyNTEnLAogICAgICAnaG91cmdsYXNzLTIsaG91cmdsYXNzLWhhbGYnOiAnZjI1MicsCiAgICAgICdob3VyZ2xhc3MtMyxob3VyZ2xhc3MtZW5kJzogJ2YyNTMnLAogICAgICAnaG91cmdsYXNzJzogJ2YyNTQnLAogICAgICAnaGFuZC1ncmFiLW8saGFuZC1yb2NrLW8nOiAnZjI1NScsCiAgICAgICdoYW5kLXN0b3AtbyxoYW5kLXBhcGVyLW8nOiAnZjI1NicsCiAgICAgICdoYW5kLXNjaXNzb3JzLW8nOiAnZjI1NycsCiAgICAgICdoYW5kLWxpemFyZC1vJzogJ2YyNTgnLAogICAgICAnaGFuZC1zcG9jay1vJzogJ2YyNTknLAogICAgICAnaGFuZC1wb2ludGVyLW8nOiAnZjI1YScsCiAgICAgICdoYW5kLXBlYWNlLW8nOiAnZjI1YicsCiAgICAgICd0cmFkZW1hcmsnOiAnZjI1YycsCiAgICAgICdyZWdpc3RlcmVkJzogJ2YyNWQnLAogICAgICAnY3JlYXRpdmUtY29tbW9ucyc6ICdmMjVlJywKICAgICAgJ2dnJzogJ2YyNjAnLAogICAgICAnZ2ctY2lyY2xlJzogJ2YyNjEnLAogICAgICAndHJpcGFkdmlzb3InOiAnZjI2MicsCiAgICAgICdvZG5va2xhc3NuaWtpJzogJ2YyNjMnLAogICAgICAnb2Rub2tsYXNzbmlraS1zcXVhcmUnOiAnZjI2NCcsCiAgICAgICdnZXQtcG9ja2V0JzogJ2YyNjUnLAogICAgICAnd2lraXBlZGlhLXcnOiAnZjI2NicsCiAgICAgICdzYWZhcmknOiAnZjI2NycsCiAgICAgICdjaHJvbWUnOiAnZjI2OCcsCiAgICAgICdmaXJlZm94JzogJ2YyNjknLAogICAgICAnb3BlcmEnOiAnZjI2YScsCiAgICAgICdpbnRlcm5ldC1leHBsb3Jlcic6ICdmMjZiJywKICAgICAgJ3R2LHRlbGV2aXNpb24nOiAnZjI2YycsCiAgICAgICdjb250YW8nOiAnZjI2ZCcsCiAgICAgICc1MDBweCc6ICdmMjZlJywKICAgICAgJ2FtYXpvbic6ICdmMjcwJywKICAgICAgJ2NhbGVuZGFyLXBsdXMtbyc6ICdmMjcxJywKICAgICAgJ2NhbGVuZGFyLW1pbnVzLW8nOiAnZjI3MicsCiAgICAgICdjYWxlbmRhci10aW1lcy1vJzogJ2YyNzMnLAogICAgICAnY2FsZW5kYXItY2hlY2stbyc6ICdmMjc0JywKICAgICAgJ2luZHVzdHJ5JzogJ2YyNzUnLAogICAgICAnbWFwLXBpbic6ICdmMjc2JywKICAgICAgJ21hcC1zaWducyc6ICdmMjc3JywKICAgICAgJ21hcC1vJzogJ2YyNzgnLAogICAgICAnbWFwJzogJ2YyNzknLAogICAgICAnY29tbWVudGluZyc6ICdmMjdhJywKICAgICAgJ2NvbW1lbnRpbmctbyc6ICdmMjdiJywKICAgICAgJ2hvdXp6JzogJ2YyN2MnLAogICAgICAndmltZW8nOiAnZjI3ZCcsCiAgICAgICdibGFjay10aWUnOiAnZjI3ZScsCiAgICAgICdmb250aWNvbnMnOiAnZjI4MCcsCiAgICAgICdyZWRkaXQtYWxpZW4nOiAnZjI4MScsCiAgICAgICdlZGdlJzogJ2YyODInLAogICAgICAnY3JlZGl0LWNhcmQtYWx0JzogJ2YyODMnLAogICAgICAnY29kaWVwaWUnOiAnZjI4NCcsCiAgICAgICdtb2R4JzogJ2YyODUnLAogICAgICAnZm9ydC1hd2Vzb21lJzogJ2YyODYnLAogICAgICAndXNiJzogJ2YyODcnLAogICAgICAncHJvZHVjdC1odW50JzogJ2YyODgnLAogICAgICAnbWl4Y2xvdWQnOiAnZjI4OScsCiAgICAgICdzY3JpYmQnOiAnZjI4YScsCiAgICAgICdwYXVzZS1jaXJjbGUnOiAnZjI4YicsCiAgICAgICdwYXVzZS1jaXJjbGUtbyc6ICdmMjhjJywKICAgICAgJ3N0b3AtY2lyY2xlJzogJ2YyOGQnLAogICAgICAnc3RvcC1jaXJjbGUtbyc6ICdmMjhlJywKICAgICAgJ3Nob3BwaW5nLWJhZyc6ICdmMjkwJywKICAgICAgJ3Nob3BwaW5nLWJhc2tldCc6ICdmMjkxJywKICAgICAgJ2hhc2h0YWcnOiAnZjI5MicsCiAgICAgICdibHVldG9vdGgnOiAnZjI5MycsCiAgICAgICdibHVldG9vdGgtYic6ICdmMjk0JywKICAgICAgJ3BlcmNlbnQnOiAnZjI5NScsCiAgICAgICdnaXRsYWInOiAnZjI5NicsCiAgICAgICd3cGJlZ2lubmVyJzogJ2YyOTcnLAogICAgICAnd3Bmb3Jtcyc6ICdmMjk4JywKICAgICAgJ2VudmlyYSc6ICdmMjk5JywKICAgICAgJ3VuaXZlcnNhbC1hY2Nlc3MnOiAnZjI5YScsCiAgICAgICd3aGVlbGNoYWlyLWFsdCc6ICdmMjliJywKICAgICAgJ3F1ZXN0aW9uLWNpcmNsZS1vJzogJ2YyOWMnLAogICAgICAnYmxpbmQnOiAnZjI5ZCcsCiAgICAgICdhdWRpby1kZXNjcmlwdGlvbic6ICdmMjllJywKICAgICAgJ3ZvbHVtZS1jb250cm9sLXBob25lJzogJ2YyYTAnLAogICAgICAnYnJhaWxsZSc6ICdmMmExJywKICAgICAgJ2Fzc2lzdGl2ZS1saXN0ZW5pbmctc3lzdGVtcyc6ICdmMmEyJywKICAgICAgJ2FzbC1pbnRlcnByZXRpbmcsYW1lcmljYW4tc2lnbi1sYW5ndWFnZS1pbnRlcnByZXRpbmcnOiAnZjJhMycsCiAgICAgICdkZWFmbmVzcyxoYXJkLW9mLWhlYXJpbmcsZGVhZic6ICdmMmE0JywKICAgICAgJ2dsaWRlJzogJ2YyYTUnLAogICAgICAnZ2xpZGUtZyc6ICdmMmE2JywKICAgICAgJ3NpZ25pbmcsc2lnbi1sYW5ndWFnZSc6ICdmMmE3JywKICAgICAgJ2xvdy12aXNpb24nOiAnZjJhOCcsCiAgICAgICd2aWFkZW8nOiAnZjJhOScsCiAgICAgICd2aWFkZW8tc3F1YXJlJzogJ2YyYWEnLAogICAgICAnc25hcGNoYXQnOiAnZjJhYicsCiAgICAgICdzbmFwY2hhdC1naG9zdCc6ICdmMmFjJywKICAgICAgJ3NuYXBjaGF0LXNxdWFyZSc6ICdmMmFkJywKICAgICAgJ3BpZWQtcGlwZXInOiAnZjJhZScsCiAgICAgICdmaXJzdC1vcmRlcic6ICdmMmIwJywKICAgICAgJ3lvYXN0JzogJ2YyYjEnLAogICAgICAndGhlbWVpc2xlJzogJ2YyYjInLAogICAgICAnZ29vZ2xlLXBsdXMtY2lyY2xlLGdvb2dsZS1wbHVzLW9mZmljaWFsJzogJ2YyYjMnLAogICAgICAnZmEsZm9udC1hd2Vzb21lJzogJ2YyYjQnCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gaWNvbihkKSB7CiAgICB2YXIgY29kZTsKCiAgICBpZiAob3B0aW9ucy5pY29uTWFwICYmIG9wdGlvbnMuc2hvd0ljb25zICYmIG9wdGlvbnMuaWNvbnMpIHsKICAgICAgaWYgKG9wdGlvbnMuaWNvbnNbZC5sYWJlbHNbMF1dICYmIG9wdGlvbnMuaWNvbk1hcFtvcHRpb25zLmljb25zW2QubGFiZWxzWzBdXV0pIHsKICAgICAgICBjb2RlID0gb3B0aW9ucy5pY29uTWFwW29wdGlvbnMuaWNvbnNbZC5sYWJlbHNbMF1dXTsKICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmljb25NYXBbZC5sYWJlbHNbMF1dKSB7CiAgICAgICAgY29kZSA9IG9wdGlvbnMuaWNvbk1hcFtkLmxhYmVsc1swXV07CiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pY29uc1tkLmxhYmVsc1swXV0pIHsKICAgICAgICBjb2RlID0gb3B0aW9ucy5pY29uc1tkLmxhYmVsc1swXV07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gY29kZTsKICB9CgogIGZ1bmN0aW9uIGltYWdlKGQpIHsKICAgIHZhciBpLCBpbWFnZXNGb3JMYWJlbCwgaW1nLCBpbWdMZXZlbCwgbGFiZWwsIGxhYmVsUHJvcGVydHlWYWx1ZSwgcHJvcGVydHksIHZhbHVlOwoKICAgIGlmIChvcHRpb25zLmltYWdlcykgewogICAgICBpbWFnZXNGb3JMYWJlbCA9IG9wdGlvbnMuaW1hZ2VNYXBbZC5sYWJlbHNbMF1dOwoKICAgICAgaWYgKGltYWdlc0ZvckxhYmVsKSB7CiAgICAgICAgaW1nTGV2ZWwgPSAwOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW1hZ2VzRm9yTGFiZWwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGxhYmVsUHJvcGVydHlWYWx1ZSA9IGltYWdlc0ZvckxhYmVsW2ldLnNwbGl0KCd8Jyk7CgogICAgICAgICAgc3dpdGNoIChsYWJlbFByb3BlcnR5VmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICB2YWx1ZSA9IGxhYmVsUHJvcGVydHlWYWx1ZVsyXTsKCiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBwcm9wZXJ0eSA9IGxhYmVsUHJvcGVydHlWYWx1ZVsxXTsKCiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi8KCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBsYWJlbCA9IGxhYmVsUHJvcGVydHlWYWx1ZVswXTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZC5sYWJlbHNbMF0gPT09IGxhYmVsICYmICghcHJvcGVydHkgfHwgZC5wcm9wZXJ0aWVzW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSAmJiAoIXZhbHVlIHx8IGQucHJvcGVydGllc1twcm9wZXJ0eV0gPT09IHZhbHVlKSkgewogICAgICAgICAgICBpZiAobGFiZWxQcm9wZXJ0eVZhbHVlLmxlbmd0aCA+IGltZ0xldmVsKSB7CiAgICAgICAgICAgICAgaW1nID0gb3B0aW9ucy5pbWFnZXNbaW1hZ2VzRm9yTGFiZWxbaV1dOwogICAgICAgICAgICAgIGltZ0xldmVsID0gbGFiZWxQcm9wZXJ0eVZhbHVlLmxlbmd0aDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBpbWc7CiAgfQoKICBmdW5jdGlvbiBpbml0KF9zZWxlY3RvciwgX29wdGlvbnMpIHsKICAgIGluaXRJY29uTWFwKCk7CiAgICBtZXJnZShvcHRpb25zLCBfb3B0aW9ucyk7CgogICAgaWYgKG9wdGlvbnMuaWNvbnMpIHsKICAgICAgb3B0aW9ucy5zaG93SWNvbnMgPSB0cnVlOwogICAgfQoKICAgIGlmICghb3B0aW9ucy5taW5Db2xsaXNpb24pIHsKICAgICAgb3B0aW9ucy5taW5Db2xsaXNpb24gPSBvcHRpb25zLm5vZGVSYWRpdXMgKiAyOwogICAgfQoKICAgIGluaXRJbWFnZU1hcCgpOwogICAgc2VsZWN0b3IgPSBfc2VsZWN0b3I7CiAgICBjb250YWluZXIgPSBkMy5zZWxlY3Qoc2VsZWN0b3IpOwogICAgY29udGFpbmVyLmF0dHIoJ2NsYXNzJywgJ25lbzRqZDMnKS5odG1sKCcnKTsKCiAgICBpZiAob3B0aW9ucy5pbmZvUGFuZWwpIHsKICAgICAgaW5mbyA9IGFwcGVuZEluZm9QYW5lbChjb250YWluZXIpOwogICAgfQoKICAgIGFwcGVuZEdyYXBoKGNvbnRhaW5lcik7CiAgICBzaW11bGF0aW9uID0gaW5pdFNpbXVsYXRpb24oKTsKCiAgICBpZiAob3B0aW9ucy5uZW80akRhdGEpIHsKICAgICAgbG9hZE5lbzRqRGF0YShvcHRpb25zLm5lbzRqRGF0YSk7CiAgICB9IGVsc2UgaWYgKG9wdGlvbnMubmVvNGpEYXRhVXJsKSB7CiAgICAgIGxvYWROZW80akRhdGFGcm9tVXJsKG9wdGlvbnMubmVvNGpEYXRhVXJsKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBib3RoIG5lbzRqRGF0YSBhbmQgbmVvNGpEYXRhVXJsIGFyZSBlbXB0eSEnKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGluaXRJY29uTWFwKCkgewogICAgT2JqZWN0LmtleXMob3B0aW9ucy5pY29uTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7CiAgICAgIHZhciBrZXlzID0ga2V5LnNwbGl0KCcsJyksCiAgICAgICAgICB2YWx1ZSA9IG9wdGlvbnMuaWNvbk1hcFtrZXldOwogICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIG9wdGlvbnMuaWNvbk1hcFtrZXldID0gdmFsdWU7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbml0SW1hZ2VNYXAoKSB7CiAgICB2YXIga2V5LCBrZXlzLCBzZWxlY3RvcjsKCiAgICBmb3IgKGtleSBpbiBvcHRpb25zLmltYWdlcykgewogICAgICBpZiAob3B0aW9ucy5pbWFnZXMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIGtleXMgPSBrZXkuc3BsaXQoJ3wnKTsKCiAgICAgICAgaWYgKCFvcHRpb25zLmltYWdlTWFwW2tleXNbMF1dKSB7CiAgICAgICAgICBvcHRpb25zLmltYWdlTWFwW2tleXNbMF1dID0gW2tleV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9wdGlvbnMuaW1hZ2VNYXBba2V5c1swXV0ucHVzaChrZXkpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpbXVsYXRpb24oKSB7CiAgICB2YXIgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbigpIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZlbG9jaXR5RGVjYXkoMC44KQogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yY2UoJ3gnLCBkMy5mb3JjZSgpLnN0cmVuZ3RoKDAuMDAyKSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvcmNlKCd5JywgZDMuZm9yY2UoKS5zdHJlbmd0aCgwLjAwMikpCiAgICAuZm9yY2UoJ2NvbGxpZGUnLCBkMy5mb3JjZUNvbGxpZGUoKS5yYWRpdXMoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIG9wdGlvbnMubWluQ29sbGlzaW9uOwogICAgfSkuaXRlcmF0aW9ucygyKSkuZm9yY2UoJ2NoYXJnZScsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtMTAwKSkuZm9yY2UoJ2xpbmsnLCBkMy5mb3JjZUxpbmsoKS5pZChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5pZDsKICAgIH0pLmRpc3RhbmNlKDApLnN0cmVuZ3RoKC44KSkuZm9yY2UoJ2NlbnRlcicsIGQzLmZvcmNlQ2VudGVyKHN2Zy5ub2RlKCkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoIC8gMiwgc3ZnLm5vZGUoKS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gMikpLm9uKCd0aWNrJywgZnVuY3Rpb24gKCkgewogICAgICB0aWNrKCk7CiAgICB9KS5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICBpZiAob3B0aW9ucy56b29tRml0ICYmICFqdXN0TG9hZGVkKSB7CiAgICAgICAganVzdExvYWRlZCA9IHRydWU7CiAgICAgICAgem9vbUZpdCgyKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gc2ltdWxhdGlvbjsKICB9CgogIGZ1bmN0aW9uIGxvYWROZW80akRhdGEoKSB7CiAgICBub2RlcyA9IFtdOwogICAgcmVsYXRpb25zaGlwcyA9IFtdOwogICAgdXBkYXRlV2l0aE5lbzRqRGF0YShvcHRpb25zLm5lbzRqRGF0YSk7CiAgfQoKICBmdW5jdGlvbiBsb2FkTmVvNGpEYXRhRnJvbVVybChuZW80akRhdGFVcmwpIHsKICAgIG5vZGVzID0gW107CiAgICByZWxhdGlvbnNoaXBzID0gW107CiAgICBkMy5qc29uKG5lbzRqRGF0YVVybCwgZnVuY3Rpb24gKGVycm9yLCBkYXRhKSB7CiAgICAgIGlmIChlcnJvcikgewogICAgICAgIHRocm93IGVycm9yOwogICAgICB9CgogICAgICB1cGRhdGVXaXRoTmVvNGpEYXRhKGRhdGEpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSkgewogICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICB0YXJnZXRbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbmVvNGpEYXRhVG9EM0RhdGEoZGF0YSkgewogICAgdmFyIGdyYXBoID0gewogICAgICBub2RlczogW10sCiAgICAgIHJlbGF0aW9uc2hpcHM6IFtdCiAgICB9OwogICAgZGF0YS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICByZXN1bHQuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS5ncmFwaC5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICBpZiAoIWNvbnRhaW5zKGdyYXBoLm5vZGVzLCBub2RlLmlkKSkgewogICAgICAgICAgICBncmFwaC5ub2Rlcy5wdXNoKG5vZGUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWxhdGlvbnNoaXApIHsKICAgICAgICAgIHJlbGF0aW9uc2hpcC5zb3VyY2UgPSByZWxhdGlvbnNoaXAuc3RhcnROb2RlOwogICAgICAgICAgcmVsYXRpb25zaGlwLnRhcmdldCA9IHJlbGF0aW9uc2hpcC5lbmROb2RlOwogICAgICAgICAgZ3JhcGgucmVsYXRpb25zaGlwcy5wdXNoKHJlbGF0aW9uc2hpcCk7CiAgICAgICAgfSk7CiAgICAgICAgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIGlmIChhLnNvdXJjZSA+IGIuc291cmNlKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfSBlbHNlIGlmIChhLnNvdXJjZSA8IGIuc291cmNlKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChhLnRhcmdldCA+IGIudGFyZ2V0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChhLnRhcmdldCA8IGIudGFyZ2V0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5ncmFwaC5yZWxhdGlvbnNoaXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoaSAhPT0gMCAmJiBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaV0uc291cmNlID09PSBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaSAtIDFdLnNvdXJjZSAmJiBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaV0udGFyZ2V0ID09PSBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaSAtIDFdLnRhcmdldCkgewogICAgICAgICAgICBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaV0ubGlua251bSA9IGRhdGEuZ3JhcGgucmVsYXRpb25zaGlwc1tpIC0gMV0ubGlua251bSArIDE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhLmdyYXBoLnJlbGF0aW9uc2hpcHNbaV0ubGlua251bSA9IDE7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIGdyYXBoOwogIH0KCiAgZnVuY3Rpb24gcmFuZG9tRDNEYXRhKGQsIG1heE5vZGVzVG9HZW5lcmF0ZSkgewogICAgdmFyIGRhdGEgPSB7CiAgICAgIG5vZGVzOiBbXSwKICAgICAgcmVsYXRpb25zaGlwczogW10KICAgIH0sCiAgICAgICAgaSwKICAgICAgICBsYWJlbCwKICAgICAgICBub2RlLAogICAgICAgIG51bU5vZGVzID0gKG1heE5vZGVzVG9HZW5lcmF0ZSAqIE1hdGgucmFuZG9tKCkgPDwgMCkgKyAxLAogICAgICAgIHJlbGF0aW9uc2hpcCwKICAgICAgICBzID0gc2l6ZSgpOwoKICAgIGZvciAoaSA9IDA7IGkgPCBudW1Ob2RlczsgaSsrKSB7CiAgICAgIGxhYmVsID0gcmFuZG9tTGFiZWwoKTsKICAgICAgbm9kZSA9IHsKICAgICAgICBpZDogcy5ub2RlcyArIDEgKyBpLAogICAgICAgIGxhYmVsczogW2xhYmVsXSwKICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICByYW5kb206IGxhYmVsCiAgICAgICAgfSwKICAgICAgICB4OiBkLngsCiAgICAgICAgeTogZC55CiAgICAgIH07CiAgICAgIGRhdGEubm9kZXNbZGF0YS5ub2Rlcy5sZW5ndGhdID0gbm9kZTsKICAgICAgcmVsYXRpb25zaGlwID0gewogICAgICAgIGlkOiBzLnJlbGF0aW9uc2hpcHMgKyAxICsgaSwKICAgICAgICB0eXBlOiBsYWJlbC50b1VwcGVyQ2FzZSgpLAogICAgICAgIHN0YXJ0Tm9kZTogZC5pZCwKICAgICAgICBlbmROb2RlOiBzLm5vZGVzICsgMSArIGksCiAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgZnJvbTogRGF0ZS5ub3coKQogICAgICAgIH0sCiAgICAgICAgc291cmNlOiBkLmlkLAogICAgICAgIHRhcmdldDogcy5ub2RlcyArIDEgKyBpLAogICAgICAgIGxpbmtudW06IHMucmVsYXRpb25zaGlwcyArIDEgKyBpCiAgICAgIH07CiAgICAgIGRhdGEucmVsYXRpb25zaGlwc1tkYXRhLnJlbGF0aW9uc2hpcHMubGVuZ3RoXSA9IHJlbGF0aW9uc2hpcDsKICAgIH0KCiAgICByZXR1cm4gZGF0YTsKICB9CgogIGZ1bmN0aW9uIHJhbmRvbUxhYmVsKCkgewogICAgdmFyIGljb25zID0gT2JqZWN0LmtleXMob3B0aW9ucy5pY29uTWFwKTsKICAgIHJldHVybiBpY29uc1tpY29ucy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpIDw8IDBdOwogIH0KCiAgZnVuY3Rpb24gcm90YXRlKGN4LCBjeSwgeCwgeSwgYW5nbGUpIHsKICAgIHZhciByYWRpYW5zID0gTWF0aC5QSSAvIDE4MCAqIGFuZ2xlLAogICAgICAgIGNvcyA9IE1hdGguY29zKHJhZGlhbnMpLAogICAgICAgIHNpbiA9IE1hdGguc2luKHJhZGlhbnMpLAogICAgICAgIG54ID0gY29zICogKHggLSBjeCkgKyBzaW4gKiAoeSAtIGN5KSArIGN4LAogICAgICAgIG55ID0gY29zICogKHkgLSBjeSkgLSBzaW4gKiAoeCAtIGN4KSArIGN5OwogICAgcmV0dXJuIHsKICAgICAgeDogbngsCiAgICAgIHk6IG55CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gcm90YXRlUG9pbnQoYywgcCwgYW5nbGUpIHsKICAgIHJldHVybiByb3RhdGUoYy54LCBjLnksIHAueCwgcC55LCBhbmdsZSk7CiAgfQoKICBmdW5jdGlvbiByb3RhdGlvbihzb3VyY2UsIHRhcmdldCkgewogICAgcmV0dXJuIE1hdGguYXRhbjIodGFyZ2V0LnkgLSBzb3VyY2UueSwgdGFyZ2V0LnggLSBzb3VyY2UueCkgKiAxODAgLyBNYXRoLlBJOwogIH0KCiAgZnVuY3Rpb24gc2l6ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vZGVzOiBub2Rlcy5sZW5ndGgsCiAgICAgIHJlbGF0aW9uc2hpcHM6IHJlbGF0aW9uc2hpcHMubGVuZ3RoCiAgICB9OwogIH0KICAvKgogICAgZnVuY3Rpb24gc21vb3RoVHJhbnNmb3JtKGVsZW0sIHRyYW5zbGF0ZSwgc2NhbGUpIHsKICAgICAgICB2YXIgYW5pbWF0aW9uTWlsbGlzZWNvbmRzID0gNTAwMCwKICAgICAgICAgICAgdGltZW91dE1pbGxpc2Vjb25kcyA9IDUwLAogICAgICAgICAgICBzdGVwcyA9IHBhcnNlSW50KGFuaW1hdGlvbk1pbGxpc2Vjb25kcyAvIHRpbWVvdXRNaWxsaXNlY29uZHMpOwogICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzbW9vdGhUcmFuc2Zvcm1TdGVwKGVsZW0sIHRyYW5zbGF0ZSwgc2NhbGUsIHRpbWVvdXRNaWxsaXNlY29uZHMsIDEsIHN0ZXBzKTsKICAgICAgICB9LCB0aW1lb3V0TWlsbGlzZWNvbmRzKTsKICAgIH0KICAgICBmdW5jdGlvbiBzbW9vdGhUcmFuc2Zvcm1TdGVwKGVsZW0sIHRyYW5zbGF0ZSwgc2NhbGUsIHRpbWVvdXRNaWxsaXNlY29uZHMsIHN0ZXAsIHN0ZXBzKSB7CiAgICAgICAgdmFyIHByb2dyZXNzID0gc3RlcCAvIHN0ZXBzOwogICAgICAgICBlbGVtLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh0cmFuc2xhdGVbMF0gKiBwcm9ncmVzcykgKyAnLCAnICsgKHRyYW5zbGF0ZVsxXSAqIHByb2dyZXNzKSArICcpIHNjYWxlKCcgKyAoc2NhbGUgKiBwcm9ncmVzcykgKyAnKScpOwogICAgICAgICBpZiAoc3RlcCA8IHN0ZXBzKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBzbW9vdGhUcmFuc2Zvcm1TdGVwKGVsZW0sIHRyYW5zbGF0ZSwgc2NhbGUsIHRpbWVvdXRNaWxsaXNlY29uZHMsIHN0ZXAgKyAxLCBzdGVwcyk7CiAgICAgICAgICAgIH0sIHRpbWVvdXRNaWxsaXNlY29uZHMpOwogICAgICAgIH0KICAgIH0KICAqLwoKCiAgZnVuY3Rpb24gc3RpY2tOb2RlKGQpIHsKICAgIGQuZnggPSBkMy5ldmVudC54OwogICAgZC5meSA9IGQzLmV2ZW50Lnk7CiAgfQoKICBmdW5jdGlvbiB0aWNrKCkgewogICAgdGlja05vZGVzKCk7CiAgICB0aWNrUmVsYXRpb25zaGlwcygpOwogIH0KCiAgZnVuY3Rpb24gdGlja05vZGVzKCkgewogICAgaWYgKG5vZGUpIHsKICAgICAgbm9kZS5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBkLnggKyAnLCAnICsgZC55ICsgJyknOwogICAgICB9KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpY2tSZWxhdGlvbnNoaXBzKCkgewogICAgaWYgKHJlbGF0aW9uc2hpcCkgewogICAgICByZWxhdGlvbnNoaXAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICB2YXIgYW5nbGUgPSByb3RhdGlvbihkLnNvdXJjZSwgZC50YXJnZXQpOwogICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBkLnNvdXJjZS54ICsgJywgJyArIGQuc291cmNlLnkgKyAnKSByb3RhdGUoJyArIGFuZ2xlICsgJyknOwogICAgICB9KTsKICAgICAgdGlja1JlbGF0aW9uc2hpcHNUZXh0cygpOwogICAgICB0aWNrUmVsYXRpb25zaGlwc091dGxpbmVzKCk7CiAgICAgIHRpY2tSZWxhdGlvbnNoaXBzT3ZlcmxheXMoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpY2tSZWxhdGlvbnNoaXBzT3V0bGluZXMoKSB7CiAgICByZWxhdGlvbnNoaXAuZWFjaChmdW5jdGlvbiAocmVsYXRpb25zaGlwKSB7CiAgICAgIHZhciByZWwgPSBkMy5zZWxlY3QodGhpcyksCiAgICAgICAgICBvdXRsaW5lID0gcmVsLnNlbGVjdCgnLm91dGxpbmUnKSwKICAgICAgICAgIHRleHQgPSByZWwuc2VsZWN0KCcudGV4dCcpLAogICAgICAgICAgYmJveCA9IHRleHQubm9kZSgpLmdldEJCb3goKSwKICAgICAgICAgIHBhZGRpbmcgPSAzOwogICAgICBvdXRsaW5lLmF0dHIoJ2QnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHZhciBjZW50ZXIgPSB7CiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogMAogICAgICAgIH0sCiAgICAgICAgICAgIGFuZ2xlID0gcm90YXRpb24oZC5zb3VyY2UsIGQudGFyZ2V0KSwKICAgICAgICAgICAgdGV4dEJvdW5kaW5nQm94ID0gdGV4dC5ub2RlKCkuZ2V0QkJveCgpLAogICAgICAgICAgICB0ZXh0UGFkZGluZyA9IDUsCiAgICAgICAgICAgIHUgPSB1bml0YXJ5VmVjdG9yKGQuc291cmNlLCBkLnRhcmdldCksCiAgICAgICAgICAgIHRleHRNYXJnaW4gPSB7CiAgICAgICAgICB4OiAoZC50YXJnZXQueCAtIGQuc291cmNlLnggLSAodGV4dEJvdW5kaW5nQm94LndpZHRoICsgdGV4dFBhZGRpbmcpICogdS54KSAqIDAuNSwKICAgICAgICAgIHk6IChkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtICh0ZXh0Qm91bmRpbmdCb3gud2lkdGggKyB0ZXh0UGFkZGluZykgKiB1LnkpICogMC41CiAgICAgICAgfSwKICAgICAgICAgICAgbiA9IHVuaXRhcnlOb3JtYWxWZWN0b3IoZC5zb3VyY2UsIGQudGFyZ2V0KSwKICAgICAgICAgICAgcm90YXRlZFBvaW50QTEgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IDAgKyAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnggLSBuLngsCiAgICAgICAgICB5OiAwICsgKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55IC0gbi55CiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRCMSA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogdGV4dE1hcmdpbi54IC0gbi54LAogICAgICAgICAgeTogdGV4dE1hcmdpbi55IC0gbi55CiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRDMSA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogdGV4dE1hcmdpbi54LAogICAgICAgICAgeTogdGV4dE1hcmdpbi55CiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnREMSA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogMCArIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCwKICAgICAgICAgIHk6IDAgKyAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEEyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIHRleHRNYXJnaW4ueCAtIG4ueCwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gdGV4dE1hcmdpbi55IC0gbi55CiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRCMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnggLSBuLnggLSB1LnggKiBvcHRpb25zLmFycm93U2l6ZSwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55IC0gbi55IC0gdS55ICogb3B0aW9ucy5hcnJvd1NpemUKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEMyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCAtIG4ueCArIChuLnggLSB1LngpICogb3B0aW9ucy5hcnJvd1NpemUsCiAgICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueSAtIG4ueSArIChuLnkgLSB1LnkpICogb3B0aW9ucy5hcnJvd1NpemUKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEQyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55CiAgICAgICAgfSwgYW5nbGUpLAogICAgICAgICAgICByb3RhdGVkUG9pbnRFMiA9IHJvdGF0ZVBvaW50KGNlbnRlciwgewogICAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnggKyAoLW4ueCAtIHUueCkgKiBvcHRpb25zLmFycm93U2l6ZSwKICAgICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55IC0gKG9wdGlvbnMubm9kZVJhZGl1cyArIDEpICogdS55ICsgKC1uLnkgLSB1LnkpICogb3B0aW9ucy5hcnJvd1NpemUKICAgICAgICB9LCBhbmdsZSksCiAgICAgICAgICAgIHJvdGF0ZWRQb2ludEYyID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIChvcHRpb25zLm5vZGVSYWRpdXMgKyAxKSAqIHUueCAtIHUueCAqIG9wdGlvbnMuYXJyb3dTaXplLAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSAob3B0aW9ucy5ub2RlUmFkaXVzICsgMSkgKiB1LnkgLSB1LnkgKiBvcHRpb25zLmFycm93U2l6ZQogICAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgICAgcm90YXRlZFBvaW50RzIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICAgIHg6IGQudGFyZ2V0LnggLSBkLnNvdXJjZS54IC0gdGV4dE1hcmdpbi54LAogICAgICAgICAgeTogZC50YXJnZXQueSAtIGQuc291cmNlLnkgLSB0ZXh0TWFyZ2luLnkKICAgICAgICB9LCBhbmdsZSk7CiAgICAgICAgcmV0dXJuICdNICcgKyByb3RhdGVkUG9pbnRBMS54ICsgJyAnICsgcm90YXRlZFBvaW50QTEueSArICcgTCAnICsgcm90YXRlZFBvaW50QjEueCArICcgJyArIHJvdGF0ZWRQb2ludEIxLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEMxLnggKyAnICcgKyByb3RhdGVkUG9pbnRDMS55ICsgJyBMICcgKyByb3RhdGVkUG9pbnREMS54ICsgJyAnICsgcm90YXRlZFBvaW50RDEueSArICcgWiBNICcgKyByb3RhdGVkUG9pbnRBMi54ICsgJyAnICsgcm90YXRlZFBvaW50QTIueSArICcgTCAnICsgcm90YXRlZFBvaW50QjIueCArICcgJyArIHJvdGF0ZWRQb2ludEIyLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEMyLnggKyAnICcgKyByb3RhdGVkUG9pbnRDMi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnREMi54ICsgJyAnICsgcm90YXRlZFBvaW50RDIueSArICcgTCAnICsgcm90YXRlZFBvaW50RTIueCArICcgJyArIHJvdGF0ZWRQb2ludEUyLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEYyLnggKyAnICcgKyByb3RhdGVkUG9pbnRGMi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRHMi54ICsgJyAnICsgcm90YXRlZFBvaW50RzIueSArICcgWic7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0aWNrUmVsYXRpb25zaGlwc092ZXJsYXlzKCkgewogICAgcmVsYXRpb25zaGlwT3ZlcmxheS5hdHRyKCdkJywgZnVuY3Rpb24gKGQpIHsKICAgICAgdmFyIGNlbnRlciA9IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfSwKICAgICAgICAgIGFuZ2xlID0gcm90YXRpb24oZC5zb3VyY2UsIGQudGFyZ2V0KSwKICAgICAgICAgIG4xID0gdW5pdGFyeU5vcm1hbFZlY3RvcihkLnNvdXJjZSwgZC50YXJnZXQpLAogICAgICAgICAgbiA9IHVuaXRhcnlOb3JtYWxWZWN0b3IoZC5zb3VyY2UsIGQudGFyZ2V0LCA1MCksCiAgICAgICAgICByb3RhdGVkUG9pbnRBID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgeDogMCAtIG4ueCwKICAgICAgICB5OiAwIC0gbi55CiAgICAgIH0sIGFuZ2xlKSwKICAgICAgICAgIHJvdGF0ZWRQb2ludEIgPSByb3RhdGVQb2ludChjZW50ZXIsIHsKICAgICAgICB4OiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCAtIG4ueCwKICAgICAgICB5OiBkLnRhcmdldC55IC0gZC5zb3VyY2UueSAtIG4ueQogICAgICB9LCBhbmdsZSksCiAgICAgICAgICByb3RhdGVkUG9pbnRDID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgeDogZC50YXJnZXQueCAtIGQuc291cmNlLnggKyBuLnggLSBuMS54LAogICAgICAgIHk6IGQudGFyZ2V0LnkgLSBkLnNvdXJjZS55ICsgbi55IC0gbjEueQogICAgICB9LCBhbmdsZSksCiAgICAgICAgICByb3RhdGVkUG9pbnREID0gcm90YXRlUG9pbnQoY2VudGVyLCB7CiAgICAgICAgeDogMCArIG4ueCAtIG4xLngsCiAgICAgICAgeTogMCArIG4ueSAtIG4xLnkKICAgICAgfSwgYW5nbGUpOwogICAgICByZXR1cm4gJ00gJyArIHJvdGF0ZWRQb2ludEEueCArICcgJyArIHJvdGF0ZWRQb2ludEEueSArICcgTCAnICsgcm90YXRlZFBvaW50Qi54ICsgJyAnICsgcm90YXRlZFBvaW50Qi55ICsgJyBMICcgKyByb3RhdGVkUG9pbnRDLnggKyAnICcgKyByb3RhdGVkUG9pbnRDLnkgKyAnIEwgJyArIHJvdGF0ZWRQb2ludEQueCArICcgJyArIHJvdGF0ZWRQb2ludEQueSArICcgWic7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHRpY2tSZWxhdGlvbnNoaXBzVGV4dHMoKSB7CiAgICByZWxhdGlvbnNoaXBUZXh0LmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBhbmdsZSA9IChyb3RhdGlvbihkLnNvdXJjZSwgZC50YXJnZXQpICsgMzYwKSAlIDM2MCwKICAgICAgICAgIG1pcnJvciA9IGFuZ2xlID4gOTAgJiYgYW5nbGUgPCAyNzAsCiAgICAgICAgICBjZW50ZXIgPSB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH0sCiAgICAgICAgICBuID0gdW5pdGFyeU5vcm1hbFZlY3RvcihkLnNvdXJjZSwgZC50YXJnZXQpLAogICAgICAgICAgbldlaWdodCA9IG1pcnJvciA/IDIgOiAtMywKICAgICAgICAgIHBvaW50ID0gewogICAgICAgIHg6IChkLnRhcmdldC54IC0gZC5zb3VyY2UueCkgKiAwLjUgKyBuLnggKiBuV2VpZ2h0LAogICAgICAgIHk6IChkLnRhcmdldC55IC0gZC5zb3VyY2UueSkgKiAwLjUgKyBuLnkgKiBuV2VpZ2h0CiAgICAgIH0sCiAgICAgICAgICByb3RhdGVkUG9pbnQgPSByb3RhdGVQb2ludChjZW50ZXIsIHBvaW50LCBhbmdsZSk7CiAgICAgIHZhciB0cmFuc2xhdGVfcmVzID0gJ3RyYW5zbGF0ZSgnICsgcm90YXRlZFBvaW50LnggKyAnLCAnICsgcm90YXRlZFBvaW50LnkgKyAnKSc7CgogICAgICBpZiAoYW5nbGUgPiA5MCAmJiBhbmdsZSA8PSAyNzkpIHsKICAgICAgICB0cmFuc2xhdGVfcmVzICs9ICcgcm90YXRlKDE4MCknOwogICAgICB9CgogICAgICByZXR1cm4gdHJhbnNsYXRlX3JlczsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdG9TdHJpbmcoZCkgewogICAgdmFyIHMgPSBkLmxhYmVscyA/IGQubGFiZWxzWzBdIDogZC50eXBlOwogICAgcyArPSAnICg8aWQ+OiAnICsgZC5pZDsKICAgIE9iamVjdC5rZXlzKGQucHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICAgcyArPSAnLCAnICsgcHJvcGVydHkgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkoZC5wcm9wZXJ0aWVzW3Byb3BlcnR5XSk7CiAgICB9KTsKICAgIHMgKz0gJyknOwogICAgcmV0dXJuIHM7CiAgfQoKICBmdW5jdGlvbiB1bml0YXJ5Tm9ybWFsVmVjdG9yKHNvdXJjZSwgdGFyZ2V0LCBuZXdMZW5ndGgpIHsKICAgIHZhciBjZW50ZXIgPSB7CiAgICAgIHg6IDAsCiAgICAgIHk6IDAKICAgIH0sCiAgICAgICAgdmVjdG9yID0gdW5pdGFyeVZlY3Rvcihzb3VyY2UsIHRhcmdldCwgbmV3TGVuZ3RoKTsKICAgIHJldHVybiByb3RhdGVQb2ludChjZW50ZXIsIHZlY3RvciwgOTApOwogIH0KCiAgZnVuY3Rpb24gdW5pdGFyeVZlY3Rvcihzb3VyY2UsIHRhcmdldCwgbmV3TGVuZ3RoKSB7CiAgICB2YXIgbGVuZ3RoID0gTWF0aC5zcXJ0KE1hdGgucG93KHRhcmdldC54IC0gc291cmNlLngsIDIpICsgTWF0aC5wb3codGFyZ2V0LnkgLSBzb3VyY2UueSwgMikpIC8gTWF0aC5zcXJ0KG5ld0xlbmd0aCB8fCAxKTsKICAgIHJldHVybiB7CiAgICAgIHg6ICh0YXJnZXQueCAtIHNvdXJjZS54KSAvIGxlbmd0aCwKICAgICAgeTogKHRhcmdldC55IC0gc291cmNlLnkpIC8gbGVuZ3RoCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlV2l0aEQzRGF0YShkM0RhdGEpIHsKICAgIHVwZGF0ZU5vZGVzQW5kUmVsYXRpb25zaGlwcyhkM0RhdGEubm9kZXMsIGQzRGF0YS5yZWxhdGlvbnNoaXBzKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZVdpdGhOZW80akRhdGEobmVvNGpEYXRhKSB7CiAgICB2YXIgZDNEYXRhID0gbmVvNGpEYXRhVG9EM0RhdGEobmVvNGpEYXRhKTsKICAgIHVwZGF0ZVdpdGhEM0RhdGEoZDNEYXRhKTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUluZm8oZCkgewogICAgY2xlYXJJbmZvKCk7CgogICAgaWYgKGQubGFiZWxzKSB7CiAgICAgIGFwcGVuZEluZm9FbGVtZW50Q2xhc3MoJ2NsYXNzJywgZC5sYWJlbHNbMF0pOwogICAgfSBlbHNlIHsKICAgICAgYXBwZW5kSW5mb0VsZW1lbnRSZWxhdGlvbnNoaXAoJ2NsYXNzJywgZC50eXBlKTsKICAgIH0KCiAgICBhcHBlbmRJbmZvRWxlbWVudFByb3BlcnR5KCdwcm9wZXJ0eScsICcmbHQ7aWQmZ3Q7JywgZC5pZCk7CiAgICBPYmplY3Qua2V5cyhkLnByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAgIGFwcGVuZEluZm9FbGVtZW50UHJvcGVydHkoJ3Byb3BlcnR5JywgcHJvcGVydHksIEpTT04uc3RyaW5naWZ5KGQucHJvcGVydGllc1twcm9wZXJ0eV0pKTsKICAgIH0pOwogIH0KICAvKioKICAgKiBQdXNoIGFycjIgdG8gYXJyMiBhdm9pZCBkdXBsaWNhdGUgb2YgaWQKICAgKiBAcGFyYW0geyp9IGFycjEgCiAgICogQHBhcmFtIHsqfSBhcnIyIAogICAqLwoKCiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycjEsIGFycjIpIHsKICAgIHZhciB2aXNpdGVkID0ge307CiAgICB2YXIgaWRzID0gYXJyMS5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgdmlzaXRlZFtkLmlkXSA9IGZhbHNlOwogICAgICByZXR1cm4gZC5pZDsKICAgIH0pOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyMi5sZW5ndGg7IGkrKykgewogICAgICB2YXIgdG1wSWQgPSBhcnIyW2ldLmlkOwoKICAgICAgaWYgKCFpZHMuaW5jbHVkZXModG1wSWQpKSB7CiAgICAgICAgYXJyMS5wdXNoKGFycjJbaV0pOwogICAgICAgIGlkcy5wdXNoKHRtcElkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2aXNpdGVkW3RtcElkXSA9IHRydWU7CiAgICAgIH0KICAgIH0gLy8gcmVtb3ZlIG5vbi12aXN0ZWQgdmFsdWVzCgoKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModmlzaXRlZCk7CgogICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaisrKSB7CiAgICAgIHZhciByZW1vdmVJZCA9IGtleXNbal07CgogICAgICBpZiAodmlzaXRlZFtyZW1vdmVJZF0gPT0gZmFsc2UpIHsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFycjEubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGlmIChhcnIxW2tdLmlkID09IHJlbW92ZUlkKSB7CiAgICAgICAgICAgIGFycjEuc3BsaWNlKGssIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZU5vZGVzKG4pIHsKICAgIC8vIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG5vZGVzLCBuKQogICAgYXJyYXlQdXNoKG5vZGVzLCBuKTsKICAgIG5vZGUgPSBzdmdOb2Rlcy5zZWxlY3RBbGwoJy5ub2RlJykuZGF0YShub2RlcywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuaWQ7CiAgICB9KTsgLy8gLmRhdGEobm9kZUlkcykKCiAgICB2YXIgbm9kZUVudGVyID0gYXBwZW5kTm9kZVRvR3JhcGgoKTsKICAgIG5vZGUgPSBub2RlRW50ZXIubWVyZ2Uobm9kZSk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVOb2Rlc0FuZFJlbGF0aW9uc2hpcHMobiwgcikgewogICAgdXBkYXRlUmVsYXRpb25zaGlwcyhyKTsKICAgIHVwZGF0ZU5vZGVzKG4pOwogICAgc2ltdWxhdGlvbi5ub2Rlcyhub2Rlcyk7CiAgICBzaW11bGF0aW9uLmZvcmNlKCdsaW5rJykubGlua3MocmVsYXRpb25zaGlwcyk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVSZWxhdGlvbnNoaXBzKHIpIHsKICAgIC8vIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlbGF0aW9uc2hpcHMsIHIpCiAgICBhcnJheVB1c2gocmVsYXRpb25zaGlwcywgcik7CiAgICByZWxhdGlvbnNoaXAgPSBzdmdSZWxhdGlvbnNoaXBzLnNlbGVjdEFsbCgnLnJlbGF0aW9uc2hpcCcpLmRhdGEocmVsYXRpb25zaGlwcywgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuaWQ7CiAgICB9KTsKICAgIHZhciByZWxhdGlvbnNoaXBFbnRlciA9IGFwcGVuZFJlbGF0aW9uc2hpcFRvR3JhcGgoKTsKICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcEVudGVyLnJlbGF0aW9uc2hpcC5tZXJnZShyZWxhdGlvbnNoaXApOwogICAgcmVsYXRpb25zaGlwT3V0bGluZSA9IHN2Zy5zZWxlY3RBbGwoJy5yZWxhdGlvbnNoaXAgLm91dGxpbmUnKTsKICAgIHJlbGF0aW9uc2hpcE91dGxpbmUgPSByZWxhdGlvbnNoaXBFbnRlci5vdXRsaW5lLm1lcmdlKHJlbGF0aW9uc2hpcE91dGxpbmUpOwogICAgcmVsYXRpb25zaGlwT3ZlcmxheSA9IHN2Zy5zZWxlY3RBbGwoJy5yZWxhdGlvbnNoaXAgLm92ZXJsYXknKTsKICAgIHJlbGF0aW9uc2hpcE92ZXJsYXkgPSByZWxhdGlvbnNoaXBFbnRlci5vdmVybGF5Lm1lcmdlKHJlbGF0aW9uc2hpcE92ZXJsYXkpOwogICAgcmVsYXRpb25zaGlwVGV4dCA9IHN2Zy5zZWxlY3RBbGwoJy5yZWxhdGlvbnNoaXAgLnRleHQnKTsKICAgIHJlbGF0aW9uc2hpcFRleHQgPSByZWxhdGlvbnNoaXBFbnRlci50ZXh0Lm1lcmdlKHJlbGF0aW9uc2hpcFRleHQpOwogIH0KCiAgZnVuY3Rpb24gdmVyc2lvbigpIHsKICAgIHJldHVybiBWRVJTSU9OOwogIH0KCiAgZnVuY3Rpb24gem9vbUZpdCh0cmFuc2l0aW9uRHVyYXRpb24pIHsKICAgIHZhciBib3VuZHMgPSBzdmcubm9kZSgpLmdldEJCb3goKSwKICAgICAgICBwYXJlbnQgPSBzdmcubm9kZSgpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCwKICAgICAgICBmdWxsV2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGgsCiAgICAgICAgZnVsbEhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQsCiAgICAgICAgd2lkdGggPSBib3VuZHMud2lkdGgsCiAgICAgICAgaGVpZ2h0ID0gYm91bmRzLmhlaWdodCwKICAgICAgICBtaWRYID0gYm91bmRzLnggKyB3aWR0aCAvIDIsCiAgICAgICAgbWlkWSA9IGJvdW5kcy55ICsgaGVpZ2h0IC8gMjsKCiAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7CiAgICAgIHJldHVybjsgLy8gbm90aGluZyB0byBmaXQKICAgIH0KCiAgICBzdmdTY2FsZSA9IDAuODUgLyBNYXRoLm1heCh3aWR0aCAvIGZ1bGxXaWR0aCwgaGVpZ2h0IC8gZnVsbEhlaWdodCk7CiAgICBzdmdUcmFuc2xhdGUgPSBbZnVsbFdpZHRoIC8gMiAtIHN2Z1NjYWxlICogbWlkWCwgZnVsbEhlaWdodCAvIDIgLSBzdmdTY2FsZSAqIG1pZFldOwogICAgc3ZnLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHN2Z1RyYW5zbGF0ZVswXSArICcsICcgKyBzdmdUcmFuc2xhdGVbMV0gKyAnKSBzY2FsZSgnICsgc3ZnU2NhbGUgKyAnKScpOyAvLyAgICAgICAgc21vb3RoVHJhbnNmb3JtKHN2Z1RyYW5zbGF0ZSwgc3ZnU2NhbGUpOwogIH0KCiAgaW5pdChfc2VsZWN0b3IsIF9vcHRpb25zKTsKICByZXR1cm4gewogICAgYXBwZW5kUmFuZG9tRGF0YVRvTm9kZTogYXBwZW5kUmFuZG9tRGF0YVRvTm9kZSwKICAgIG5lbzRqRGF0YVRvRDNEYXRhOiBuZW80akRhdGFUb0QzRGF0YSwKICAgIHJhbmRvbUQzRGF0YTogcmFuZG9tRDNEYXRhLAogICAgc2l6ZTogc2l6ZSwKICAgIHVwZGF0ZVdpdGhEM0RhdGE6IHVwZGF0ZVdpdGhEM0RhdGEsCiAgICB1cGRhdGVXaXRoTmVvNGpEYXRhOiB1cGRhdGVXaXRoTmVvNGpEYXRhLAogICAgdmVyc2lvbjogdmVyc2lvbgogIH07Cn0KCmV4cG9ydCBkZWZhdWx0IE5lbzRqRDM7"},{"version":3,"sources":["/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/js/Neo4jD3.js"],"names":["d3","Neo4jD3","_selector","_options","container","graph","info","node","nodes","relationship","relationshipOutline","relationshipOverlay","relationshipText","relationships","selector","simulation","svg","svgNodes","svgRelationships","svgScale","svgTranslate","classes2colors","justLoaded","numClasses","options","arrowSize","colors","highlight","undefined","iconMap","fontAwesomeIcons","icons","imageMap","images","infoPanel","minCollision","neo4jData","neo4jDataUrl","nodeOutlineFillColor","nodeRadius","relationshipColor","zoomFit","VERSION","appendGraph","append","attr","on","appendImageToNode","d","icon","image","appendInfoPanel","appendInfoElement","cls","isNode","property","value","elem","html","style","class2color","defaultColor","class2darkenColor","defaultDarkenColor","appendInfoElementClass","appendInfoElementProperty","appendInfoElementRelationship","appendNode","exit","remove","enter","i","classes","label","labels","length","properties","id","fx","fy","onNodeClick","stickNode","onNodeDoubleClick","updateInfo","onNodeMouseEnter","clearInfo","onNodeMouseLeave","call","drag","dragStarted","dragged","dragEnded","appendNodeToGraph","n","appendRingToNode","appendOutlineToNode","appendLabeltoNode","appendTextToNode","each","text_nodes","selection","select","text","textDisplay","threshold","res","text_tokens","split","tmp","token","push","slice","entity_type","color","parseInt","Math","round","_icon","appendRandomDataToNode","maxNodesToGenerate","data","randomD3Data","updateWithNeo4jData","appendRelationship","onRelationshipClick","appendOutlineToRelationship","r","relationship_type","appendOverlayToRelationship","appendTextToRelationship","mapping","appendRelationshipToGraph","outline","overlay","rgb","darker","random","contains","array","filter","event","active","alphaTarget","onNodeDragEnd","restart","x","y","onNodeDragStart","extend","obj1","obj2","obj","merge","code","showIcons","imagesForLabel","img","imgLevel","labelPropertyValue","init","initIconMap","initImageMap","initSimulation","loadNeo4jData","loadNeo4jDataFromUrl","console","error","Object","keys","forEach","key","index","hasOwnProperty","forceSimulation","force","forceCollide","radius","iterations","forceManyBody","strength","forceLink","distance","forceCenter","parentElement","clientWidth","clientHeight","tick","json","target","source","neo4jDataToD3Data","results","result","startNode","endNode","sort","a","b","linknum","numNodes","s","size","randomLabel","type","toUpperCase","from","Date","now","rotate","cx","cy","angle","radians","PI","cos","sin","nx","ny","rotatePoint","c","p","rotation","atan2","tickNodes","tickRelationships","tickRelationshipsTexts","tickRelationshipsOutlines","tickRelationshipsOverlays","rel","bbox","getBBox","padding","center","textBoundingBox","textPadding","u","unitaryVector","textMargin","width","unitaryNormalVector","rotatedPointA1","rotatedPointB1","rotatedPointC1","rotatedPointD1","rotatedPointA2","rotatedPointB2","rotatedPointC2","rotatedPointD2","rotatedPointE2","rotatedPointF2","rotatedPointG2","n1","rotatedPointA","rotatedPointB","rotatedPointC","rotatedPointD","mirror","nWeight","point","rotatedPoint","translate_res","toString","JSON","stringify","newLength","vector","sqrt","pow","updateWithD3Data","d3Data","updateNodesAndRelationships","arrayPush","arr1","arr2","visited","ids","map","tmpId","includes","j","removeId","k","splice","updateNodes","selectAll","nodeEnter","updateRelationships","links","relationshipEnter","version","transitionDuration","bounds","parent","fullWidth","fullHeight","height","midX","midY","max"],"mappings":"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","sourcesContent":["/* global d3, document */\n/* jshint latedef:nofunc */\nimport * as d3 from 'd3'\n\nfunction Neo4jD3 (_selector, _options) {\n  var container, graph, info, node, nodes, relationship, relationshipOutline, relationshipOverlay, relationshipText, relationships, selector, simulation, svg, svgNodes, svgRelationships, svgScale, svgTranslate,\n    classes2colors = {},\n    justLoaded = false,\n    numClasses = 0,\n    options = {\n      arrowSize: 4,\n      colors: colors(),\n      highlight: undefined,\n      iconMap: fontAwesomeIcons(),\n      icons: undefined,\n      imageMap: {},\n      images: undefined,\n      infoPanel: true,\n      minCollision: undefined,\n      neo4jData: undefined,\n      neo4jDataUrl: undefined,\n      nodeOutlineFillColor: undefined,\n      nodeRadius: 25,\n      relationshipColor: '#a5abb6',\n      zoomFit: false\n    },\n    VERSION = '0.0.1'\n\n\n  function appendGraph (container) {\n    svg= container.append('svg')\n      .attr('width', '100%')\n      .attr('height', '100%')\n      .attr('class', 'neo4jd3-graph')\n      .on('dblclick.zoom', null)\n      .append('g')\n      .attr('width', '100%')\n      .attr('height', '100%')\n       \n   \n      \n    svgRelationships = svg.append('g')\n      .attr('class', 'relationships')\n\n    svgNodes = svg.append('g')\n      .attr('class', 'nodes')\n  }\n\n  function appendImageToNode (node) {\n    return node.append('image')\n      .attr('height', function (d) {\n        return icon(d) ? '24px' : '30px'\n      })\n      .attr('x', function (d) {\n        return icon(d) ? '5px' : '-15px'\n      })\n      .attr('xlink:href', function (d) {\n        return image(d)\n      })\n      .attr('y', function (d) {\n        return icon(d) ? '5px' : '-16px'\n      })\n      .attr('width', function (d) {\n        return icon(d) ? '24px' : '30px'\n      })\n  }\n\n  function appendInfoPanel (container) {\n    return container.append('div')\n      .attr('class', 'neo4jd3-info')\n  }\n\n  function appendInfoElement (cls, isNode, property, value) {\n    var elem = info.append('a')\n\n    elem.attr('href', '#')\n      .attr('class', cls)\n      .html('<strong>' + property + '</strong>' + (value ? (': ' + value) : ''))\n\n    if (!value) {\n      elem.style('background-color', function (d) {\n        return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : (isNode ? class2color(property) : defaultColor())\n      })\n        .style('border-color', function (d) {\n          return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : (isNode ? class2darkenColor(property) : defaultDarkenColor())\n        })\n        .style('color', function (d) {\n          return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : '#fff'\n        })\n    }\n  }\n\n  function appendInfoElementClass (cls, node) {\n    appendInfoElement(cls, true, node)\n  }\n\n  function appendInfoElementProperty (cls, property, value) {\n    appendInfoElement(cls, false, property, value)\n  }\n\n  function appendInfoElementRelationship (cls, relationship) {\n    appendInfoElement(cls, false, relationship)\n  }\n\n  function appendNode () {\n    // exist removed nodes\n    node.exit().remove()\n\n    return node.enter()\n      .append('g')\n      .attr('class', function (d) {\n        var highlight, i,\n          classes = 'node',\n          label = d.labels[0]\n\n        if (icon(d)) {\n          classes += ' node-icon'\n        }\n\n        if (image(d)) {\n          classes += ' node-image'\n        }\n\n        if (options.highlight) {\n          for (i = 0; i < options.highlight.length; i++) {\n            highlight = options.highlight[i]\n\n            if (d.labels[0] === highlight.class && d.properties[highlight.property] === highlight.value) {\n              classes += ' node-highlighted'\n              break\n            }\n          }\n        }\n\n        return classes\n      })\n      .attr('id', d=>`node-${d.id}`)\n      .on('click', function (d,i) {\n        d.fx = d.fy = null\n\n        if (typeof options.onNodeClick === 'function') {\n          options.onNodeClick(d,i)\n        }\n      })\n      .on('dblclick', function (d) {\n        stickNode(d)\n\n        if (typeof options.onNodeDoubleClick === 'function') {\n          options.onNodeDoubleClick(d)\n        }\n      })\n      .on('mouseenter', function (d) {\n        if (info) {\n          updateInfo(d)\n        }\n\n        if (typeof options.onNodeMouseEnter === 'function') {\n          options.onNodeMouseEnter(d)\n        }\n      })\n      .on('mouseleave', function (d) {\n        if (info) {\n          clearInfo(d)\n        }\n\n        if (typeof options.onNodeMouseLeave === 'function') {\n          options.onNodeMouseLeave(d)\n        }\n      })\n      .call(d3.drag()\n        .on('start', dragStarted)\n        .on('drag', dragged)\n        .on('end', dragEnded))\n  }\n\n  function appendNodeToGraph () {\n    var n = appendNode()\n\n    appendRingToNode(n)\n    appendOutlineToNode(n)\n    appendLabeltoNode(n)\n    if (options.icons) {\n      appendTextToNode(n)\n    }\n\n    if (options.images) {\n      appendImageToNode(n)\n    }\n\n    return n\n  }\n  function appendLabeltoNode (node) {\n    \n    node\n      .each(function (d) {\n        // let mapping = d['properties']['mapping']\n        const text_nodes = d['id']\n        const selection = d3.select(this)\n          selection.append('text')\n            .attr('x', '0')\n            .attr('y', '0')\n            .style('font-size', '8px')\n            .style('text-anchor', 'middle')\n            .style('fill', '#5A4221')\n            .style('pointer-events', 'none')\n            .style('font-weight', 'bold')\n            .text(text_nodes)\n      })\n    // const text_nodes = textDisplay()\n  }\n\n  function textDisplay (text) {\n    let threshold = 9\n\n    let res = []\n    if (text) {\n      let text_tokens = text.split(' ')\n      let tmp = ''\n      for (let token of text_tokens) {\n        if (res.length < 2) {\n          if (tmp.length > threshold) {\n            res.push(token.slice(0, 9) + '..')\n            tmp = ''\n          }\n          if (tmp.length == 0) {\n            if (token.length <= threshold) {\n              tmp += token\n            } else {\n              res.push(token.slice(0, 9) + '..')\n              tmp = ''\n            }\n          } else {\n            if (tmp.length + 1 + token.length <= threshold) {\n              tmp += ' ' + token\n            } else {\n              res.push(tmp)\n              tmp = token\n            }\n          }\n        } else {\n          if (tmp.length == 0) {\n            if (token.length <= threshold) {\n              tmp += token\n            } else {\n              res.push(token.slice(0, 9) + '..')\n              tmp = ''\n            }\n          } else {\n            if (tmp.length + 1 + token.length <= threshold) {\n              tmp += ' ' + token\n            } else {\n              res.push(tmp)\n              tmp = token\n            }\n          }\n          break\n        }\n      }\n      if (tmp.length > 0) {\n        if (tmp.length > threshold) {\n          res.push(tmp.slice(0, 8) + '..')\n        } else {\n          res.push(tmp)\n        }\n      }\n    }else {\n      res = ['None']\n    }\n    return res\n  }\n\n  function appendOutlineToNode (node) {\n    return node.append('circle')\n      .attr('class', d=>`outline nodetype_${d.properties.entity_type?d.properties.entity_type:'undefined'}`)\n      .attr('r', options.nodeRadius)\n      .style('fill', function (d) {\n        return d.color\n        // return '#78b3d0'\n        //    return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : class2color(d.labels[0]);\n      })\n      // .style('stroke', function (d) {\n      //   // return '#358eb8'\n      //   return d['stroke_color']\n      //   //    return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : class2darkenColor(d.labels[0]);\n      // })\n      .append('title').text(function (d) {\n        // console.log('teeeee', d)\n        return d.properties.label\n      })\n  }\n\n  function appendRingToNode (node) {\n    return node.append('circle')\n      .attr('class', 'ring')\n      .attr('r', options.nodeRadius * 1.16)\n      // .append('title').text(function (d) {\n      //   return toString(d.label)\n      // })\n  }\n\n  function appendTextToNode (node) {\n    return node.append('text')\n      .attr('class', function (d) {\n        return 'text' + (icon(d) ? ' icon' : '')\n      })\n      .attr('stroke', 'white')\n      .attr('font-size', function (d) {\n        return icon(d) ? (options.nodeRadius + 'px') : '10px'\n      })\n      .style('pointer-events', 'none')\n      .attr('text-anchor', 'middle')\n      .attr('y', function (d) {\n        return icon(d) ? (parseInt(Math.round(options.nodeRadius * 0.32)) + 'px') : '4px'\n      })\n      .html(function (d) {\n        var _icon = icon(d)\n        return _icon ? '&#x' + _icon : d.id\n      })\n\n  }\n\n  function appendRandomDataToNode (d, maxNodesToGenerate) {\n    var data = randomD3Data(d, maxNodesToGenerate)\n    updateWithNeo4jData(data)\n  }\n\n  function appendRelationship () {\n    // exist removed relationships\n    relationship.exit().remove()\n    return relationship.enter()\n      .append('g')\n      .attr('class', 'relationship')\n      .on('click', function (d) {\n        if (typeof options.onRelationshipClick === 'function') {\n          options.onRelationshipClick(d)\n        }\n      })\n      .on('mouseenter', function (d) {\n        if (info) {\n          updateInfo(d)\n        }\n      })\n  }\n\n  function appendOutlineToRelationship (r) {\n    return r.append('path')\n      .attr('class', d=>`outline nodetype_${d.properties.relationship_type?d.properties.relationship_type:'undefined'}`)\n      .attr('fill', '#a5abb6')\n      .attr('stroke', 'none')\n  }\n\n  function appendOverlayToRelationship (r) {\n    return r.append('path')\n      .attr('class', 'overlay')\n  }\n\n  function appendTextToRelationship (r) {\n    return r.append('text')\n      .attr('class', 'text')\n      .attr('fill', '#000000')\n      .attr('font-size', '10px')\n      .attr('pointer-events', 'none')\n      .attr('text-anchor', 'middle')\n      .attr('color', 'white')\n      .text(function (d) {\n        // console.log(d)\n        let mapping = d['properties']['mapping']\n        return d['properties'][mapping]\n      })\n  }\n\n  function appendRelationshipToGraph () {\n    var relationship = appendRelationship(),\n      text = appendTextToRelationship(relationship),\n      outline = appendOutlineToRelationship(relationship),\n      overlay = appendOverlayToRelationship(relationship)\n\n    return {\n      outline: outline,\n      overlay: overlay,\n      relationship: relationship,\n      text: text\n    }\n  }\n\n  function class2color (cls) {\n    var color = classes2colors[cls]\n\n    if (!color) {\n      //            color = options.colors[Math.min(numClasses, options.colors.length - 1)];\n      color = options.colors[numClasses % options.colors.length]\n      classes2colors[cls] = color\n      numClasses++\n    }\n\n    return color\n  }\n\n  function class2darkenColor (cls) {\n    return d3.rgb(class2color(cls)).darker(1)\n  }\n\n  function clearInfo () {\n    info.html('')\n  }\n\n  function color () {\n    return options.colors[options.colors.length * Math.random() << 0]\n  }\n\n  function colors () {\n    // d3.schemeCategory10,\n    // d3.schemeCategory20,\n    return [\n      '#68bdf6', // light blue\n      '#6dce9e', // green #1\n      '#faafc2', // light pink\n      '#f2baf6', // purple\n      '#ff928c', // light red\n      '#fcea7e', // light yellow\n      '#ffc766', // light orange\n      '#405f9e', // navy blue\n      '#a5abb6', // dark gray\n      '#78cecb', // green #2,\n      '#b88cbb', // dark purple\n      '#ced2d9', // light gray\n      '#e84646', // dark red\n      '#fa5f86', // dark pink\n      '#ffab1a', // dark orange\n      '#fcda19', // dark yellow\n      '#797b80', // black\n      '#c9d96f', // pistacchio\n      '#47991f', // green #3\n      '#70edee', // turquoise\n      '#ff75ea' // pink\n    ]\n  }\n\n  function contains (array, id) {\n    var filter = array.filter(function (elem) {\n      return elem.id === id\n    })\n\n    return filter.length > 0\n  }\n\n  function defaultColor () {\n    return options.relationshipColor\n  }\n\n  function defaultDarkenColor () {\n    return d3.rgb(options.colors[options.colors.length - 1]).darker(1)\n  }\n\n  function dragEnded (d) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0)\n    }\n\n    if (typeof options.onNodeDragEnd === 'function') {\n      options.onNodeDragEnd(d)\n    }\n  }\n\n  function dragged (d) {\n    stickNode(d)\n  }\n\n  function dragStarted (d) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0.3).restart()\n    }\n\n    d.fx = d.x\n    d.fy = d.y\n\n    if (typeof options.onNodeDragStart === 'function') {\n      options.onNodeDragStart(d)\n    }\n  }\n\n  function extend (obj1, obj2) {\n    var obj = {}\n\n    merge(obj, obj1)\n    merge(obj, obj2)\n\n    return obj\n  }\n\n  function fontAwesomeIcons () {\n    return {'glass': 'f000', 'music': 'f001', 'search': 'f002', 'envelope-o': 'f003', 'heart': 'f004', 'star': 'f005', 'star-o': 'f006', 'user': 'f007', 'film': 'f008', 'th-large': 'f009', 'th': 'f00a', 'th-list': 'f00b', 'check': 'f00c', 'remove,close,times': 'f00d', 'search-plus': 'f00e', 'search-minus': 'f010', 'power-off': 'f011', 'signal': 'f012', 'gear,cog': 'f013', 'trash-o': 'f014', 'home': 'f015', 'file-o': 'f016', 'clock-o': 'f017', 'road': 'f018', 'download': 'f019', 'arrow-circle-o-down': 'f01a', 'arrow-circle-o-up': 'f01b', 'inbox': 'f01c', 'play-circle-o': 'f01d', 'rotate-right,repeat': 'f01e', 'refresh': 'f021', 'list-alt': 'f022', 'lock': 'f023', 'flag': 'f024', 'headphones': 'f025', 'volume-off': 'f026', 'volume-down': 'f027', 'volume-up': 'f028', 'qrcode': 'f029', 'barcode': 'f02a', 'tag': 'f02b', 'tags': 'f02c', 'book': 'f02d', 'bookmark': 'f02e', 'print': 'f02f', 'camera': 'f030', 'font': 'f031', 'bold': 'f032', 'italic': 'f033', 'text-height': 'f034', 'text-width': 'f035', 'align-left': 'f036', 'align-center': 'f037', 'align-right': 'f038', 'align-justify': 'f039', 'list': 'f03a', 'dedent,outdent': 'f03b', 'indent': 'f03c', 'video-camera': 'f03d', 'photo,image,picture-o': 'f03e', 'pencil': 'f040', 'map-marker': 'f041', 'adjust': 'f042', 'tint': 'f043', 'edit,pencil-square-o': 'f044', 'share-square-o': 'f045', 'check-square-o': 'f046', 'arrows': 'f047', 'step-backward': 'f048', 'fast-backward': 'f049', 'backward': 'f04a', 'play': 'f04b', 'pause': 'f04c', 'stop': 'f04d', 'forward': 'f04e', 'fast-forward': 'f050', 'step-forward': 'f051', 'eject': 'f052', 'chevron-left': 'f053', 'chevron-right': 'f054', 'plus-circle': 'f055', 'minus-circle': 'f056', 'times-circle': 'f057', 'check-circle': 'f058', 'question-circle': 'f059', 'info-circle': 'f05a', 'crosshairs': 'f05b', 'times-circle-o': 'f05c', 'check-circle-o': 'f05d', 'ban': 'f05e', 'arrow-left': 'f060', 'arrow-right': 'f061', 'arrow-up': 'f062', 'arrow-down': 'f063', 'mail-forward,share': 'f064', 'expand': 'f065', 'compress': 'f066', 'plus': 'f067', 'minus': 'f068', 'asterisk': 'f069', 'exclamation-circle': 'f06a', 'gift': 'f06b', 'leaf': 'f06c', 'fire': 'f06d', 'eye': 'f06e', 'eye-slash': 'f070', 'warning,exclamation-triangle': 'f071', 'plane': 'f072', 'calendar': 'f073', 'random': 'f074', 'comment': 'f075', 'magnet': 'f076', 'chevron-up': 'f077', 'chevron-down': 'f078', 'retweet': 'f079', 'shopping-cart': 'f07a', 'folder': 'f07b', 'folder-open': 'f07c', 'arrows-v': 'f07d', 'arrows-h': 'f07e', 'bar-chart-o,bar-chart': 'f080', 'twitter-square': 'f081', 'facebook-square': 'f082', 'camera-retro': 'f083', 'key': 'f084', 'gears,cogs': 'f085', 'comments': 'f086', 'thumbs-o-up': 'f087', 'thumbs-o-down': 'f088', 'star-half': 'f089', 'heart-o': 'f08a', 'sign-out': 'f08b', 'linkedin-square': 'f08c', 'thumb-tack': 'f08d', 'external-link': 'f08e', 'sign-in': 'f090', 'trophy': 'f091', 'github-square': 'f092', 'upload': 'f093', 'lemon-o': 'f094', 'phone': 'f095', 'square-o': 'f096', 'bookmark-o': 'f097', 'phone-square': 'f098', 'twitter': 'f099', 'facebook-f,facebook': 'f09a', 'github': 'f09b', 'unlock': 'f09c', 'credit-card': 'f09d', 'feed,rss': 'f09e', 'hdd-o': 'f0a0', 'bullhorn': 'f0a1', 'bell': 'f0f3', 'certificate': 'f0a3', 'hand-o-right': 'f0a4', 'hand-o-left': 'f0a5', 'hand-o-up': 'f0a6', 'hand-o-down': 'f0a7', 'arrow-circle-left': 'f0a8', 'arrow-circle-right': 'f0a9', 'arrow-circle-up': 'f0aa', 'arrow-circle-down': 'f0ab', 'globe': 'f0ac', 'wrench': 'f0ad', 'tasks': 'f0ae', 'filter': 'f0b0', 'briefcase': 'f0b1', 'arrows-alt': 'f0b2', 'group,users': 'f0c0', 'chain,link': 'f0c1', 'cloud': 'f0c2', 'flask': 'f0c3', 'cut,scissors': 'f0c4', 'copy,files-o': 'f0c5', 'paperclip': 'f0c6', 'save,floppy-o': 'f0c7', 'square': 'f0c8', 'navicon,reorder,bars': 'f0c9', 'list-ul': 'f0ca', 'list-ol': 'f0cb', 'strikethrough': 'f0cc', 'underline': 'f0cd', 'table': 'f0ce', 'magic': 'f0d0', 'truck': 'f0d1', 'pinterest': 'f0d2', 'pinterest-square': 'f0d3', 'google-plus-square': 'f0d4', 'google-plus': 'f0d5', 'money': 'f0d6', 'caret-down': 'f0d7', 'caret-up': 'f0d8', 'caret-left': 'f0d9', 'caret-right': 'f0da', 'columns': 'f0db', 'unsorted,sort': 'f0dc', 'sort-down,sort-desc': 'f0dd', 'sort-up,sort-asc': 'f0de', 'envelope': 'f0e0', 'linkedin': 'f0e1', 'rotate-left,undo': 'f0e2', 'legal,gavel': 'f0e3', 'dashboard,tachometer': 'f0e4', 'comment-o': 'f0e5', 'comments-o': 'f0e6', 'flash,bolt': 'f0e7', 'sitemap': 'f0e8', 'umbrella': 'f0e9', 'paste,clipboard': 'f0ea', 'lightbulb-o': 'f0eb', 'exchange': 'f0ec', 'cloud-download': 'f0ed', 'cloud-upload': 'f0ee', 'user-md': 'f0f0', 'stethoscope': 'f0f1', 'suitcase': 'f0f2', 'bell-o': 'f0a2', 'coffee': 'f0f4', 'cutlery': 'f0f5', 'file-text-o': 'f0f6', 'building-o': 'f0f7', 'hospital-o': 'f0f8', 'ambulance': 'f0f9', 'medkit': 'f0fa', 'fighter-jet': 'f0fb', 'beer': 'f0fc', 'h-square': 'f0fd', 'plus-square': 'f0fe', 'angle-double-left': 'f100', 'angle-double-right': 'f101', 'angle-double-up': 'f102', 'angle-double-down': 'f103', 'angle-left': 'f104', 'angle-right': 'f105', 'angle-up': 'f106', 'angle-down': 'f107', 'desktop': 'f108', 'laptop': 'f109', 'tablet': 'f10a', 'mobile-phone,mobile': 'f10b', 'circle-o': 'f10c', 'quote-left': 'f10d', 'quote-right': 'f10e', 'spinner': 'f110', 'circle': 'f111', 'mail-reply,reply': 'f112', 'github-alt': 'f113', 'folder-o': 'f114', 'folder-open-o': 'f115', 'smile-o': 'f118', 'frown-o': 'f119', 'meh-o': 'f11a', 'gamepad': 'f11b', 'keyboard-o': 'f11c', 'flag-o': 'f11d', 'flag-checkered': 'f11e', 'terminal': 'f120', 'code': 'f121', 'mail-reply-all,reply-all': 'f122', 'star-half-empty,star-half-full,star-half-o': 'f123', 'location-arrow': 'f124', 'crop': 'f125', 'code-fork': 'f126', 'unlink,chain-broken': 'f127', 'question': 'f128', 'info': 'f129', 'exclamation': 'f12a', 'superscript': 'f12b', 'subscript': 'f12c', 'eraser': 'f12d', 'puzzle-piece': 'f12e', 'microphone': 'f130', 'microphone-slash': 'f131', 'shield': 'f132', 'calendar-o': 'f133', 'fire-extinguisher': 'f134', 'rocket': 'f135', 'maxcdn': 'f136', 'chevron-circle-left': 'f137', 'chevron-circle-right': 'f138', 'chevron-circle-up': 'f139', 'chevron-circle-down': 'f13a', 'html5': 'f13b', 'css3': 'f13c', 'anchor': 'f13d', 'unlock-alt': 'f13e', 'bullseye': 'f140', 'ellipsis-h': 'f141', 'ellipsis-v': 'f142', 'rss-square': 'f143', 'play-circle': 'f144', 'ticket': 'f145', 'minus-square': 'f146', 'minus-square-o': 'f147', 'level-up': 'f148', 'level-down': 'f149', 'check-square': 'f14a', 'pencil-square': 'f14b', 'external-link-square': 'f14c', 'share-square': 'f14d', 'compass': 'f14e', 'toggle-down,caret-square-o-down': 'f150', 'toggle-up,caret-square-o-up': 'f151', 'toggle-right,caret-square-o-right': 'f152', 'euro,eur': 'f153', 'gbp': 'f154', 'dollar,usd': 'f155', 'rupee,inr': 'f156', 'cny,rmb,yen,jpy': 'f157', 'ruble,rouble,rub': 'f158', 'won,krw': 'f159', 'bitcoin,btc': 'f15a', 'file': 'f15b', 'file-text': 'f15c', 'sort-alpha-asc': 'f15d', 'sort-alpha-desc': 'f15e', 'sort-amount-asc': 'f160', 'sort-amount-desc': 'f161', 'sort-numeric-asc': 'f162', 'sort-numeric-desc': 'f163', 'thumbs-up': 'f164', 'thumbs-down': 'f165', 'youtube-square': 'f166', 'youtube': 'f167', 'xing': 'f168', 'xing-square': 'f169', 'youtube-play': 'f16a', 'dropbox': 'f16b', 'stack-overflow': 'f16c', 'instagram': 'f16d', 'flickr': 'f16e', 'adn': 'f170', 'bitbucket': 'f171', 'bitbucket-square': 'f172', 'tumblr': 'f173', 'tumblr-square': 'f174', 'long-arrow-down': 'f175', 'long-arrow-up': 'f176', 'long-arrow-left': 'f177', 'long-arrow-right': 'f178', 'apple': 'f179', 'windows': 'f17a', 'android': 'f17b', 'linux': 'f17c', 'dribbble': 'f17d', 'skype': 'f17e', 'foursquare': 'f180', 'trello': 'f181', 'female': 'f182', 'male': 'f183', 'gittip,gratipay': 'f184', 'sun-o': 'f185', 'moon-o': 'f186', 'archive': 'f187', 'bug': 'f188', 'vk': 'f189', 'weibo': 'f18a', 'renren': 'f18b', 'pagelines': 'f18c', 'stack-exchange': 'f18d', 'arrow-circle-o-right': 'f18e', 'arrow-circle-o-left': 'f190', 'toggle-left,caret-square-o-left': 'f191', 'dot-circle-o': 'f192', 'wheelchair': 'f193', 'vimeo-square': 'f194', 'turkish-lira,try': 'f195', 'plus-square-o': 'f196', 'space-shuttle': 'f197', 'slack': 'f198', 'envelope-square': 'f199', 'wordpress': 'f19a', 'openid': 'f19b', 'institution,bank,university': 'f19c', 'mortar-board,graduation-cap': 'f19d', 'yahoo': 'f19e', 'google': 'f1a0', 'reddit': 'f1a1', 'reddit-square': 'f1a2', 'stumbleupon-circle': 'f1a3', 'stumbleupon': 'f1a4', 'delicious': 'f1a5', 'digg': 'f1a6', 'pied-piper-pp': 'f1a7', 'pied-piper-alt': 'f1a8', 'drupal': 'f1a9', 'joomla': 'f1aa', 'language': 'f1ab', 'fax': 'f1ac', 'building': 'f1ad', 'child': 'f1ae', 'paw': 'f1b0', 'spoon': 'f1b1', 'cube': 'f1b2', 'cubes': 'f1b3', 'behance': 'f1b4', 'behance-square': 'f1b5', 'steam': 'f1b6', 'steam-square': 'f1b7', 'recycle': 'f1b8', 'automobile,car': 'f1b9', 'cab,taxi': 'f1ba', 'tree': 'f1bb', 'spotify': 'f1bc', 'deviantart': 'f1bd', 'soundcloud': 'f1be', 'database': 'f1c0', 'file-pdf-o': 'f1c1', 'file-word-o': 'f1c2', 'file-excel-o': 'f1c3', 'file-powerpoint-o': 'f1c4', 'file-photo-o,file-picture-o,file-image-o': 'f1c5', 'file-zip-o,file-archive-o': 'f1c6', 'file-sound-o,file-audio-o': 'f1c7', 'file-movie-o,file-video-o': 'f1c8', 'file-code-o': 'f1c9', 'vine': 'f1ca', 'codepen': 'f1cb', 'jsfiddle': 'f1cc', 'life-bouy,life-buoy,life-saver,support,life-ring': 'f1cd', 'circle-o-notch': 'f1ce', 'ra,resistance,rebel': 'f1d0', 'ge,empire': 'f1d1', 'git-square': 'f1d2', 'git': 'f1d3', 'y-combinator-square,yc-square,hacker-news': 'f1d4', 'tencent-weibo': 'f1d5', 'qq': 'f1d6', 'wechat,weixin': 'f1d7', 'send,paper-plane': 'f1d8', 'send-o,paper-plane-o': 'f1d9', 'history': 'f1da', 'circle-thin': 'f1db', 'header': 'f1dc', 'paragraph': 'f1dd', 'sliders': 'f1de', 'share-alt': 'f1e0', 'share-alt-square': 'f1e1', 'bomb': 'f1e2', 'soccer-ball-o,futbol-o': 'f1e3', 'tty': 'f1e4', 'binoculars': 'f1e5', 'plug': 'f1e6', 'slideshare': 'f1e7', 'twitch': 'f1e8', 'yelp': 'f1e9', 'newspaper-o': 'f1ea', 'wifi': 'f1eb', 'calculator': 'f1ec', 'paypal': 'f1ed', 'google-wallet': 'f1ee', 'cc-visa': 'f1f0', 'cc-mastercard': 'f1f1', 'cc-discover': 'f1f2', 'cc-amex': 'f1f3', 'cc-paypal': 'f1f4', 'cc-stripe': 'f1f5', 'bell-slash': 'f1f6', 'bell-slash-o': 'f1f7', 'trash': 'f1f8', 'copyright': 'f1f9', 'at': 'f1fa', 'eyedropper': 'f1fb', 'paint-brush': 'f1fc', 'birthday-cake': 'f1fd', 'area-chart': 'f1fe', 'pie-chart': 'f200', 'line-chart': 'f201', 'lastfm': 'f202', 'lastfm-square': 'f203', 'toggle-off': 'f204', 'toggle-on': 'f205', 'bicycle': 'f206', 'bus': 'f207', 'ioxhost': 'f208', 'angellist': 'f209', 'cc': 'f20a', 'shekel,sheqel,ils': 'f20b', 'meanpath': 'f20c', 'buysellads': 'f20d', 'connectdevelop': 'f20e', 'dashcube': 'f210', 'forumbee': 'f211', 'leanpub': 'f212', 'sellsy': 'f213', 'shirtsinbulk': 'f214', 'simplybuilt': 'f215', 'skyatlas': 'f216', 'cart-plus': 'f217', 'cart-arrow-down': 'f218', 'diamond': 'f219', 'ship': 'f21a', 'user-secret': 'f21b', 'motorcycle': 'f21c', 'street-view': 'f21d', 'heartbeat': 'f21e', 'venus': 'f221', 'mars': 'f222', 'mercury': 'f223', 'intersex,transgender': 'f224', 'transgender-alt': 'f225', 'venus-double': 'f226', 'mars-double': 'f227', 'venus-mars': 'f228', 'mars-stroke': 'f229', 'mars-stroke-v': 'f22a', 'mars-stroke-h': 'f22b', 'neuter': 'f22c', 'genderless': 'f22d', 'facebook-official': 'f230', 'pinterest-p': 'f231', 'whatsapp': 'f232', 'server': 'f233', 'user-plus': 'f234', 'user-times': 'f235', 'hotel,bed': 'f236', 'viacoin': 'f237', 'train': 'f238', 'subway': 'f239', 'medium': 'f23a', 'yc,y-combinator': 'f23b', 'optin-monster': 'f23c', 'opencart': 'f23d', 'expeditedssl': 'f23e', 'battery-4,battery-full': 'f240', 'battery-3,battery-three-quarters': 'f241', 'battery-2,battery-half': 'f242', 'battery-1,battery-quarter': 'f243', 'battery-0,battery-empty': 'f244', 'mouse-pointer': 'f245', 'i-cursor': 'f246', 'object-group': 'f247', 'object-ungroup': 'f248', 'sticky-note': 'f249', 'sticky-note-o': 'f24a', 'cc-jcb': 'f24b', 'cc-diners-club': 'f24c', 'clone': 'f24d', 'balance-scale': 'f24e', 'hourglass-o': 'f250', 'hourglass-1,hourglass-start': 'f251', 'hourglass-2,hourglass-half': 'f252', 'hourglass-3,hourglass-end': 'f253', 'hourglass': 'f254', 'hand-grab-o,hand-rock-o': 'f255', 'hand-stop-o,hand-paper-o': 'f256', 'hand-scissors-o': 'f257', 'hand-lizard-o': 'f258', 'hand-spock-o': 'f259', 'hand-pointer-o': 'f25a', 'hand-peace-o': 'f25b', 'trademark': 'f25c', 'registered': 'f25d', 'creative-commons': 'f25e', 'gg': 'f260', 'gg-circle': 'f261', 'tripadvisor': 'f262', 'odnoklassniki': 'f263', 'odnoklassniki-square': 'f264', 'get-pocket': 'f265', 'wikipedia-w': 'f266', 'safari': 'f267', 'chrome': 'f268', 'firefox': 'f269', 'opera': 'f26a', 'internet-explorer': 'f26b', 'tv,television': 'f26c', 'contao': 'f26d', '500px': 'f26e', 'amazon': 'f270', 'calendar-plus-o': 'f271', 'calendar-minus-o': 'f272', 'calendar-times-o': 'f273', 'calendar-check-o': 'f274', 'industry': 'f275', 'map-pin': 'f276', 'map-signs': 'f277', 'map-o': 'f278', 'map': 'f279', 'commenting': 'f27a', 'commenting-o': 'f27b', 'houzz': 'f27c', 'vimeo': 'f27d', 'black-tie': 'f27e', 'fonticons': 'f280', 'reddit-alien': 'f281', 'edge': 'f282', 'credit-card-alt': 'f283', 'codiepie': 'f284', 'modx': 'f285', 'fort-awesome': 'f286', 'usb': 'f287', 'product-hunt': 'f288', 'mixcloud': 'f289', 'scribd': 'f28a', 'pause-circle': 'f28b', 'pause-circle-o': 'f28c', 'stop-circle': 'f28d', 'stop-circle-o': 'f28e', 'shopping-bag': 'f290', 'shopping-basket': 'f291', 'hashtag': 'f292', 'bluetooth': 'f293', 'bluetooth-b': 'f294', 'percent': 'f295', 'gitlab': 'f296', 'wpbeginner': 'f297', 'wpforms': 'f298', 'envira': 'f299', 'universal-access': 'f29a', 'wheelchair-alt': 'f29b', 'question-circle-o': 'f29c', 'blind': 'f29d', 'audio-description': 'f29e', 'volume-control-phone': 'f2a0', 'braille': 'f2a1', 'assistive-listening-systems': 'f2a2', 'asl-interpreting,american-sign-language-interpreting': 'f2a3', 'deafness,hard-of-hearing,deaf': 'f2a4', 'glide': 'f2a5', 'glide-g': 'f2a6', 'signing,sign-language': 'f2a7', 'low-vision': 'f2a8', 'viadeo': 'f2a9', 'viadeo-square': 'f2aa', 'snapchat': 'f2ab', 'snapchat-ghost': 'f2ac', 'snapchat-square': 'f2ad', 'pied-piper': 'f2ae', 'first-order': 'f2b0', 'yoast': 'f2b1', 'themeisle': 'f2b2', 'google-plus-circle,google-plus-official': 'f2b3', 'fa,font-awesome': 'f2b4'}\n  }\n\n  function icon (d) {\n    var code\n\n    if (options.iconMap && options.showIcons && options.icons) {\n      if (options.icons[d.labels[0]] && options.iconMap[options.icons[d.labels[0]]]) {\n        code = options.iconMap[options.icons[d.labels[0]]]\n      } else if (options.iconMap[d.labels[0]]) {\n        code = options.iconMap[d.labels[0]]\n      } else if (options.icons[d.labels[0]]) {\n        code = options.icons[d.labels[0]]\n      }\n    }\n\n    return code\n  }\n\n  function image (d) {\n    var i, imagesForLabel, img, imgLevel, label, labelPropertyValue, property, value\n\n    if (options.images) {\n      imagesForLabel = options.imageMap[d.labels[0]]\n\n      if (imagesForLabel) {\n        imgLevel = 0\n\n        for (i = 0; i < imagesForLabel.length; i++) {\n          labelPropertyValue = imagesForLabel[i].split('|')\n\n          switch (labelPropertyValue.length) {\n            case 3:\n              value = labelPropertyValue[2]\n              /* falls through */\n            case 2:\n              property = labelPropertyValue[1]\n              /* falls through */\n            case 1:\n              label = labelPropertyValue[0]\n          }\n\n          if (d.labels[0] === label &&\n                        (!property || d.properties[property] !== undefined) &&\n                        (!value || d.properties[property] === value)) {\n            if (labelPropertyValue.length > imgLevel) {\n              img = options.images[imagesForLabel[i]]\n              imgLevel = labelPropertyValue.length\n            }\n          }\n        }\n      }\n    }\n\n    return img\n  }\n\n  function init (_selector, _options) {\n    initIconMap()\n\n    merge(options, _options)\n\n    if (options.icons) {\n      options.showIcons = true\n    }\n\n    if (!options.minCollision) {\n      options.minCollision = options.nodeRadius*2\n    }\n\n    initImageMap()\n\n    selector = _selector\n\n    container = d3.select(selector)\n\n    container.attr('class', 'neo4jd3')\n      .html('')\n\n    if (options.infoPanel) {\n      info = appendInfoPanel(container)\n    }\n\n    appendGraph(container)\n\n    simulation = initSimulation()\n\n    if (options.neo4jData) {\n      loadNeo4jData(options.neo4jData)\n    } else if (options.neo4jDataUrl) {\n      loadNeo4jDataFromUrl(options.neo4jDataUrl)\n    } else {\n      console.error('Error: both neo4jData and neo4jDataUrl are empty!')\n    }\n  }\n\n  function initIconMap () {\n    Object.keys(options.iconMap).forEach(function (key, index) {\n      var keys = key.split(','),\n        value = options.iconMap[key]\n\n      keys.forEach(function (key) {\n        options.iconMap[key] = value\n      })\n    })\n  }\n\n  function initImageMap () {\n    var key, keys, selector\n\n    for (key in options.images) {\n      if (options.images.hasOwnProperty(key)) {\n        keys = key.split('|')\n\n        if (!options.imageMap[keys[0]]) {\n          options.imageMap[keys[0]] = [key]\n        } else {\n          options.imageMap[keys[0]].push(key)\n        }\n      }\n    }\n  }\n\n  function initSimulation () {\n    var simulation = d3.forceSimulation()\n    //                           .velocityDecay(0.8)\n    //                           .force('x', d3.force().strength(0.002))\n    //                           .force('y', d3.force().strength(0.002))\n      .force('collide', d3.forceCollide().radius(function (d) {\n        return options.minCollision\n      }).iterations(2))\n      .force('charge', d3.forceManyBody().strength(-100))\n      .force('link', d3.forceLink().id(function (d) {\n        return d.id\n      }).distance(0).strength(.8))\n      .force('center', d3.forceCenter(svg.node().parentElement.parentElement.clientWidth / 2, svg.node().parentElement.parentElement.clientHeight / 2))\n      .on('tick', function () {\n        tick()\n      })\n      .on('end', function () {\n        if (options.zoomFit && !justLoaded) {\n          justLoaded = true\n          zoomFit(2)\n        }\n      })\n\n    return simulation\n  }\n\n  function loadNeo4jData () {\n    nodes = []\n    relationships = []\n\n    updateWithNeo4jData(options.neo4jData)\n  }\n\n  function loadNeo4jDataFromUrl (neo4jDataUrl) {\n    nodes = []\n    relationships = []\n\n    d3.json(neo4jDataUrl, function (error, data) {\n      if (error) {\n        throw error\n      }\n\n      updateWithNeo4jData(data)\n    })\n  }\n\n  function merge (target, source) {\n    Object.keys(source).forEach(function (property) {\n      target[property] = source[property]\n    })\n  }\n\n  function neo4jDataToD3Data (data) {\n    var graph = {\n      nodes: [],\n      relationships: []\n    }\n\n    data.results.forEach(function (result) {\n      result.data.forEach(function (data) {\n        data.graph.nodes.forEach(function (node) {\n          if (!contains(graph.nodes, node.id)) {\n            graph.nodes.push(node)\n          }\n        })\n\n        data.graph.relationships.forEach(function (relationship) {\n          relationship.source = relationship.startNode\n          relationship.target = relationship.endNode\n          graph.relationships.push(relationship)\n        })\n\n        data.graph.relationships.sort(function (a, b) {\n          if (a.source > b.source) {\n            return 1\n          } else if (a.source < b.source) {\n            return -1\n          } else {\n            if (a.target > b.target) {\n              return 1\n            }\n\n            if (a.target < b.target) {\n              return -1\n            } else {\n              return 0\n            }\n          }\n        })\n\n        for (var i = 0; i < data.graph.relationships.length; i++) {\n          if (i !== 0 && data.graph.relationships[i].source === data.graph.relationships[i - 1].source && data.graph.relationships[i].target === data.graph.relationships[i - 1].target) {\n            data.graph.relationships[i].linknum = data.graph.relationships[i - 1].linknum + 1\n          } else {\n            data.graph.relationships[i].linknum = 1\n          }\n        }\n      })\n    })\n\n    return graph\n  }\n\n  function randomD3Data (d, maxNodesToGenerate) {\n    var data = {\n        nodes: [],\n        relationships: []\n      },\n      i,\n      label,\n      node,\n      numNodes = (maxNodesToGenerate * Math.random() << 0) + 1,\n      relationship,\n      s = size()\n\n    for (i = 0; i < numNodes; i++) {\n      label = randomLabel()\n\n      node = {\n        id: s.nodes + 1 + i,\n        labels: [label],\n        properties: {\n          random: label\n        },\n        x: d.x,\n        y: d.y\n      }\n\n      data.nodes[data.nodes.length] = node\n\n      relationship = {\n        id: s.relationships + 1 + i,\n        type: label.toUpperCase(),\n        startNode: d.id,\n        endNode: s.nodes + 1 + i,\n        properties: {\n          from: Date.now()\n        },\n        source: d.id,\n        target: s.nodes + 1 + i,\n        linknum: s.relationships + 1 + i\n      }\n\n      data.relationships[data.relationships.length] = relationship\n    }\n\n    return data\n  }\n\n  function randomLabel () {\n    var icons = Object.keys(options.iconMap)\n    return icons[icons.length * Math.random() << 0]\n  }\n\n  function rotate (cx, cy, x, y, angle) {\n    var radians = (Math.PI / 180) * angle,\n      cos = Math.cos(radians),\n      sin = Math.sin(radians),\n      nx = (cos * (x - cx)) + (sin * (y - cy)) + cx,\n      ny = (cos * (y - cy)) - (sin * (x - cx)) + cy\n\n    return { x: nx, y: ny }\n  }\n\n  function rotatePoint (c, p, angle) {\n    return rotate(c.x, c.y, p.x, p.y, angle)\n  }\n\n  function rotation (source, target) {\n    return Math.atan2(target.y - source.y, target.x - source.x) * 180 / Math.PI\n  }\n\n  function size () {\n    return {\n      nodes: nodes.length,\n      relationships: relationships.length\n    }\n  }\n  /*\n    function smoothTransform(elem, translate, scale) {\n        var animationMilliseconds = 5000,\n            timeoutMilliseconds = 50,\n            steps = parseInt(animationMilliseconds / timeoutMilliseconds);\n\n        setTimeout(function() {\n            smoothTransformStep(elem, translate, scale, timeoutMilliseconds, 1, steps);\n        }, timeoutMilliseconds);\n    }\n\n    function smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step, steps) {\n        var progress = step / steps;\n\n        elem.attr('transform', 'translate(' + (translate[0] * progress) + ', ' + (translate[1] * progress) + ') scale(' + (scale * progress) + ')');\n\n        if (step < steps) {\n            setTimeout(function() {\n                smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step + 1, steps);\n            }, timeoutMilliseconds);\n        }\n    }\n*/\n  function stickNode (d) {\n    d.fx = d3.event.x\n    d.fy = d3.event.y\n  }\n\n  function tick () {\n    tickNodes()\n    tickRelationships()\n  }\n\n  function tickNodes () {\n    if (node) {\n      node.attr('transform', function (d) {\n        return 'translate(' + d.x + ', ' + d.y + ')'\n      })\n    }\n  }\n\n  function tickRelationships () {\n    if (relationship) {\n      relationship.attr('transform', function (d) {\n        var angle = rotation(d.source, d.target)\n        return 'translate(' + d.source.x + ', ' + d.source.y + ') rotate(' + angle + ')'\n      })\n\n      tickRelationshipsTexts()\n      tickRelationshipsOutlines()\n      tickRelationshipsOverlays()\n    }\n  }\n\n  function tickRelationshipsOutlines () {\n    relationship.each(function (relationship) {\n      var rel = d3.select(this),\n        outline = rel.select('.outline'),\n        text = rel.select('.text'),\n        bbox = text.node().getBBox(),\n        padding = 3\n\n      outline.attr('d', function (d) {\n        var center = { x: 0, y: 0 },\n          angle = rotation(d.source, d.target),\n          textBoundingBox = text.node().getBBox(),\n          textPadding = 5,\n          u = unitaryVector(d.source, d.target),\n          textMargin = { x: (d.target.x - d.source.x - (textBoundingBox.width + textPadding) * u.x) * 0.5, y: (d.target.y - d.source.y - (textBoundingBox.width + textPadding) * u.y) * 0.5 },\n          n = unitaryNormalVector(d.source, d.target),\n          rotatedPointA1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x - n.x, y: 0 + (options.nodeRadius + 1) * u.y - n.y }, angle),\n          rotatedPointB1 = rotatePoint(center, { x: textMargin.x - n.x, y: textMargin.y - n.y }, angle),\n          rotatedPointC1 = rotatePoint(center, { x: textMargin.x, y: textMargin.y }, angle),\n          rotatedPointD1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x, y: 0 + (options.nodeRadius + 1) * u.y }, angle),\n          rotatedPointA2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x - n.x, y: d.target.y - d.source.y - textMargin.y - n.y }, angle),\n          rotatedPointB2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y - u.y * options.arrowSize }, angle),\n          rotatedPointC2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x + (n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y + (n.y - u.y) * options.arrowSize }, angle),\n          rotatedPointD2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y }, angle),\n          rotatedPointE2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x + (-n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y + (-n.y - u.y) * options.arrowSize }, angle),\n          rotatedPointF2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - u.y * options.arrowSize }, angle),\n          rotatedPointG2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x, y: d.target.y - d.source.y - textMargin.y }, angle)\n\n        return 'M ' + rotatedPointA1.x + ' ' + rotatedPointA1.y +\n                       ' L ' + rotatedPointB1.x + ' ' + rotatedPointB1.y +\n                       ' L ' + rotatedPointC1.x + ' ' + rotatedPointC1.y +\n                       ' L ' + rotatedPointD1.x + ' ' + rotatedPointD1.y +\n                       ' Z M ' + rotatedPointA2.x + ' ' + rotatedPointA2.y +\n                       ' L ' + rotatedPointB2.x + ' ' + rotatedPointB2.y +\n                       ' L ' + rotatedPointC2.x + ' ' + rotatedPointC2.y +\n                       ' L ' + rotatedPointD2.x + ' ' + rotatedPointD2.y +\n                       ' L ' + rotatedPointE2.x + ' ' + rotatedPointE2.y +\n                       ' L ' + rotatedPointF2.x + ' ' + rotatedPointF2.y +\n                       ' L ' + rotatedPointG2.x + ' ' + rotatedPointG2.y +\n                       ' Z'\n      })\n    })\n  }\n\n  function tickRelationshipsOverlays () {\n    relationshipOverlay.attr('d', function (d) {\n      var center = { x: 0, y: 0 },\n        angle = rotation(d.source, d.target),\n        n1 = unitaryNormalVector(d.source, d.target),\n        n = unitaryNormalVector(d.source, d.target, 50),\n        rotatedPointA = rotatePoint(center, { x: 0 - n.x, y: 0 - n.y }, angle),\n        rotatedPointB = rotatePoint(center, { x: d.target.x - d.source.x - n.x, y: d.target.y - d.source.y - n.y }, angle),\n        rotatedPointC = rotatePoint(center, { x: d.target.x - d.source.x + n.x - n1.x, y: d.target.y - d.source.y + n.y - n1.y }, angle),\n        rotatedPointD = rotatePoint(center, { x: 0 + n.x - n1.x, y: 0 + n.y - n1.y }, angle)\n\n      return 'M ' + rotatedPointA.x + ' ' + rotatedPointA.y +\n                   ' L ' + rotatedPointB.x + ' ' + rotatedPointB.y +\n                   ' L ' + rotatedPointC.x + ' ' + rotatedPointC.y +\n                   ' L ' + rotatedPointD.x + ' ' + rotatedPointD.y +\n                   ' Z'\n    })\n  }\n\n  function tickRelationshipsTexts () {\n    relationshipText.attr('transform', function (d) {\n      var angle = (rotation(d.source, d.target) + 360) % 360,\n        mirror = angle > 90 && angle < 270,\n        center = { x: 0, y: 0 },\n        n = unitaryNormalVector(d.source, d.target),\n        nWeight = mirror ? 2 : -3,\n        point = { x: (d.target.x - d.source.x) * 0.5 + n.x * nWeight, y: (d.target.y - d.source.y) * 0.5 + n.y * nWeight },\n        rotatedPoint = rotatePoint(center, point, angle)\n      let translate_res = 'translate(' + rotatedPoint.x + ', ' + rotatedPoint.y + ')'\n      if (angle > 90 && angle <= 279){\n        translate_res += ' rotate(180)'\n      }\n      return translate_res\n    })\n  }\n\n  function toString (d) {\n    var s = d.labels ? d.labels[0] : d.type\n\n    s += ' (<id>: ' + d.id\n\n    Object.keys(d.properties).forEach(function (property) {\n      s += ', ' + property + ': ' + JSON.stringify(d.properties[property])\n    })\n\n    s += ')'\n\n    return s\n  }\n\n  function unitaryNormalVector (source, target, newLength) {\n    var center = { x: 0, y: 0 },\n      vector = unitaryVector(source, target, newLength)\n\n    return rotatePoint(center, vector, 90)\n  }\n\n  function unitaryVector (source, target, newLength) {\n    var length = Math.sqrt(Math.pow(target.x - source.x, 2) + Math.pow(target.y - source.y, 2)) / Math.sqrt(newLength || 1)\n\n    return {\n      x: (target.x - source.x) / length,\n      y: (target.y - source.y) / length\n    }\n  }\n\n  function updateWithD3Data (d3Data) {\n    updateNodesAndRelationships(d3Data.nodes, d3Data.relationships)\n  }\n\n  function updateWithNeo4jData (neo4jData) {\n    var d3Data = neo4jDataToD3Data(neo4jData)\n    updateWithD3Data(d3Data)\n  }\n\n  function updateInfo (d) {\n    clearInfo()\n\n    if (d.labels) {\n      appendInfoElementClass('class', d.labels[0])\n    } else {\n      appendInfoElementRelationship('class', d.type)\n    }\n\n    appendInfoElementProperty('property', '&lt;id&gt;', d.id)\n\n    Object.keys(d.properties).forEach(function (property) {\n      appendInfoElementProperty('property', property, JSON.stringify(d.properties[property]))\n    })\n  }\n\n  /**\n   * Push arr2 to arr2 avoid duplicate of id\n   * @param {*} arr1 \n   * @param {*} arr2 \n   */\n  function arrayPush(arr1, arr2){\n    let visited = {}\n    let ids = arr1.map(d => {\n      visited[d.id] = false  \n      return d.id\n    })\n    \n    for(let i = 0; i < arr2.length;i++){\n      const tmpId = arr2[i].id\n      if(!ids.includes(tmpId)){\n        arr1.push(arr2[i])\n        ids.push(tmpId)\n      }else{\n        visited[tmpId] = true\n      }\n    }\n\n    // remove non-visted values\n    const keys = Object.keys(visited)\n    for (let j = 0; j < keys.length; j++) {\n      let removeId = keys[j]\n      if(visited[removeId] == false){\n        for (let k = 0; k < arr1.length; k++) {\n          if(arr1[k].id == removeId){\n            arr1.splice(k, 1)\n            break\n          }\n        }\n      }\n    }\n  }\n\n  function updateNodes (n) {\n    // Array.prototype.push.apply(nodes, n)\n    arrayPush(nodes, n)\n    node = svgNodes.selectAll('.node')\n      .data(nodes, function(d){return d.id})\n      // .data(nodeIds)\n    var nodeEnter = appendNodeToGraph()\n    node = nodeEnter.merge(node)\n  }\n\n  function updateNodesAndRelationships (n, r) {\n    updateRelationships(r)\n    updateNodes(n)\n\n    simulation.nodes(nodes)\n    simulation.force('link').links(relationships)\n  }\n\n  function updateRelationships (r) {\n    // Array.prototype.push.apply(relationships, r)\n    arrayPush(relationships, r)\n    relationship = svgRelationships.selectAll('.relationship')\n      .data(relationships, function (d) { return d.id })\n\n    var relationshipEnter = appendRelationshipToGraph()\n\n    relationship = relationshipEnter.relationship.merge(relationship)\n\n    relationshipOutline = svg.selectAll('.relationship .outline')\n    relationshipOutline = relationshipEnter.outline.merge(relationshipOutline)\n\n    relationshipOverlay = svg.selectAll('.relationship .overlay')\n    relationshipOverlay = relationshipEnter.overlay.merge(relationshipOverlay)\n\n    relationshipText = svg.selectAll('.relationship .text')\n    relationshipText = relationshipEnter.text.merge(relationshipText)\n  }\n\n  function version () {\n    return VERSION\n  }\n\n  function zoomFit (transitionDuration) {\n    var bounds = svg.node().getBBox(),\n      parent = svg.node().parentElement.parentElement,\n      fullWidth = parent.clientWidth,\n      fullHeight = parent.clientHeight,\n      width = bounds.width,\n      height = bounds.height,\n      midX = bounds.x + width / 2,\n      midY = bounds.y + height / 2\n\n    if (width === 0 || height === 0) {\n      return // nothing to fit\n    }\n    svgScale = 0.85 / Math.max(width / fullWidth, height / fullHeight)\n    svgTranslate = [fullWidth / 2 - svgScale * midX, fullHeight / 2 - svgScale * midY]\n\n    svg.attr('transform', 'translate(' + svgTranslate[0] + ', ' + svgTranslate[1] + ') scale(' + svgScale + ')')\n    //        smoothTransform(svgTranslate, svgScale);\n  }\n\n  init(_selector, _options)\n  return {\n    appendRandomDataToNode: appendRandomDataToNode,\n    neo4jDataToD3Data: neo4jDataToD3Data,\n    randomD3Data: randomD3Data,\n    size: size,\n    updateWithD3Data: updateWithD3Data,\n    updateWithNeo4jData: updateWithNeo4jData,\n    version: version\n  }\n}\n\nexport default Neo4jD3\n"]}]}