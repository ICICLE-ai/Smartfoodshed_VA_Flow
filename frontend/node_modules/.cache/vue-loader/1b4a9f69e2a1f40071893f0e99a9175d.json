{"remainingRequest":"/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/src/components/InoutputBtns.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/src/components/InoutputBtns.vue","mtime":1644041415375},{"path":"/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/node_modules/cache-loader/dist/cjs.js","mtime":1644041617264},{"path":"/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/node_modules/babel-loader/lib/index.js","mtime":1644041617580},{"path":"/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/node_modules/cache-loader/dist/cjs.js","mtime":1644041617264},{"path":"/Users/yameitu/Documents/Yamei/Research/ICIRCLE/flowisallyouneed/node_modules/vue-loader/lib/index.js","mtime":1644041617678}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJwppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwoKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWwogICAgJ3Jlc2l6aW5nU3RhdHVzJywgCiAgICAnd2lkdGgnLCAKICAgICdoZWlnaHQnLCAKICAgICdtYXJnaW5MZWZ0JywgCiAgICAnbWFyZ2luVG9wJywKICAgICdob3ZlcicsCiAgICAnY29tcG9uZW50SWQnLAogIF0sCiAgZGF0YSgpewogICAgcmV0dXJuIHsKCiAgICAgIHJpZ2h0QnRuOiB0cnVlLAogICAgICB0b3BCdG46IGZhbHNlLAogICAgICBsZWZ0QnRuOiBmYWxzZSwgCiAgICAgIGxpbmVLZWVwOiBmYWxzZSwKICAgICAgbGluZVBhdGg6IHVuZGVmaW5lZCwgCiAgICAgIHh5MDogdW5kZWZpbmVkLCAKICAgICAga2VlcDogZmFsc2UsCiAgICAgIHJpZ2h0TGluazogW10sIAogICAgICB0b3BMaW5rOiBbXSwKICAgICAgbGVmdExpbms6IFtdLAogICAgICBjYW52YXM6IGQzLnNlbGVjdCgnLnN2Zy1jYW52YXMnKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkTGluayhlKXsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUxpbmtEcmF3aW5nU3RhdHVzJywgdHJ1ZSk7CiAgICAgIGNvbnN0IHZtID0gdGhpczsKICAgICAgbGV0IHh5MDsgCiAgICAgIGNvbnN0IGNhbnZhcyA9IGQzLnNlbGVjdCgnLnN2Zy1jYW52YXMnKTsKICAgICAgY29uc3QgbWFya2VyQm94V2lkdGggPSAyMDsgCiAgICAgIGNvbnN0IG1hcmtlckJveEhlaWdodCA9IDE1OwogICAgICBjb25zdCByZWZYID0gbWFya2VyQm94V2lkdGggLyAyOwogICAgICBjb25zdCByZWZZID0gbWFya2VyQm94SGVpZ2h0IC8gMjsgICAgICAKICAgICAgY29uc3QgYXJyb3dQb2ludHMgPSBbWzAsIDBdLCBbMCwgMTVdLCBbMjAsIDcuNV1dOwoKICAgICAgY2FudmFzLmFwcGVuZCgnZGVmcycpCiAgICAgICAgLmFwcGVuZCgnbWFya2VyJykKICAgICAgICAuYXR0cignaWQnLCAnYXJyb3cnKQogICAgICAgIC5hdHRyKCd2aWV3Qm94JywgWzAsIDAsIG1hcmtlckJveFdpZHRoLCBtYXJrZXJCb3hIZWlnaHRdKQogICAgICAgIC5hdHRyKCdyZWZYJywgcmVmWCkKICAgICAgICAuYXR0cigncmVmWScsIHJlZlkpCiAgICAgICAgLmF0dHIoJ21hcmtlcldpZHRoJywgbWFya2VyQm94V2lkdGgpCiAgICAgICAgLmF0dHIoJ21hcmtlckhlaWdodCcsIG1hcmtlckJveEhlaWdodCkKICAgICAgICAuYXR0cignb3JpZW50JywgJ2F1dG8tc3RhcnQtcmV2ZXJzZScpCiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjYpCiAgICAgICAgLmFwcGVuZCgncGF0aCcpCiAgICAgICAgLmF0dHIoJ2QnLCBkMy5saW5lKCkoYXJyb3dQb2ludHMpKQogICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKTsKICAgICAgCiAgICAgIHRoaXMua2VlcCA9IHRydWU7IAoKICAgICAgeHkwID0gdGhpcy5vbmNsaWNrUG9zUmlnaHQoKTsKICAgICAgCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRDdXJyZW50TGluaycsIHsKICAgICAgICBpZDogdGhpcy5jb21wb25lbnRJZCwKICAgICAgICBwb3M6IHh5MCwgCiAgICAgICAgaW5fb3V0OiAnc291cmNlJwogICAgICB9KQoKCgogICAgICBjb25zdCBsaW5lID0gZDMubGluZSgpCiAgICAgICAgICAgICAgICAgICAueChkPT5kWzBdKQogICAgICAgICAgICAgICAgICAgLnkoZD0+ZFsxXSkKICAgICAgCgogICAgICAvLyBjb25zdCBjbGFzc05hbWUgPSBgJHt0aGlzLmNvbXBvbmVudElkfS1vdXRsaW5rYDsKICAgICAgY29uc3QgY2xhc3NOYW1lID0gJ2RyYXdpbmcnOwogICAgICBsZXQgcGF0aEdyb3VwID0gY2FudmFzLnNlbGVjdEFsbChgLiR7Y2xhc3NOYW1lfWApLmRhdGEoWzBdKQogICAgICBsZXQgcGF0aEdyb3VwRW50ZXIgPSBwYXRoR3JvdXAuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKS5hdHRyKCdjbGFzcycsIGNsYXNzTmFtZSkKICAgICAgcGF0aEdyb3VwRW50ZXIubWVyZ2UocGF0aEdyb3VwKQogICAgICAgIC5hdHRyKCdkJywgbGluZShbeHkwLCB4eTBdKSkKICAgICAgICAuYXR0cignbWFya2VyLWVuZCcsICd1cmwoI2Fycm93KScpCiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpCiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKQogICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKDUsNSkpCiAgICAgIAogICAgCiAgICAgIGNhbnZhcy5jYWxsKGRyYXdMaW5lKTsKCiAgICAgIGZ1bmN0aW9uIGRyYXdMaW5lKGNhbnZhcyl7ICAgICAKICAgICAgICBjYW52YXMKICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHZtLmtlZXApewogICAgICAgICAgICAgIHBhdGhHcm91cEVudGVyLm1lcmdlKHBhdGhHcm91cCkKICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgbGluZShbeHkwLCBkMy5tb3VzZSh0aGlzKS5tYXAoeD0+eC0xKV0pKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgdm0ua2VlcCA9IGZhbHNlOwogICAgICAgICAgICBwYXRoR3JvdXBFbnRlci5tZXJnZShwYXRoR3JvdXApCiAgICAgICAgICAgICAgICAuYXR0cignZCcsIG51bGwpCiAgICAgICAgICB9KQogICAgICB9CgogICAgfSwKICAKICAgIAogICAgZmluaXNoTGluayhlKXsKICAgICAgY29uc29sZS5sb2coJ2ZpbmlzaCEhISEhIScpCiAgICAgIGlmKCF0aGlzLmRyYXdMaW5rIHx8ICF0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZSB8fCB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5pZCA9PT0gdGhpcy5jb21wb25lbnRJZCl7CiAgICAgICAgdGhpcy5maW5pc2hMaW5raW5nKCk7CiAgICAgICAgdGhpcy5jYW52YXMKICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgbnVsbCkKICAgICAgICAgIC5vbignbW91c2V1cCcsIG51bGwpCiAgICAgICAgY29uc29sZS5sb2coJ3NhbWUgc2hvdWxkIGVuZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IHh5MTsgCiAgICAgIGxldCB4eTA7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGQzLnNlbGVjdCgnLnN2Zy1jYW52YXMnKQoKICAgICAgeHkwID0gdGhpcy5jdXJyZW50TGluay5zb3VyY2UucG9zOwogICAgICB4eTEgPSB0aGlzLm9uY2xpY2tQb3MoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3MnKSkKCiAgICAgIAogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0Q3VycmVudExpbmsnLCB7CiAgICAgICAgaWQ6IHRoaXMuY29tcG9uZW50SWQsIAogICAgICAgIHBvczogeHkxLCAKICAgICAgICBpbl9vdXQ6ICd0YXJnZXQnCiAgICAgIH0pCiAgICAgIAogICAgICAKICAgICAgLy8gbGV0IGQgPSB0aGlzLmxpbmtEKGNhbnZhcywge3NvdXJjZTogeHkwLCB0YXJnZXQ6IHh5MX0sIHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkKydfJyt0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5pZCkgCiAgICAgIAogICAgICBsZXQgbGlua0QgPSB0aGlzLmxpbmtEKHtzb3VyY2U6IHh5MCwgdGFyZ2V0OiB4eTF9KTsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsaW5rL2FkZENvbXAnLCB7CiAgICAgICAgaWQ6IHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkKydfJyt0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5pZCwKICAgICAgICBzb3VyY2U6IHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkLCAKICAgICAgICBzb3VyY2VQb3M6IHRoaXMuY3VycmVudExpbmsuc291cmNlLnBvcywgCiAgICAgICAgc291cmNlQnRuOiAncmlnaHQtYnRuLWljb24nLAogICAgICAgIHRhcmdldDogdGhpcy5jdXJyZW50TGluay50YXJnZXQuaWQsIAogICAgICAgIHRhcmdldFBvczogdGhpcy5jdXJyZW50TGluay50YXJnZXQucG9zLCAKICAgICAgICB0YXJnZXRCdG46IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgncG9zJyksCiAgICAgICAgZDogbGlua0QKICAgICAgfSkKCgogICAgICBjb25zdCBzb3VyY2VUeXBlID0gdGhpcy5jdXJyZW50TGluay5zb3VyY2UuaWQuc3BsaXQoJy0nKVsxXTsKICAgICAgY29uc3QgdGFyZ2V0VHlwZSA9IHRoaXMuY3VycmVudExpbmsudGFyZ2V0LmlkLnNwbGl0KCctJylbMV07CiAgICAgIGNvbnNvbGUubG9nKCdzb3VyY2UgaXM6ICcrc291cmNlVHlwZSkKICAgICAgY29uc29sZS5sb2coJ3RhcmdldCBpczogJyt0YXJnZXRUeXBlKQoKICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goYCR7c291cmNlVHlwZX0vYWRkTGlua2AsIHsKICAgICAgLy8gICBpZDogdGhpcy5jdXJyZW50TGluay5zb3VyY2UuaWQrJ18nK3RoaXMuY3VycmVudExpbmsudGFyZ2V0LmlkLAogICAgICAvLyAgIHNvdXJjZTogdGhpcy5jdXJyZW50TGluay5zb3VyY2UuaWQsIAogICAgICAvLyAgIHNvdXJjZVBvczogdGhpcy5jdXJyZW50TGluay5zb3VyY2UucG9zLCAKICAgICAgLy8gICBzb3VyY2VCdG46ICdyaWdodC1idG4taWNvbicsCiAgICAgIC8vICAgdGFyZ2V0OiB0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5pZCwgCiAgICAgIC8vICAgdGFyZ2V0UG9zOiB0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5wb3MsIAogICAgICAvLyAgIHRhcmdldEJ0bjogZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3MnKSwKICAgICAgLy8gICBkOiBsaW5rRCwKICAgICAgLy8gICBzdGF0dXM6ICdzb3VyY2UnCiAgICAgIC8vIH0pCgogICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaChgJHt0YXJnZXRUeXBlfS9hZGRMaW5rYCwgewogICAgICAvLyAgIGlkOiB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5pZCsnXycrdGhpcy5jdXJyZW50TGluay50YXJnZXQuaWQsCiAgICAgIC8vICAgc291cmNlOiB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5pZCwgCiAgICAgIC8vICAgc291cmNlUG9zOiB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5wb3MsIAogICAgICAvLyAgIHNvdXJjZUJ0bjogJ3JpZ2h0LWJ0bi1pY29uJywKICAgICAgLy8gICB0YXJnZXQ6IHRoaXMuY3VycmVudExpbmsudGFyZ2V0LmlkLCAKICAgICAgLy8gICB0YXJnZXRQb3M6IHRoaXMuY3VycmVudExpbmsudGFyZ2V0LnBvcywgCiAgICAgIC8vICAgdGFyZ2V0QnRuOiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BvcycpLAogICAgICAvLyAgIGQ6IGxpbmtELAogICAgICAvLyAgIHN0YXR1czogJ3RhcmdldCcKICAgICAgLy8gfSkKICAgICAgLy8gcmVtb3ZlIHRoZSBjdXJyZW50TGlua2luZyBhbmQgZGlzcGF0Y2ggdGhlIHN0YXR1cyBpbiBzdG9yZQogICAgICB0aGlzLmZpbmlzaExpbmtpbmcoKTsKICAgICAKICAgIH0sCgogICAgZmluaXNoTGlua2luZygpewogICAgICBpZih0aGlzLmRyYXdMaW5rKXsKICAgICAgICAvLyBEcmF3IExpbmsgRmlyc3QgYW5kIHRoZW4gcmVtb3ZlIHRoZSBkcmF3aW5nIG9uZQogICAgICAgIHRoaXMuY2FudmFzLnNlbGVjdEFsbCgnLmRyYXdpbmcnKS5hdHRyKCdkJywgbnVsbCk7IAogICAgICAgIHRoaXMuY2FudmFzLm9uKCdtb3VzZW1vdmUnLCBudWxsKTsKICAgICAgICB0aGlzLmNhbnZhcy5vbignbW91c2V1cCcsIG51bGwpCiAgICAgICAgdGhpcy5rZWVwID0gZmFsc2U7CiAgICAgICAgLy8gRmluaXNoIGRyYXdpbmcgTGluawogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VMaW5rRHJhd2luZ1N0YXR1cycsIGZhbHNlKTsKICAgICAgfQogICAgfSwKCiAgICBsaW5rRChkYXRhKXsKICAgICAgY29uc3QgbGluZSA9IGQzLmxpbmtIb3Jpem9udGFsKCkKICAgICAgICAgICAgICAgICAgIC54KGQ9PmRbMF0pCiAgICAgICAgICAgICAgICAgICAueShkPT5kWzFdKQoKICAgICAgcmV0dXJuIGxpbmUoZGF0YSk7CiAgICAgIAogICAgfSwgCgogICAgLy8gSW5wdXQgdGhlIHBvc2l0aW9uIG9mIGEgYnV0dG9uIGFuZCBnZXQgaXMgY2VudHJhbCBwb3MgCiAgICBvbmNsaWNrUG9zKHBvcyl7CiAgICAgIGlmKHBvcy5pbmNsdWRlcygncmlnaHQnKSl7CiAgICAgICAgdGhpcy5yaWdodEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRoaXMub25jbGlja1Bvc1JpZ2h0KCkKICAgICAgfSBlbHNlIGlmKHBvcy5pbmNsdWRlcygndG9wJykpewogICAgICAgIHRoaXMudG9wQnRuID0gdHJ1ZQogICAgICAgIHJldHVybiB0aGlzLm9uY2xpY2tQb3NUb3AoKQogICAgICB9IGVsc2UgaWYocG9zLmluY2x1ZGVzKCdsZWZ0JykpewogICAgICAgIHRoaXMubGVmdEJ0biA9IHRydWUKICAgICAgICByZXR1cm4gdGhpcy5vbmNsaWNrUG9zTGVmdCgpCiAgICAgIH0KCiAgICB9LCAKICAgIG9uY2xpY2tQb3NSaWdodCgpewogICAgICBjb25zdCB4ID0gcGFyc2VJbnQodGhpcy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KHRoaXMud2lkdGgpICsgMTQ7IAogICAgICBjb25zdCB5ID0gcGFyc2VJbnQodGhpcy5tYXJnaW5Ub3ApICsgcGFyc2VJbnQodGhpcy5oZWlnaHQpIC8gMjsgCiAgICAgIHJldHVybiBbeCwgeV0KICAgIH0sCgogICAgb25jbGlja1Bvc1RvcCgpewogICAgICBjb25zdCB4ID0gcGFyc2VJbnQodGhpcy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KHRoaXMud2lkdGgvMik7IAogICAgICBjb25zdCB5ID0gcGFyc2VJbnQodGhpcy5tYXJnaW5Ub3ApIC0gMTQ7IAogICAgICByZXR1cm4gW3gsIHldCiAgICB9LAoKICAgIG9uY2xpY2tQb3NMZWZ0KCl7CiAgICAgIGNvbnN0IHggPSBwYXJzZUludCh0aGlzLm1hcmdpbkxlZnQpIC0gMTQ7IAogICAgICBjb25zdCB5ID0gcGFyc2VJbnQodGhpcy5tYXJnaW5Ub3ApICsgIHBhcnNlSW50KHRoaXMuaGVpZ2h0KSAvIDI7IAogICAgICByZXR1cm4gW3gsIHldCiAgICB9LAogICAgCiAgICB0ZW1wKCl7CiAgICAgIGNvbnN0IGNhcmRUeXBlID0gdGhpcy5jb21wb25lbnRJZC5zcGxpdCgnLScpWzFdOwogICAgICBjb25zb2xlLmxvZygnMTIzJykKICAgICAgY29uc29sZS5sb2coY2FyZFR5cGUpOwogICAgICBjb25zdCB0aGlzQ29tcCA9IHRoaXNbY2FyZFR5cGVdLmNhcmRzLmZpbHRlcihjYXJkID0+IGNhcmQuaWQgPT0gdGhpcy5jb21wb25lbnRJZClbMF0KICAgICAgY29uc29sZS5sb2codGhpc0NvbXApCiAgICAgIGNvbnNvbGUubG9nKHRoaXNDb21wLnNvdXJjZUxpbmspCiAgICAgIGNvbnNvbGUubG9nKHRoaXNDb21wLnRhcmdldExpbmspCiAgICAgIGlmKCF0aGlzQ29tcC5zb3VyY2VMaW5rICYmICF0aGlzQ29tcC50YXJnZXRMaW5rKXsKICAgICAgICBjb25zb2xlLmxvZygnbm8gbGluayBhdHRhY2hlZCcpCiAgICAgICAgcmV0dXJuIDsKICAgICAgfQogICAgICBpZih0aGlzQ29tcC5zb3VyY2VMaW5rKXsKICAgICAgICB0aGlzQ29tcC5zb3VyY2VMaW5rLmZvckVhY2gobGluayA9PiB7CiAgICAgICAgICBjb25zdCBuZXdYeTAgPSB0aGlzLm9uY2xpY2tQb3MobGluay5zb3VyY2VCdG4pOwogICAgICAgICAgbGluay5zb3VyY2VQb3MgPSBuZXdYeTAKICAgICAgICAgIGNvbnN0IHh5MSA9IGxpbmsudGFyZ2V0UG9zOwogICAgICAgICAgY29uc3QgbmV3RCA9IHRoaXMubGlua0QoewogICAgICAgICAgICBzb3VyY2U6IG5ld1h5MCwKICAgICAgICAgICAgdGFyZ2V0OiB4eTEKICAgICAgICAgIH0pIAogICAgICAgICAgbGluay5kID0gbmV3RDsKICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0QpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tc291cmNlJyk7CgogICAgICAgICAgbGluay5zdGF0dXMgPSAnc291cmNlJzsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsaW5rL3VwZGF0ZUNvbXAnLCBsaW5rKQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYCR7Y2FyZFR5cGV9L3VwZGF0ZUxpbmtgLCBsaW5rKQogICAgICAgIH0pCiAgICAgIH0KICAgICAgaWYodGhpc0NvbXAudGFyZ2V0TGluayl7CiAgICAgICAgdGhpc0NvbXAudGFyZ2V0TGluay5mb3JFYWNoKGxpbmsgPT4gewogICAgICAgICAgY29uc3QgbmV3WHkxID0gdGhpcy5vbmNsaWNrUG9zKGxpbmsudGFyZ2V0QnRuKTsKICAgICAgICAgIGxpbmsudGFyZ2V0UG9zID0gbmV3WHkxOwogICAgICAgICAgY29uc3QgeHkwID0gbGluay5zb3VyY2VQb3M7CiAgICAgICAgICBjb25zdCBuZXdEID0gdGhpcy5saW5rRCh7CiAgICAgICAgICAgIHNvdXJjZTogeHkwLAogICAgICAgICAgICB0YXJnZXQ6IG5ld1h5MQogICAgICAgICAgfSkgCiAgICAgICAgICBsaW5rLmQgPSBuZXdEOwoKICAgICAgICAgIGNvbnNvbGUubG9nKG5ld0QpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tdGFyZ2V0JykKCiAgICAgICAgICBsaW5rLnN0YXR1cyA9ICd0YXJnZXQnCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbGluay91cGRhdGVDb21wJywgbGluaykKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGAke2NhcmRUeXBlfS91cGRhdGVMaW5rYCwgbGluaykKICAgICAgICB9KQogICAgICB9CiAgICAgIAogICAgfQogIH0sCiAgY3JlYXRlZCgpewogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ2N1cnJlbnRMaW5rJywnZHJhd0xpbmsnLCAnZG9jdW1lbnRzJywgJ2dsb2JhbHZpZXcnLCAnY29ycHVzJywgJ3RvcGljcyddKQogIH0sCgogIHdhdGNoOnsKICAgIG1hcmdpbkxlZnQ6IGZ1bmN0aW9uICgpewogICAgICBjb25zb2xlLmxvZygnbGVmdCBjaGFuZ2UhISEnKQogICAgICB0aGlzLnRlbXAoKTsKICAgIH0sIAogICAgbWFyZ2luVG9wOiBmdW5jdGlvbigpewogICAgICBjb25zb2xlLmxvZygndG9wIGNoYW5nZSEhIScpCiAgICAgIHRoaXMudGVtcCgpOwogICAgfSwKICAgIHdpZHRoOiBmdW5jdGlvbigpewogICAgICBjb25zb2xlLmxvZygnd2lkdGggY2hhbmdlICEhIScpCiAgICAgIHRoaXMudGVtcCgpOwogICAgfSwKICAgIGhlaWdodDogZnVuY3Rpb24oKXsKICAgICAgY29uc29sZS5sb2coJ2hlaWdodCBjaGFuZ2UgISEhJykKICAgICAgdGhpcy50ZW1wKCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["InoutputBtns.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InoutputBtns.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-btn\n      small\n      icon\n      outlined\n      class=\"card-actions\"\n      :id=\"'right-btn-' + componentId\"\n      @mousedown=\"addLink\"\n      @mouseup=\"finishLink\"\n      v-show=\"!resizingStatus && (hover || rightBtn || drawLink)\"\n      :style=\"{\n        position: 'absolute', \n        padding: 0, \n        margin: 0,\n        left: `${width}px`, \n        top: `${height/2}px`,\n        transform: `translate(0%, -50%)`,\n      }\"\n    >\n      <v-icon \n        small\n        pos=\"right-btn-icon\"  \n      >\n        mdi-plus\n      </v-icon>\n    </v-btn>\n\n    <v-btn\n      small\n      icon\n      outlined\n      class=\"card-actions\"\n      :id=\"'left-btn-' + componentId\"\n      @mousedown=\"addLink\"\n      @mouseup=\"finishLink\"\n      ref=\"addLinkBtn\"  \n      v-show=\"!resizingStatus && (hover || leftBtn || drawLink)\"\n      :style=\"{\n        position: 'absolute', \n        padding: 0, \n        margin: 0,\n        left: 0, \n        top: `${height/2}px`,\n        transform: `translate(-120%, -50%)`\n      }\"\n    >\n      <v-icon \n        large\n        pos=\"left-btn-icon\"  \n      >\n        mdi-menu-right\n      </v-icon>\n    </v-btn>\n    \n    <v-btn\n      small\n      icon\n      outlined\n      class=\"card-actions\"\n      :id=\"`top-btn-${componentId}`\"\n      @mousedown=\"addLink\"\n      @mouseup=\"finishLink\"\n      ref=\"addLinkBtn\"  \n      v-show=\"(hover || topBtn || drawLink) && !resizingStatus\"\n      :style=\"{\n        position: 'absolute', \n        padding: 0, \n        margin: 0,\n        left: `${width/2}px`, \n        top: 0,\n        transform: `translate(-50%,-120%)`\n      }\"\n      \n    >\n      <v-icon \n        large\n        pos=\"top-btn-icon\"  \n      >\n        mdi-menu-down\n      </v-icon>\n    </v-btn>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport {mapState} from 'vuex'\n\n\nexport default {\n  props: [\n    'resizingStatus', \n    'width', \n    'height', \n    'marginLeft', \n    'marginTop',\n    'hover',\n    'componentId',\n  ],\n  data(){\n    return {\n\n      rightBtn: true,\n      topBtn: false,\n      leftBtn: false, \n      lineKeep: false,\n      linePath: undefined, \n      xy0: undefined, \n      keep: false,\n      rightLink: [], \n      topLink: [],\n      leftLink: [],\n      canvas: d3.select('.svg-canvas')\n    }\n  },\n  methods: {\n    addLink(e){\n      this.$store.dispatch('changeLinkDrawingStatus', true);\n      const vm = this;\n      let xy0; \n      const canvas = d3.select('.svg-canvas');\n      const markerBoxWidth = 20; \n      const markerBoxHeight = 15;\n      const refX = markerBoxWidth / 2;\n      const refY = markerBoxHeight / 2;      \n      const arrowPoints = [[0, 0], [0, 15], [20, 7.5]];\n\n      canvas.append('defs')\n        .append('marker')\n        .attr('id', 'arrow')\n        .attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n        .attr('refX', refX)\n        .attr('refY', refY)\n        .attr('markerWidth', markerBoxWidth)\n        .attr('markerHeight', markerBoxHeight)\n        .attr('orient', 'auto-start-reverse')\n        .attr('opacity', 0.6)\n        .append('path')\n        .attr('d', d3.line()(arrowPoints))\n        .attr('stroke', 'black');\n      \n      this.keep = true; \n\n      xy0 = this.onclickPosRight();\n      \n      this.$store.dispatch('setCurrentLink', {\n        id: this.componentId,\n        pos: xy0, \n        in_out: 'source'\n      })\n\n\n\n      const line = d3.line()\n                   .x(d=>d[0])\n                   .y(d=>d[1])\n      \n\n      // const className = `${this.componentId}-outlink`;\n      const className = 'drawing';\n      let pathGroup = canvas.selectAll(`.${className}`).data([0])\n      let pathGroupEnter = pathGroup.enter().append('path').attr('class', className)\n      pathGroupEnter.merge(pathGroup)\n        .attr('d', line([xy0, xy0]))\n        .attr('marker-end', 'url(#arrow)')\n        .attr('stroke', 'black')\n        .attr('stroke-width', '1px')\n        .attr('stroke-dasharray', (5,5))\n      \n    \n      canvas.call(drawLine);\n\n      function drawLine(canvas){     \n        canvas\n          .on('mousemove', function(){\n            \n            if(vm.keep){\n              pathGroupEnter.merge(pathGroup)\n                .attr('d', line([xy0, d3.mouse(this).map(x=>x-1)]))\n            }\n          })\n          .on('mouseup', function(){\n            vm.keep = false;\n            pathGroupEnter.merge(pathGroup)\n                .attr('d', null)\n          })\n      }\n\n    },\n  \n    \n    finishLink(e){\n      console.log('finish!!!!!!')\n      if(!this.drawLink || !this.currentLink.source || this.currentLink.source.id === this.componentId){\n        this.finishLinking();\n        this.canvas\n          .on('mousemove', null)\n          .on('mouseup', null)\n        console.log('same should end');\n        return;\n      }\n\n      let xy1; \n      let xy0;\n      const canvas = d3.select('.svg-canvas')\n\n      xy0 = this.currentLink.source.pos;\n      xy1 = this.onclickPos(e.target.getAttribute('pos'))\n\n      \n      this.$store.dispatch('setCurrentLink', {\n        id: this.componentId, \n        pos: xy1, \n        in_out: 'target'\n      })\n      \n      \n      // let d = this.linkD(canvas, {source: xy0, target: xy1}, this.currentLink.source.id+'_'+this.currentLink.target.id) \n      \n      let linkD = this.linkD({source: xy0, target: xy1});\n\n      this.$store.dispatch('link/addComp', {\n        id: this.currentLink.source.id+'_'+this.currentLink.target.id,\n        source: this.currentLink.source.id, \n        sourcePos: this.currentLink.source.pos, \n        sourceBtn: 'right-btn-icon',\n        target: this.currentLink.target.id, \n        targetPos: this.currentLink.target.pos, \n        targetBtn: e.target.getAttribute('pos'),\n        d: linkD\n      })\n\n\n      const sourceType = this.currentLink.source.id.split('-')[1];\n      const targetType = this.currentLink.target.id.split('-')[1];\n      console.log('source is: '+sourceType)\n      console.log('target is: '+targetType)\n\n      // this.$store.dispatch(`${sourceType}/addLink`, {\n      //   id: this.currentLink.source.id+'_'+this.currentLink.target.id,\n      //   source: this.currentLink.source.id, \n      //   sourcePos: this.currentLink.source.pos, \n      //   sourceBtn: 'right-btn-icon',\n      //   target: this.currentLink.target.id, \n      //   targetPos: this.currentLink.target.pos, \n      //   targetBtn: e.target.getAttribute('pos'),\n      //   d: linkD,\n      //   status: 'source'\n      // })\n\n      // this.$store.dispatch(`${targetType}/addLink`, {\n      //   id: this.currentLink.source.id+'_'+this.currentLink.target.id,\n      //   source: this.currentLink.source.id, \n      //   sourcePos: this.currentLink.source.pos, \n      //   sourceBtn: 'right-btn-icon',\n      //   target: this.currentLink.target.id, \n      //   targetPos: this.currentLink.target.pos, \n      //   targetBtn: e.target.getAttribute('pos'),\n      //   d: linkD,\n      //   status: 'target'\n      // })\n      // remove the currentLinking and dispatch the status in store\n      this.finishLinking();\n     \n    },\n\n    finishLinking(){\n      if(this.drawLink){\n        // Draw Link First and then remove the drawing one\n        this.canvas.selectAll('.drawing').attr('d', null); \n        this.canvas.on('mousemove', null);\n        this.canvas.on('mouseup', null)\n        this.keep = false;\n        // Finish drawing Link\n        this.$store.dispatch('changeLinkDrawingStatus', false);\n      }\n    },\n\n    linkD(data){\n      const line = d3.linkHorizontal()\n                   .x(d=>d[0])\n                   .y(d=>d[1])\n\n      return line(data);\n      \n    }, \n\n    // Input the position of a button and get is central pos \n    onclickPos(pos){\n      if(pos.includes('right')){\n        this.rightBtn = true;\n        return this.onclickPosRight()\n      } else if(pos.includes('top')){\n        this.topBtn = true\n        return this.onclickPosTop()\n      } else if(pos.includes('left')){\n        this.leftBtn = true\n        return this.onclickPosLeft()\n      }\n\n    }, \n    onclickPosRight(){\n      const x = parseInt(this.marginLeft) + parseInt(this.width) + 14; \n      const y = parseInt(this.marginTop) + parseInt(this.height) / 2; \n      return [x, y]\n    },\n\n    onclickPosTop(){\n      const x = parseInt(this.marginLeft) + parseInt(this.width/2); \n      const y = parseInt(this.marginTop) - 14; \n      return [x, y]\n    },\n\n    onclickPosLeft(){\n      const x = parseInt(this.marginLeft) - 14; \n      const y = parseInt(this.marginTop) +  parseInt(this.height) / 2; \n      return [x, y]\n    },\n    \n    temp(){\n      const cardType = this.componentId.split('-')[1];\n      console.log('123')\n      console.log(cardType);\n      const thisComp = this[cardType].cards.filter(card => card.id == this.componentId)[0]\n      console.log(thisComp)\n      console.log(thisComp.sourceLink)\n      console.log(thisComp.targetLink)\n      if(!thisComp.sourceLink && !thisComp.targetLink){\n        console.log('no link attached')\n        return ;\n      }\n      if(thisComp.sourceLink){\n        thisComp.sourceLink.forEach(link => {\n          const newXy0 = this.onclickPos(link.sourceBtn);\n          link.sourcePos = newXy0\n          const xy1 = link.targetPos;\n          const newD = this.linkD({\n            source: newXy0,\n            target: xy1\n          }) \n          link.d = newD;\n          console.log(newD);\n\n          console.log('-------source');\n\n          link.status = 'source';\n          this.$store.dispatch('link/updateComp', link)\n          this.$store.dispatch(`${cardType}/updateLink`, link)\n        })\n      }\n      if(thisComp.targetLink){\n        thisComp.targetLink.forEach(link => {\n          const newXy1 = this.onclickPos(link.targetBtn);\n          link.targetPos = newXy1;\n          const xy0 = link.sourcePos;\n          const newD = this.linkD({\n            source: xy0,\n            target: newXy1\n          }) \n          link.d = newD;\n\n          console.log(newD);\n\n          console.log('-------target')\n\n          link.status = 'target'\n          this.$store.dispatch('link/updateComp', link)\n          this.$store.dispatch(`${cardType}/updateLink`, link)\n        })\n      }\n      \n    }\n  },\n  created(){\n  },\n\n  computed: {\n    ...mapState(['currentLink','drawLink', 'documents', 'globalview', 'corpus', 'topics'])\n  },\n\n  watch:{\n    marginLeft: function (){\n      console.log('left change!!!')\n      this.temp();\n    }, \n    marginTop: function(){\n      console.log('top change!!!')\n      this.temp();\n    },\n    width: function(){\n      console.log('width change !!!')\n      this.temp();\n    },\n    height: function(){\n      console.log('height change !!!')\n      this.temp();\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}