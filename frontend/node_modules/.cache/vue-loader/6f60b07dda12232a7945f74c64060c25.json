{"remainingRequest":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/components/analyzer/OntParser.vue?vue&type=style&index=0&id=77688d3b&scoped=true&lang=css&","dependencies":[{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/src/components/analyzer/OntParser.vue","mtime":1664225744218},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":1661441977636},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1661441977645},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":1661441977640},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1644041617264},{"path":"/Users/yameitu/Desktop/ICIRCLE/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661441977645}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY2FyZC1uYW1lewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBkaXNwbGF5OiBmbGV4OyAKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGZsZXgtd3JhcDogd3JhcDsKICBoZWlnaHQ6IDEwMCU7Cn0KLnRpdGxlLW1pbmkgewogIGNvbG9yOiBzdGVlbGJsdWUhaW1wb3J0YW50OwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci8qIC5jYXJkLWFjdGlvbnN7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKDMwMHB4LCAtMTUwcHgpOwogIHBhZGRpbmc6IDA7Cn0gKi8KCi5yZXNpemVyewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoKLnJlc2l6ZXItciB7CiAgY3Vyc29yOiBjb2wtcmVzaXplOwogIGhlaWdodDogMTAwJTsKICByaWdodDogMDsKICB0b3A6IDA7CiAgd2lkdGg6IDVweDsKfQoKLyogUGxhY2VkIGF0IHRoZSBib3R0b20gc2lkZSAqLwoucmVzaXplci1iIHsKICBib3R0b206IDA7CiAgY3Vyc29yOiByb3ctcmVzaXplOwogIGhlaWdodDogNXB4OwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7Cn0KCi5jYXJkLW9udHBhcnNlcjpob3ZlcnsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmNhcmQtb250cGFyc2VyewogIHBhZGRpbmc6MjBweAp9Cgo="},{"version":3,"sources":["OntParser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"OntParser.vue","sourceRoot":"src/components/analyzer","sourcesContent":["<template>\n    <div>\n      <v-hover\n        v-slot=\"{hover}\"\n      >\n      <v-card\n          :elevation=\"hover ? 12 : 5\"\n          class=\"card-ontparser\"\n          :draggable=\"false\"\n          @mousedown=\"dragProxy\"\n          @dragstart=\"false\"\n          outlined\n          :id=\"itemProps.id\"\n          ref=\"cardComp\"\n          @dbclick=\"dbclickHandler\"\n          @dblclick.stop=\"cardDoubleClick\"\n          @contextmenu=\"rightClickMenuShow\"\n          :loading=\"itemProps.loadingStatus\"\n          :style=\"{\n          top: marginTop + 'px',\n          left: marginLeft + 'px',\n          width: `${width}px`,\n          height: `${height}px`,\n          position: 'absolute',\n          border: getBorder\n        }\">  \n        \n        <v-form\n            ref=\"form\"\n            v-model=\"formData\"\n        >   \n            <v-row>\n                <v-col cols=\"5\">\n                    <v-text-field\n                    v-model=\"linkml\"\n                    label=\"LinkML\"\n                    required\n                    ></v-text-field>\n                </v-col>\n                <v-col cols=\"5\">\n                    <v-text-field\n                    v-model=\"vocab\"\n                    label=\"Vocabulary\"\n                    required\n                    ></v-text-field>\n                </v-col>\n            </v-row>\n            <v-btn\n            color=\"success\"\n            class=\"mr-4\"\n            @click=\"validate\"\n            :loading = \"itemProps.loadingStatus\"\n            >\n            Parse\n            </v-btn>\n        </v-form>\n        <v-divider style=\"margin-top:7px; margin-bottom:4px\"></v-divider>\n        <v-row style=\"overflow: scroll\">\n          <v-col cols=\"3\">\n            <div v-if=\"showFilters\" v-for=\"(ele,index) in filtersData\" :style=\"{'width': filterWidth}\">\n                <v-select :items=\"ele.permissible_values\"\n                    item-text=\"name\"\n                    :label = \"ele.name\"\n                    :ref = \"'filter'+ele.name\"\n                    multiple\n                    style=\"height:50px\"\n                    @change=\"changeFilters\"\n                    v-model=\"selectedFilters[ele.name]\"\n                    item-value=\"meaning\"\n                    >\n                    <template v-slot:selection=\"{ item, index }\">\n                      <v-chip v-if=\"index === 0\">\n                        <span>{{ item.name }}</span>\n                      </v-chip>\n                      <span\n                        v-if=\"index === 1\"\n                        class=\"grey--text text-caption\"\n                      >\n                        (+{{ selectedFilters[ele.name].length - 1 }} others)\n                      </span>\n                    </template>\n                  </v-select>\n                <!-- <el-select @change=\"changeFilters\" v-model=\"selectedFilters[ele.name]\" multiple :placeholder=\"ele.name\" :ref=\"'filter-'+ele.name\" automatic-dropdown collapse-tags fit-input-width\t>\n                    <el-option\n                    v-for=\"item in ele.permissible_values\"\n                    :key=\"item.name\"\n                    :label=\"item.name\"\n                    :value=\"item.meaning\"\n                    />\n                </el-select>  -->\n            </div>\n          </v-col>\n          <v-col cols=\"21\">\n            <KGViewer :G=\"itemProps.data_ontology\" :height=\"childrenHeight\" :width=\"childrenWidth\"></KGViewer>\n          </v-col>\n        </v-row>\n        \n         <v-card-actions>\n            <!-- input action button on the border -->\n          <InoutputBtns\n              :resizingStatus=\"resizingStatus\"\n              :width=\"width\"\n              :height=\"height\"\n              :marginLeft=\"marginLeft\"\n              :marginTop=\"marginTop\"\n              :componentId=\"itemProps.id\"\n              :hover=\"hover\"\n            />\n          </v-card-actions>\n          <div class=\"resizer resizer-r\" @mousedown=\"mouseDownHandler\"></div>\n          <div class=\"resizer resizer-b\" @mousedown=\"mouseDownHandler\"></div>\n        </v-card>\n        \n      </v-hover>\n      <v-menu\n        v-model=\"showRightClickMenu\"\n        :position-x=\"rightMenuX\"\n        :position-y=\"rightMenuY\"\n        absolute\n        offset-y\n      >\n        <RightClickMenu \n          :vue=\"this\" \n          :container=\"container\" \n          :itemProps=\"itemProps\"\n          store=\"vegaRender\"\n        /> \n         \n      </v-menu>\n    </div>\n  </template>\n  \n  <script>\n  import {mapState} from 'vuex'\n  import RightClickMenu from \"@/components/common/rightclick/RightClickMenu\";\n  import InoutputBtns from \"@/components/common/menu/buttons/InoutputBtns\";\n  import Vue from 'vue'\n  import KGViewer from './KGViewer.vue'\n  import {cardOperationMixin} from '@/mixins/cardOperationMixin.js'\n  \n  export default {\n    props: {\n      itemProps: {\n        type: Object,\n        required: true\n      },\n    },\n    mixins:[cardOperationMixin],\n    data(){\n      return {\n        initialX: undefined,\n        initialY: undefined,\n        data: undefined,\n        resizeX: undefined,\n        resizeY: undefined,\n        // draggable: true,\n        width: 1000,\n        height: 800, \n        resizeWidth: 0, //\n        resizeHeight: 0,\n        marginTop: 0,\n        marginLeft: 0,\n        topMargin: window.innerHeight / 2,\n        leftMargin: window.innerWidth / 2,\n        resizingStatus: false,\n  \n        showRightClickMenu: false,\n        rightMenuX: 0,\n        rightMenuY: 0,\n  \n        // for right click menu\n        items: [\n          { title: 'Remove node' },\n        ], \n        container: '.ontparser-components-list',\n        rightBtn: true,\n        topBtn: false,\n        leftBtn: false, \n  \n        dialog: false,\n        FIXED: false,\n\n        // custom\n        btn_loading: false, // parse loading \n        formData:null,\n        linkml: \"https://raw.githubusercontent.com/yasmineTYM/PPOD_KG/main/PPOD_new.yaml\",\n        vocab: \"https://raw.githubusercontent.com/yasmineTYM/PPOD_KG/main/vocabs_new.yaml\",\n\n        // pass to childrem:\n        // childrenWidth: '600px',\n        // childrenHeight: '600px',\n        filterWidth: '200px',\n        showFilters: false,\n        filtersData: [],\n        selectedFilters: {},\n      }\n    },\n    methods:{\n        dbclickHandler(){\n          console.log('db')\n          this.FIXED = !this.FIXED;\n          if (!this.dataStatus) {\n            return;\n          }\n          if (this.FIXED) {\n            componentDisableDragHandler(\n              `.globalview-canvas-${this.itemProps.id}`,\n              this.toolStatus\n            );\n          } else {\n            componentEnableDragHandler(\n              `.globalview-canvas-${this.itemProps.id}`,\n              this.toolStatus\n            );\n          }\n        },\n        validate(){\n            // console.log(this.formData, this.linkml, this.vocab)\n            this.$store.dispatch('ontparser/parseOnt', {'id': this.itemProps.id,'linkml':this.linkml, 'vocab':this.vocab})\n        },\n        cardDoubleClick(){\n            this.dialog = true;\n        //   this.itemProps.loadingStatus = true\n        },\n        loaderAction(e){\n            if(e.status == \"success\"){\n            delete e.status\n            e.selected.cardId = this.itemProps.id\n            this.$store.dispatch('ontparser/addCorpus', e.selected)\n            }\n            \n            this.dialog = false;\n        },\n        changeFilters(val){\n          console.log(val)\n          console.log(this.selectedFilters)\n        },\n    },\n    created(){\n      // Initialize initial position\n      this.marginTop = this.topMargin - this.height/2; \n      this.marginLeft = this.leftMargin - this.width/2;\n      this.resizeWidth = this.width;\n      this.resizeHeight = this.height; \n\n      \n\n    },\n    watch:{\n      'itemProps.data_ontology':function(val, oldVal){\n        console.log(val, oldVal)\n      },\n      'itemProps.data_filter': function(val, oldVal){\n        this.filtersData = []\n        this.selectedFilters = {}\n        // console.log(Filters)\n        var c= 0\n        for(const [key, value] of Object.entries(val)){\n          var temp = {} \n          temp['name'] = key \n          temp['index'] = c\n          temp['head_uri'] = value['head_uri']\n          temp['permissible_values'] = []\n          // console.log(value['permissible_values'])\n          c+=1\n          for (const [key2, value2] of Object.entries(value['permissible_values'])){\n            var aa = value2 \n            aa['name'] = key2\n            temp['permissible_values'].push(aa)\n          }\n          this.filtersData.push(temp)\n          this.selectedFilters[key] = []\n        }\n        console.log(this.filtersData)\n        console.log(this.selectedFilters)\n        this.showFilters = true \n      },\n      // width(new_val, old_val){\n      //   this.childrenWidth = \n      //   this.filterWidth = String(newVal*0.2) + \"px\"\n      // },\n      // height(new_val, old_val){\n      //   this.childrenHeight =\n      // }\n    },\n    computed:{\n      ...mapState([\"drawLink\", \"resizer\", \"vismode\",\"ontparser\"]),\n      getBorder() {\n        return this.fixed ? \"2px solid grey\" : \"None\";\n      },\n      draggable() {\n        return !(this.drawLink || this.resizingStatus);\n      },\n      minimizeStatus() {\n        return this.$slots.minimizeView && this.minimize \n      }, \n      commands() {\n        const rightClickCommands = {icon: \"mdi-window-minimize\", command: \"Minimize\"}\n        let commands = [] \n        this.$slots.minimizeView && this.$slots.fullView \n          ? commands.push(rightClickCommands)\n          : -1 \n        commands = this.contextCommands\n          ? commands.concat(this.contextCommands)\n          : commands\n        console.log('commands!!!')\n        console.log(commands)\n        return commands\n      }, \n      currentStore() {\n        return this.itemProps.id.split('-')[1]\n      },\n\n  \n      // Determine Whether the component is draggable\n      // Not allowed when resizing and drawling link\n     \n      childrenWidth(){\n        return String(this.width * 0.7)+\"px\"\n      },  \n      childrenHeight(){\n        return  String(this.height*0.8)+\"px\"\n      },\n      \n    },\n  \n    components: {\n      RightClickMenu,\n      InoutputBtns,\n      KGViewer\n      // BarChart: VueVega.mapVegaLiteSpec(BarChartSpec)\n  \n      // LoaderTextPre\n    }\n  }\n  </script>\n  \n  <style scoped> \n    .card-name{\n      text-align: center;\n      display: flex; \n      align-items: center;\n      justify-content: center;\n      flex-wrap: wrap;\n      height: 100%;\n    }\n    .title-mini {\n      color: steelblue!important;\n      font-weight: bold;\n    }\n    /* .card-actions{\n      position: absolute;\n      transform: translate(300px, -150px);\n      padding: 0;\n    } */\n  \n    .resizer{\n      position: absolute;\n    }\n  \n    .resizer-r {\n      cursor: col-resize;\n      height: 100%;\n      right: 0;\n      top: 0;\n      width: 5px;\n    }\n  \n    /* Placed at the bottom side */\n    .resizer-b {\n      bottom: 0;\n      cursor: row-resize;\n      height: 5px;\n      left: 0;\n      width: 100%;\n    }\n  \n    .card-ontparser:hover{\n      cursor: pointer;\n    }\n    .card-ontparser{\n      padding:20px\n    }\n  \n  </style>\n  "]}]}