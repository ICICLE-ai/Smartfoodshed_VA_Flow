{"remainingRequest":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/components/common/buttons/InoutputBtns.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/src/components/common/buttons/InoutputBtns.vue","mtime":1666790788333},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660324545335},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1661232574882},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660324545335},{"path":"/Users/qiurui/Desktop/ICICLE/new_gui_2022/Smartfoodshed_VA_Flow/frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661232574916}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJwppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwoKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWwogICAgJ3Jlc2l6aW5nU3RhdHVzJywgCiAgICAnd2lkdGgnLCAKICAgICdoZWlnaHQnLCAKICAgICdtYXJnaW5MZWZ0JywgCiAgICAnbWFyZ2luVG9wJywKICAgICdob3ZlcicsCiAgICAnY29tcG9uZW50SWQnLAogIF0sCiAgZGF0YSgpewogICAgcmV0dXJuIHsKCiAgICAgIHJpZ2h0QnRuOiB0cnVlLAogICAgICB0b3BCdG46IGZhbHNlLAogICAgICBsZWZ0QnRuOiBmYWxzZSwgCiAgICAgIGxpbmVLZWVwOiBmYWxzZSwKICAgICAgbGluZVBhdGg6IHVuZGVmaW5lZCwgCiAgICAgIHh5MDogdW5kZWZpbmVkLCAKICAgICAga2VlcDogZmFsc2UsCiAgICAgIHJpZ2h0TGluazogW10sIAogICAgICB0b3BMaW5rOiBbXSwKICAgICAgbGVmdExpbms6IFtdLAogICAgICBjYW52YXM6IGQzLnNlbGVjdCgnLnN2Zy1jYW52YXMnKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkTGluayhlKXsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUxpbmtEcmF3aW5nU3RhdHVzJywgdHJ1ZSk7CiAgICAgIGNvbnN0IHZtID0gdGhpczsKICAgICAgbGV0IHh5MDsgCiAgICAgIGNvbnN0IGNhbnZhcyA9IGQzLnNlbGVjdCgnLnN2Zy1jYW52YXMnKTsKICAgICAgY29uc3QgbWFya2VyQm94V2lkdGggPSAyMDsgCiAgICAgIGNvbnN0IG1hcmtlckJveEhlaWdodCA9IDE1OwogICAgICBjb25zdCByZWZYID0gbWFya2VyQm94V2lkdGggLyAyOwogICAgICBjb25zdCByZWZZID0gbWFya2VyQm94SGVpZ2h0IC8gMjsgICAgICAKICAgICAgY29uc3QgYXJyb3dQb2ludHMgPSBbWzAsIDBdLCBbMCwgMTVdLCBbMjAsIDcuNV1dOwoKICAgICAgY2FudmFzLmFwcGVuZCgnZGVmcycpCiAgICAgICAgLmFwcGVuZCgnbWFya2VyJykKICAgICAgICAuYXR0cignaWQnLCAnYXJyb3cnKQogICAgICAgIC5hdHRyKCd2aWV3Qm94JywgWzAsIDAsIG1hcmtlckJveFdpZHRoLCBtYXJrZXJCb3hIZWlnaHRdKQogICAgICAgIC5hdHRyKCdyZWZYJywgcmVmWCkKICAgICAgICAuYXR0cigncmVmWScsIHJlZlkpCiAgICAgICAgLmF0dHIoJ21hcmtlcldpZHRoJywgbWFya2VyQm94V2lkdGgpCiAgICAgICAgLmF0dHIoJ21hcmtlckhlaWdodCcsIG1hcmtlckJveEhlaWdodCkKICAgICAgICAuYXR0cignb3JpZW50JywgJ2F1dG8tc3RhcnQtcmV2ZXJzZScpCiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjYpCiAgICAgICAgLmFwcGVuZCgncGF0aCcpCiAgICAgICAgLmF0dHIoJ2QnLCBkMy5saW5lKCkoYXJyb3dQb2ludHMpKQogICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKTsKICAgICAgCiAgICAgIHRoaXMua2VlcCA9IHRydWU7IAoKICAgICAgeHkwID0gdGhpcy5vbmNsaWNrUG9zUmlnaHQoKTsKICAgICAgCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRDdXJyZW50TGluaycsIHsKICAgICAgICBpZDogdGhpcy5jb21wb25lbnRJZCwKICAgICAgICBwb3M6IHh5MCwgCiAgICAgICAgaW5fb3V0OiAnc291cmNlJwogICAgICB9KQoKCgogICAgICBjb25zdCBsaW5lID0gZDMubGluZSgpCiAgICAgICAgICAgICAgICAgICAueChkPT5kWzBdKQogICAgICAgICAgICAgICAgICAgLnkoZD0+ZFsxXSkKICAgICAgCgogICAgICAvLyBjb25zdCBjbGFzc05hbWUgPSBgJHt0aGlzLmNvbXBvbmVudElkfS1vdXRsaW5rYDsKICAgICAgY29uc3QgY2xhc3NOYW1lID0gJ2RyYXdpbmcnOwogICAgICBsZXQgcGF0aEdyb3VwID0gY2FudmFzLnNlbGVjdEFsbChgLiR7Y2xhc3NOYW1lfWApLmRhdGEoWzBdKQogICAgICBsZXQgcGF0aEdyb3VwRW50ZXIgPSBwYXRoR3JvdXAuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKS5hdHRyKCdjbGFzcycsIGNsYXNzTmFtZSkKICAgICAgcGF0aEdyb3VwRW50ZXIubWVyZ2UocGF0aEdyb3VwKQogICAgICAgIC5hdHRyKCdkJywgbGluZShbeHkwLCB4eTBdKSkKICAgICAgICAuYXR0cignbWFya2VyLWVuZCcsICd1cmwoI2Fycm93KScpCiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpCiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKQogICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKDUsNSkpCiAgICAgIAogICAgCiAgICAgIGNhbnZhcy5jYWxsKGRyYXdMaW5lKTsKCiAgICAgIGZ1bmN0aW9uIGRyYXdMaW5lKGNhbnZhcyl7ICAgICAKICAgICAgICBjYW52YXMKICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHZtLmtlZXApewogICAgICAgICAgICAgIHBhdGhHcm91cEVudGVyLm1lcmdlKHBhdGhHcm91cCkKICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgbGluZShbeHkwLCBkMy5tb3VzZSh0aGlzKS5tYXAoeD0+eC0xKV0pKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgdm0ua2VlcCA9IGZhbHNlOwogICAgICAgICAgICBwYXRoR3JvdXBFbnRlci5tZXJnZShwYXRoR3JvdXApCiAgICAgICAgICAgICAgICAuYXR0cignZCcsIG51bGwpCiAgICAgICAgICB9KQogICAgICB9CgogICAgfSwKICAKICAgIAogICAgZmluaXNoTGluayhlKXsKICAgICAgaWYoIXRoaXMuZHJhd0xpbmsgfHwgIXRoaXMuY3VycmVudExpbmsuc291cmNlIHx8IHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkID09PSB0aGlzLmNvbXBvbmVudElkKXsKICAgICAgICB0aGlzLmZpbmlzaExpbmtpbmcoKTsKICAgICAgICB0aGlzLmNhbnZhcwogICAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBudWxsKQogICAgICAgICAgLm9uKCdtb3VzZXVwJywgbnVsbCkKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxldCB4eTE7IAogICAgICBsZXQgeHkwOwogICAgICBjb25zdCBjYW52YXMgPSBkMy5zZWxlY3QoJy5zdmctY2FudmFzJykKCiAgICAgIHh5MCA9IHRoaXMuY3VycmVudExpbmsuc291cmNlLnBvczsKICAgICAgeHkxID0gdGhpcy5vbmNsaWNrUG9zKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgncG9zJykpCgogICAgICAKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldEN1cnJlbnRMaW5rJywgewogICAgICAgIGlkOiB0aGlzLmNvbXBvbmVudElkLCAKICAgICAgICBwb3M6IHh5MSwgCiAgICAgICAgaW5fb3V0OiAndGFyZ2V0JwogICAgICB9KQogICAgICAKICAgICAgCiAgICAgIC8vIGxldCBkID0gdGhpcy5saW5rRChjYW52YXMsIHtzb3VyY2U6IHh5MCwgdGFyZ2V0OiB4eTF9LCB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5pZCsnXycrdGhpcy5jdXJyZW50TGluay50YXJnZXQuaWQpIAogICAgICAKICAgICAgbGV0IGxpbmtEID0gdGhpcy5saW5rRCh7c291cmNlOiB4eTAsIHRhcmdldDogeHkxfSk7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbGluay9hZGRDb21wJywgewogICAgICAgIGlkOiB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5pZCsnXycrdGhpcy5jdXJyZW50TGluay50YXJnZXQuaWQsCiAgICAgICAgc291cmNlOiB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5pZCwgCiAgICAgICAgc291cmNlUG9zOiB0aGlzLmN1cnJlbnRMaW5rLnNvdXJjZS5wb3MsIAogICAgICAgIHNvdXJjZUJ0bjogJ3JpZ2h0LWJ0bi1pY29uJywKICAgICAgICB0YXJnZXQ6IHRoaXMuY3VycmVudExpbmsudGFyZ2V0LmlkLCAKICAgICAgICB0YXJnZXRQb3M6IHRoaXMuY3VycmVudExpbmsudGFyZ2V0LnBvcywgCiAgICAgICAgdGFyZ2V0QnRuOiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BvcycpLAogICAgICAgIGQ6IGxpbmtECiAgICAgIH0pCgoKICAgICAgY29uc3Qgc291cmNlVHlwZSA9IHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkLnNwbGl0KCctJylbMV07CiAgICAgIGNvbnN0IHRhcmdldFR5cGUgPSB0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5pZC5zcGxpdCgnLScpWzFdOwogICAgICAKCiAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGAke3NvdXJjZVR5cGV9L2FkZExpbmtgLCB7CiAgICAgIC8vICAgaWQ6IHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkKydfJyt0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5pZCwKICAgICAgLy8gICBzb3VyY2U6IHRoaXMuY3VycmVudExpbmsuc291cmNlLmlkLCAKICAgICAgLy8gICBzb3VyY2VQb3M6IHRoaXMuY3VycmVudExpbmsuc291cmNlLnBvcywgCiAgICAgIC8vICAgc291cmNlQnRuOiAncmlnaHQtYnRuLWljb24nLAogICAgICAvLyAgIHRhcmdldDogdGhpcy5jdXJyZW50TGluay50YXJnZXQuaWQsIAogICAgICAvLyAgIHRhcmdldFBvczogdGhpcy5jdXJyZW50TGluay50YXJnZXQucG9zLCAKICAgICAgLy8gICB0YXJnZXRCdG46IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgncG9zJyksCiAgICAgIC8vICAgZDogbGlua0QsCiAgICAgIC8vICAgc3RhdHVzOiAnc291cmNlJwogICAgICAvLyB9KQoKICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goYCR7dGFyZ2V0VHlwZX0vYWRkTGlua2AsIHsKICAgICAgLy8gICBpZDogdGhpcy5jdXJyZW50TGluay5zb3VyY2UuaWQrJ18nK3RoaXMuY3VycmVudExpbmsudGFyZ2V0LmlkLAogICAgICAvLyAgIHNvdXJjZTogdGhpcy5jdXJyZW50TGluay5zb3VyY2UuaWQsIAogICAgICAvLyAgIHNvdXJjZVBvczogdGhpcy5jdXJyZW50TGluay5zb3VyY2UucG9zLCAKICAgICAgLy8gICBzb3VyY2VCdG46ICdyaWdodC1idG4taWNvbicsCiAgICAgIC8vICAgdGFyZ2V0OiB0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5pZCwgCiAgICAgIC8vICAgdGFyZ2V0UG9zOiB0aGlzLmN1cnJlbnRMaW5rLnRhcmdldC5wb3MsIAogICAgICAvLyAgIHRhcmdldEJ0bjogZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdwb3MnKSwKICAgICAgLy8gICBkOiBsaW5rRCwKICAgICAgLy8gICBzdGF0dXM6ICd0YXJnZXQnCiAgICAgIC8vIH0pCiAgICAgIC8vIHJlbW92ZSB0aGUgY3VycmVudExpbmtpbmcgYW5kIGRpc3BhdGNoIHRoZSBzdGF0dXMgaW4gc3RvcmUKICAgICAgdGhpcy5maW5pc2hMaW5raW5nKCk7CiAgICAgCiAgICB9LAoKICAgIGZpbmlzaExpbmtpbmcoKXsKICAgICAgaWYodGhpcy5kcmF3TGluayl7CiAgICAgICAgLy8gRHJhdyBMaW5rIEZpcnN0IGFuZCB0aGVuIHJlbW92ZSB0aGUgZHJhd2luZyBvbmUKICAgICAgICB0aGlzLmNhbnZhcy5zZWxlY3RBbGwoJy5kcmF3aW5nJykuYXR0cignZCcsIG51bGwpOyAKICAgICAgICB0aGlzLmNhbnZhcy5vbignbW91c2Vtb3ZlJywgbnVsbCk7CiAgICAgICAgdGhpcy5jYW52YXMub24oJ21vdXNldXAnLCBudWxsKQogICAgICAgIHRoaXMua2VlcCA9IGZhbHNlOwogICAgICAgIC8vIEZpbmlzaCBkcmF3aW5nIExpbmsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhbmdlTGlua0RyYXdpbmdTdGF0dXMnLCBmYWxzZSk7CiAgICAgIH0KICAgIH0sCgogICAgbGlua0QoZGF0YSl7CiAgICAgIGNvbnN0IGxpbmUgPSBkMy5saW5rSG9yaXpvbnRhbCgpCiAgICAgICAgICAgICAgICAgICAueChkPT5kWzBdKQogICAgICAgICAgICAgICAgICAgLnkoZD0+ZFsxXSkKCiAgICAgIHJldHVybiBsaW5lKGRhdGEpOwogICAgICAKICAgIH0sIAoKICAgIC8vIElucHV0IHRoZSBwb3NpdGlvbiBvZiBhIGJ1dHRvbiBhbmQgZ2V0IGlzIGNlbnRyYWwgcG9zIAogICAgb25jbGlja1Bvcyhwb3MpewogICAgICBpZihwb3MuaW5jbHVkZXMoJ3JpZ2h0JykpewogICAgICAgIHRoaXMucmlnaHRCdG4gPSB0cnVlOwogICAgICAgIHJldHVybiB0aGlzLm9uY2xpY2tQb3NSaWdodCgpCiAgICAgIH0gZWxzZSBpZihwb3MuaW5jbHVkZXMoJ3RvcCcpKXsKICAgICAgICB0aGlzLnRvcEJ0biA9IHRydWUKICAgICAgICByZXR1cm4gdGhpcy5vbmNsaWNrUG9zVG9wKCkKICAgICAgfSBlbHNlIGlmKHBvcy5pbmNsdWRlcygnbGVmdCcpKXsKICAgICAgICB0aGlzLmxlZnRCdG4gPSB0cnVlCiAgICAgICAgcmV0dXJuIHRoaXMub25jbGlja1Bvc0xlZnQoKQogICAgICB9CgogICAgfSwgCiAgICBvbmNsaWNrUG9zUmlnaHQoKXsKICAgICAgY29uc3QgeCA9IHBhcnNlSW50KHRoaXMubWFyZ2luTGVmdCkgKyBwYXJzZUludCh0aGlzLndpZHRoKSArIDE0OyAKICAgICAgY29uc3QgeSA9IHBhcnNlSW50KHRoaXMubWFyZ2luVG9wKSArIHBhcnNlSW50KHRoaXMuaGVpZ2h0KSAvIDI7IAogICAgICByZXR1cm4gW3gsIHldCiAgICB9LAoKICAgIG9uY2xpY2tQb3NUb3AoKXsKICAgICAgY29uc3QgeCA9IHBhcnNlSW50KHRoaXMubWFyZ2luTGVmdCkgKyBwYXJzZUludCh0aGlzLndpZHRoLzIpOyAKICAgICAgY29uc3QgeSA9IHBhcnNlSW50KHRoaXMubWFyZ2luVG9wKSAtIDE0OyAKICAgICAgcmV0dXJuIFt4LCB5XQogICAgfSwKCiAgICBvbmNsaWNrUG9zTGVmdCgpewogICAgICBjb25zdCB4ID0gcGFyc2VJbnQodGhpcy5tYXJnaW5MZWZ0KSAtIDE0OyAKICAgICAgY29uc3QgeSA9IHBhcnNlSW50KHRoaXMubWFyZ2luVG9wKSArICBwYXJzZUludCh0aGlzLmhlaWdodCkgLyAyOyAKICAgICAgcmV0dXJuIFt4LCB5XQogICAgfSwKICAgIAogICAgdGVtcCgpewogICAgICBjb25zdCBjYXJkVHlwZSA9IHRoaXMuY29tcG9uZW50SWQuc3BsaXQoJy0nKVsxXTsKICAgICAgY29uc3QgdGhpc0NvbXAgPSB0aGlzW2NhcmRUeXBlXS5jYXJkcy5maWx0ZXIoY2FyZCA9PiBjYXJkLmlkID09IHRoaXMuY29tcG9uZW50SWQpWzBdCiAgICAgIGlmKCF0aGlzQ29tcC5zb3VyY2VMaW5rICYmICF0aGlzQ29tcC50YXJnZXRMaW5rKXsKICAgICAgICByZXR1cm4gOwogICAgICB9CiAgICAgIGlmKHRoaXNDb21wLnNvdXJjZUxpbmspewogICAgICAgIHRoaXNDb21wLnNvdXJjZUxpbmsuZm9yRWFjaChsaW5rID0+IHsKICAgICAgICAgIGNvbnN0IG5ld1h5MCA9IHRoaXMub25jbGlja1BvcyhsaW5rLnNvdXJjZUJ0bik7CiAgICAgICAgICBsaW5rLnNvdXJjZVBvcyA9IG5ld1h5MAogICAgICAgICAgY29uc3QgeHkxID0gbGluay50YXJnZXRQb3M7CiAgICAgICAgICBjb25zdCBuZXdEID0gdGhpcy5saW5rRCh7CiAgICAgICAgICAgIHNvdXJjZTogbmV3WHkwLAogICAgICAgICAgICB0YXJnZXQ6IHh5MQogICAgICAgICAgfSkgCiAgICAgICAgICBsaW5rLmQgPSBuZXdEOwoKCiAgICAgICAgICBsaW5rLnN0YXR1cyA9ICdzb3VyY2UnOwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xpbmsvdXBkYXRlQ29tcCcsIGxpbmspCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgJHtjYXJkVHlwZX0vdXBkYXRlTGlua2AsIGxpbmspCiAgICAgICAgfSkKICAgICAgfQogICAgICBpZih0aGlzQ29tcC50YXJnZXRMaW5rKXsKICAgICAgICB0aGlzQ29tcC50YXJnZXRMaW5rLmZvckVhY2gobGluayA9PiB7CiAgICAgICAgICBjb25zdCBuZXdYeTEgPSB0aGlzLm9uY2xpY2tQb3MobGluay50YXJnZXRCdG4pOwogICAgICAgICAgbGluay50YXJnZXRQb3MgPSBuZXdYeTE7CiAgICAgICAgICBjb25zdCB4eTAgPSBsaW5rLnNvdXJjZVBvczsKICAgICAgICAgIGNvbnN0IG5ld0QgPSB0aGlzLmxpbmtEKHsKICAgICAgICAgICAgc291cmNlOiB4eTAsCiAgICAgICAgICAgIHRhcmdldDogbmV3WHkxCiAgICAgICAgICB9KSAKICAgICAgICAgIGxpbmsuZCA9IG5ld0Q7CgogICAgICAgICAgbGluay5zdGF0dXMgPSAndGFyZ2V0JwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xpbmsvdXBkYXRlQ29tcCcsIGxpbmspCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgJHtjYXJkVHlwZX0vdXBkYXRlTGlua2AsIGxpbmspCiAgICAgICAgfSkKICAgICAgfQogICAgICAKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyd1cmwnLCdjb2RlZWRpdG9yJywna2dxdWVyaWVyJywnY3VycmVudExpbmsnLCdkcmF3TGluaycsICdkb2N1bWVudHMnLCAnZ2xvYmFsdmlldycsICdjb3JwdXMnLCAndG9waWNzJywgJ29udG9sb2d5JywgJ2dyYXBoJywgJ3RhYmxlMmN5cGhlcicsICdncmFwaHZpZXdlcicsICd2ZWdhY2hhcnRlcicsJ29udHBhcnNlciddKQogIH0sCgogIHdhdGNoOnsKICAgIG1hcmdpbkxlZnQ6IGZ1bmN0aW9uICgpewogICAgICAvLyBjb25zb2xlLmxvZygnbGVmdCBjaGFuZ2UhISEnKQogICAgICB0aGlzLnRlbXAoKTsKICAgIH0sIAogICAgbWFyZ2luVG9wOiBmdW5jdGlvbigpewogICAgICAvLyBjb25zb2xlLmxvZygndG9wIGNoYW5nZSEhIScpCiAgICAgIHRoaXMudGVtcCgpOwogICAgfSwKICAgIHdpZHRoOiBmdW5jdGlvbigpewogICAgICAvLyBjb25zb2xlLmxvZygnd2lkdGggY2hhbmdlICEhIScpCiAgICAgIHRoaXMudGVtcCgpOwogICAgfSwKICAgIGhlaWdodDogZnVuY3Rpb24oKXsKICAgICAgLy8gY29uc29sZS5sb2coJ2hlaWdodCBjaGFuZ2UgISEhJykKICAgICAgdGhpcy50ZW1wKCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["InoutputBtns.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InoutputBtns.vue","sourceRoot":"src/components/common/buttons","sourcesContent":["<template>\n  <div>\n    <v-btn\n      small\n      icon\n      outlined\n      class=\"card-actions\"\n      :id=\"'right-btn-' + componentId\"\n      @mousedown=\"addLink\"\n      @mouseup=\"finishLink\"\n      v-show=\"!resizingStatus && (hover || rightBtn || drawLink)\"\n      :style=\"{\n        position: 'absolute', \n        padding: 0, \n        margin: 0,\n        left: `${width}px`, \n        top: `${height/2}px`,\n        transform: `translate(0%, -50%)`,\n      }\"\n    >\n      <v-icon \n        small\n        pos=\"right-btn-icon\"  \n      >\n        mdi-plus\n      </v-icon>\n    </v-btn>\n\n    <v-btn\n      small\n      icon\n      outlined\n      class=\"card-actions\"\n      :id=\"'left-btn-' + componentId\"\n      @mousedown=\"addLink\"\n      @mouseup=\"finishLink\"\n      ref=\"addLinkBtn\"  \n      v-show=\"!resizingStatus && (hover || leftBtn || drawLink)\"\n      :style=\"{\n        position: 'absolute', \n        padding: 0, \n        margin: 0,\n        left: 0, \n        top: `${height/2}px`,\n        transform: `translate(-120%, -50%)`\n      }\"\n    >\n      <v-icon \n        large\n        pos=\"left-btn-icon\"  \n      >\n        mdi-menu-right\n      </v-icon>\n    </v-btn>\n    \n    <v-btn\n      small\n      icon\n      outlined\n      class=\"card-actions\"\n      :id=\"`top-btn-${componentId}`\"\n      @mousedown=\"addLink\"\n      @mouseup=\"finishLink\"\n      ref=\"addLinkBtn\"  \n      v-show=\"(hover || topBtn || drawLink) && !resizingStatus\"\n      :style=\"{\n        position: 'absolute', \n        padding: 0, \n        margin: 0,\n        left: `${width/2}px`, \n        top: 0,\n        transform: `translate(-50%,-120%)`\n      }\"\n      \n    >\n      <v-icon \n        large\n        pos=\"top-btn-icon\"  \n      >\n        mdi-menu-down\n      </v-icon>\n    </v-btn>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport {mapState} from 'vuex'\n\n\nexport default {\n  props: [\n    'resizingStatus', \n    'width', \n    'height', \n    'marginLeft', \n    'marginTop',\n    'hover',\n    'componentId',\n  ],\n  data(){\n    return {\n\n      rightBtn: true,\n      topBtn: false,\n      leftBtn: false, \n      lineKeep: false,\n      linePath: undefined, \n      xy0: undefined, \n      keep: false,\n      rightLink: [], \n      topLink: [],\n      leftLink: [],\n      canvas: d3.select('.svg-canvas')\n    }\n  },\n  methods: {\n    addLink(e){\n      this.$store.dispatch('changeLinkDrawingStatus', true);\n      const vm = this;\n      let xy0; \n      const canvas = d3.select('.svg-canvas');\n      const markerBoxWidth = 20; \n      const markerBoxHeight = 15;\n      const refX = markerBoxWidth / 2;\n      const refY = markerBoxHeight / 2;      \n      const arrowPoints = [[0, 0], [0, 15], [20, 7.5]];\n\n      canvas.append('defs')\n        .append('marker')\n        .attr('id', 'arrow')\n        .attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n        .attr('refX', refX)\n        .attr('refY', refY)\n        .attr('markerWidth', markerBoxWidth)\n        .attr('markerHeight', markerBoxHeight)\n        .attr('orient', 'auto-start-reverse')\n        .attr('opacity', 0.6)\n        .append('path')\n        .attr('d', d3.line()(arrowPoints))\n        .attr('stroke', 'black');\n      \n      this.keep = true; \n\n      xy0 = this.onclickPosRight();\n      \n      this.$store.dispatch('setCurrentLink', {\n        id: this.componentId,\n        pos: xy0, \n        in_out: 'source'\n      })\n\n\n\n      const line = d3.line()\n                   .x(d=>d[0])\n                   .y(d=>d[1])\n      \n\n      // const className = `${this.componentId}-outlink`;\n      const className = 'drawing';\n      let pathGroup = canvas.selectAll(`.${className}`).data([0])\n      let pathGroupEnter = pathGroup.enter().append('path').attr('class', className)\n      pathGroupEnter.merge(pathGroup)\n        .attr('d', line([xy0, xy0]))\n        .attr('marker-end', 'url(#arrow)')\n        .attr('stroke', 'black')\n        .attr('stroke-width', '1px')\n        .attr('stroke-dasharray', (5,5))\n      \n    \n      canvas.call(drawLine);\n\n      function drawLine(canvas){     \n        canvas\n          .on('mousemove', function(){\n            \n            if(vm.keep){\n              pathGroupEnter.merge(pathGroup)\n                .attr('d', line([xy0, d3.mouse(this).map(x=>x-1)]))\n            }\n          })\n          .on('mouseup', function(){\n            vm.keep = false;\n            pathGroupEnter.merge(pathGroup)\n                .attr('d', null)\n          })\n      }\n\n    },\n  \n    \n    finishLink(e){\n      if(!this.drawLink || !this.currentLink.source || this.currentLink.source.id === this.componentId){\n        this.finishLinking();\n        this.canvas\n          .on('mousemove', null)\n          .on('mouseup', null)\n        return;\n      }\n\n      let xy1; \n      let xy0;\n      const canvas = d3.select('.svg-canvas')\n\n      xy0 = this.currentLink.source.pos;\n      xy1 = this.onclickPos(e.target.getAttribute('pos'))\n\n      \n      this.$store.dispatch('setCurrentLink', {\n        id: this.componentId, \n        pos: xy1, \n        in_out: 'target'\n      })\n      \n      \n      // let d = this.linkD(canvas, {source: xy0, target: xy1}, this.currentLink.source.id+'_'+this.currentLink.target.id) \n      \n      let linkD = this.linkD({source: xy0, target: xy1});\n\n      this.$store.dispatch('link/addComp', {\n        id: this.currentLink.source.id+'_'+this.currentLink.target.id,\n        source: this.currentLink.source.id, \n        sourcePos: this.currentLink.source.pos, \n        sourceBtn: 'right-btn-icon',\n        target: this.currentLink.target.id, \n        targetPos: this.currentLink.target.pos, \n        targetBtn: e.target.getAttribute('pos'),\n        d: linkD\n      })\n\n\n      const sourceType = this.currentLink.source.id.split('-')[1];\n      const targetType = this.currentLink.target.id.split('-')[1];\n      \n\n      // this.$store.dispatch(`${sourceType}/addLink`, {\n      //   id: this.currentLink.source.id+'_'+this.currentLink.target.id,\n      //   source: this.currentLink.source.id, \n      //   sourcePos: this.currentLink.source.pos, \n      //   sourceBtn: 'right-btn-icon',\n      //   target: this.currentLink.target.id, \n      //   targetPos: this.currentLink.target.pos, \n      //   targetBtn: e.target.getAttribute('pos'),\n      //   d: linkD,\n      //   status: 'source'\n      // })\n\n      // this.$store.dispatch(`${targetType}/addLink`, {\n      //   id: this.currentLink.source.id+'_'+this.currentLink.target.id,\n      //   source: this.currentLink.source.id, \n      //   sourcePos: this.currentLink.source.pos, \n      //   sourceBtn: 'right-btn-icon',\n      //   target: this.currentLink.target.id, \n      //   targetPos: this.currentLink.target.pos, \n      //   targetBtn: e.target.getAttribute('pos'),\n      //   d: linkD,\n      //   status: 'target'\n      // })\n      // remove the currentLinking and dispatch the status in store\n      this.finishLinking();\n     \n    },\n\n    finishLinking(){\n      if(this.drawLink){\n        // Draw Link First and then remove the drawing one\n        this.canvas.selectAll('.drawing').attr('d', null); \n        this.canvas.on('mousemove', null);\n        this.canvas.on('mouseup', null)\n        this.keep = false;\n        // Finish drawing Link\n        this.$store.dispatch('changeLinkDrawingStatus', false);\n      }\n    },\n\n    linkD(data){\n      const line = d3.linkHorizontal()\n                   .x(d=>d[0])\n                   .y(d=>d[1])\n\n      return line(data);\n      \n    }, \n\n    // Input the position of a button and get is central pos \n    onclickPos(pos){\n      if(pos.includes('right')){\n        this.rightBtn = true;\n        return this.onclickPosRight()\n      } else if(pos.includes('top')){\n        this.topBtn = true\n        return this.onclickPosTop()\n      } else if(pos.includes('left')){\n        this.leftBtn = true\n        return this.onclickPosLeft()\n      }\n\n    }, \n    onclickPosRight(){\n      const x = parseInt(this.marginLeft) + parseInt(this.width) + 14; \n      const y = parseInt(this.marginTop) + parseInt(this.height) / 2; \n      return [x, y]\n    },\n\n    onclickPosTop(){\n      const x = parseInt(this.marginLeft) + parseInt(this.width/2); \n      const y = parseInt(this.marginTop) - 14; \n      return [x, y]\n    },\n\n    onclickPosLeft(){\n      const x = parseInt(this.marginLeft) - 14; \n      const y = parseInt(this.marginTop) +  parseInt(this.height) / 2; \n      return [x, y]\n    },\n    \n    temp(){\n      const cardType = this.componentId.split('-')[1];\n      const thisComp = this[cardType].cards.filter(card => card.id == this.componentId)[0]\n      if(!thisComp.sourceLink && !thisComp.targetLink){\n        return ;\n      }\n      if(thisComp.sourceLink){\n        thisComp.sourceLink.forEach(link => {\n          const newXy0 = this.onclickPos(link.sourceBtn);\n          link.sourcePos = newXy0\n          const xy1 = link.targetPos;\n          const newD = this.linkD({\n            source: newXy0,\n            target: xy1\n          }) \n          link.d = newD;\n\n\n          link.status = 'source';\n          this.$store.dispatch('link/updateComp', link)\n          this.$store.dispatch(`${cardType}/updateLink`, link)\n        })\n      }\n      if(thisComp.targetLink){\n        thisComp.targetLink.forEach(link => {\n          const newXy1 = this.onclickPos(link.targetBtn);\n          link.targetPos = newXy1;\n          const xy0 = link.sourcePos;\n          const newD = this.linkD({\n            source: xy0,\n            target: newXy1\n          }) \n          link.d = newD;\n\n          link.status = 'target'\n          this.$store.dispatch('link/updateComp', link)\n          this.$store.dispatch(`${cardType}/updateLink`, link)\n        })\n      }\n      \n    }\n  },\n  created(){\n  },\n\n  computed: {\n    ...mapState(['url','codeeditor','kgquerier','currentLink','drawLink', 'documents', 'globalview', 'corpus', 'topics', 'ontology', 'graph', 'table2cypher', 'graphviewer', 'vegacharter','ontparser'])\n  },\n\n  watch:{\n    marginLeft: function (){\n      // console.log('left change!!!')\n      this.temp();\n    }, \n    marginTop: function(){\n      // console.log('top change!!!')\n      this.temp();\n    },\n    width: function(){\n      // console.log('width change !!!')\n      this.temp();\n    },\n    height: function(){\n      // console.log('height change !!!')\n      this.temp();\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}